var $u=Object.defineProperty;var fa=t=>{throw TypeError(t)};var Du=(t,e,r)=>e in t?$u(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var D=(t,e,r)=>Du(t,typeof e!="symbol"?e+"":e,r),Qi=(t,e,r)=>e.has(t)||fa("Cannot "+r);var g=(t,e,r)=>(Qi(t,e,"read from private field"),r?r.call(t):e.get(t)),ce=(t,e,r)=>e.has(t)?fa("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),z=(t,e,r,n)=>(Qi(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),$=(t,e,r)=>(Qi(t,e,"access private method"),r);var Gn=(t,e,r,n)=>({set _(i){z(t,e,i,r)},get _(){return g(t,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();const zu={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Ga={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},be={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Re={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Rt={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class x{static getFirstMatch(e,r){const n=r.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,r){const n=r.match(e);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(e,r,n){if(e.test(r))return n}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,r,n=!1){const i=x.getVersionPrecision(e),o=x.getVersionPrecision(r);let l=Math.max(i,o),c=0;const d=x.map([e,r],f=>{const y=l-x.getVersionPrecision(f),w=f+new Array(y+1).join(".0");return x.map(w.split("."),b=>new Array(20-b.length).join("0")+b).reverse()});for(n&&(c=l-Math.min(i,o)),l-=1;l>=c;){if(d[0][l]>d[1][l])return 1;if(d[0][l]===d[1][l]){if(l===c)return 0;l-=1}else if(d[0][l]<d[1][l])return-1}}static map(e,r){const n=[];let i;if(Array.prototype.map)return Array.prototype.map.call(e,r);for(i=0;i<e.length;i+=1)n.push(r(e[i]));return n}static find(e,r){let n,i;if(Array.prototype.find)return Array.prototype.find.call(e,r);for(n=0,i=e.length;n<i;n+=1){const o=e[n];if(r(o,n))return o}}static assign(e,...r){const n=e;let i,o;if(Object.assign)return Object.assign(e,...r);for(i=0,o=r.length;i<o;i+=1){const l=r[i];typeof l=="object"&&l!==null&&Object.keys(l).forEach(d=>{n[d]=l[d]})}return e}static getBrowserAlias(e){return zu[e]}static getBrowserTypeByAlias(e){return Ga[e]||""}}const fe=/version\/(\d+(\.?_?\d+)+)/i,Vu=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},r=x.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||x.getFirstMatch(fe,t);return r&&(e.version=r),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},r=x.getFirstMatch(fe,t)||x.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},r=x.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||x.getFirstMatch(fe,t);return r&&(e.version=r),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},r=x.getFirstMatch(fe,t)||x.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},r=x.getFirstMatch(fe,t)||x.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},r=x.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||x.getFirstMatch(fe,t);return r&&(e.version=r),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},r=x.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||x.getFirstMatch(fe,t);return r&&(e.version=r),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},r=x.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||x.getFirstMatch(fe,t);return r&&(e.version=r),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},r=x.getFirstMatch(fe,t)||x.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},r=x.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||x.getFirstMatch(fe,t);return r&&(e.version=r),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},r=x.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||x.getFirstMatch(fe,t);return r&&(e.version=r),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},r=x.getFirstMatch(fe,t)||x.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},r=x.getFirstMatch(fe,t)||x.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},r=x.getFirstMatch(fe,t)||x.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},r=x.getFirstMatch(fe,t)||x.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},r=x.getFirstMatch(fe,t)||x.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},r=x.getFirstMatch(fe,t)||x.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},r=x.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||x.getFirstMatch(fe,t);return r&&(e.version=r),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=x.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||x.getFirstMatch(fe,t);return r&&(e.version=r),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},r=x.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},r=x.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},r=x.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},r=x.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},r=x.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},r=x.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(e.version=r),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},r=x.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},r=x.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},r=x.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},r=x.getFirstMatch(fe,t)||x.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},r=x.getFirstMatch(fe,t)||x.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},r=x.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},r=x.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||x.getFirstMatch(fe,t);return r&&(e.version=r),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},r=x.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||x.getFirstMatch(fe,t);return r&&(e.version=r),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},r=x.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},r=x.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},r=x.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},r=x.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||x.getFirstMatch(fe,t);return r&&(e.version=r),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},r=x.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},r=x.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e={name:"Android Browser"},r=x.getFirstMatch(fe,t);return r&&(e.version=r),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},r=x.getFirstMatch(fe,t);return r&&(e.version=r),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},r=x.getFirstMatch(fe,t);return r&&(e.version=r),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,i=t.search("\\(")!==-1?r:e;return{name:x.getFirstMatch(i,t),version:x.getSecondMatch(i,t)}}}],Wu=[{test:[/Roku\/DVP/],describe(t){const e=x.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:Re.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=x.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:Re.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=x.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=x.getWindowsVersionName(e);return{name:Re.Windows,version:e,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:Re.iOS},r=x.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(e.version=r),e}},{test:[/macintosh/i],describe(t){const e=x.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=x.getMacOSVersionName(e),n={name:Re.MacOS,version:e};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=x.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:Re.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e=x.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=x.getAndroidVersionName(e),n={name:Re.Android,version:e};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=x.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:Re.WebOS};return e&&e.length&&(r.version=e),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=x.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||x.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||x.getFirstMatch(/\bbb(\d+)/i,t);return{name:Re.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=x.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:Re.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=x.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:Re.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:Re.Linux}}},{test:[/CrOS/],describe(){return{name:Re.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=x.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:Re.PlayStation4,version:e}}}],Gu=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=x.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:be.mobile,vendor:"Huawei"};return e&&(r.model=e),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:be.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:be.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:be.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:be.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:be.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:be.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return e&&!r},describe(t){const e=x.getFirstMatch(/(ipod|iphone)/i,t);return{type:be.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:be.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:be.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:be.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:be.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:be.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:be.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:be.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:be.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:be.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:be.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:be.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:be.tv}}}],qu=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:Rt.Blink};const r=x.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:Rt.EdgeHTML,version:r}}},{test:[/trident/i],describe(t){const e={name:Rt.Trident},r=x.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:Rt.Presto},r=x.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=t.test(/gecko/i),r=t.test(/like gecko/i);return e&&!r},describe(t){const e={name:Rt.Gecko},r=x.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Rt.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:Rt.WebKit},r=x.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}}];class pa{constructor(e,r=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=x.find(Vu,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=x.find(Wu,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:r}=this.getOS();return e?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:r}=this.getPlatform();return e?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const e=x.find(Gu,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=x.find(qu,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return x.assign({},this.parsedResult)}satisfies(e){const r={};let n=0;const i={};let o=0;if(Object.keys(e).forEach(c=>{const d=e[c];typeof d=="string"?(i[c]=d,o+=1):typeof d=="object"&&(r[c]=d,n+=1)}),n>0){const c=Object.keys(r),d=x.find(c,y=>this.isOS(y));if(d){const y=this.satisfies(r[d]);if(y!==void 0)return y}const f=x.find(c,y=>this.isPlatform(y));if(f){const y=this.satisfies(r[f]);if(y!==void 0)return y}}if(o>0){const c=Object.keys(i),d=x.find(c,f=>this.isBrowser(f,!0));if(d!==void 0)return this.compareVersion(i[d])}}isBrowser(e,r=!1){const n=this.getBrowserName().toLowerCase();let i=e.toLowerCase();const o=x.getBrowserTypeByAlias(i);return r&&o&&(i=o.toLowerCase()),i===n}compareVersion(e){let r=[0],n=e,i=!1;const o=this.getBrowserVersion();if(typeof o=="string")return e[0]===">"||e[0]==="<"?(n=e.substr(1),e[1]==="="?(i=!0,n=e.substr(2)):r=[],e[0]===">"?r.push(1):r.push(-1)):e[0]==="="?n=e.substr(1):e[0]==="~"&&(i=!0,n=e.substr(1)),r.indexOf(x.compareVersions(o,n,i))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,r=!1){return this.isBrowser(e,r)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Hu{static getParser(e,r=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new pa(e,r)}static parse(e){return new pa(e).getResult()}static get BROWSER_MAP(){return Ga}static get ENGINE_MAP(){return Rt}static get OS_MAP(){return Re}static get PLATFORMS_MAP(){return be}}class Ku{constructor(){D(this,"button");D(this,"modal");D(this,"shareLinks");D(this,"currentURL");this.currentURL=window.location.href,this.button=document.getElementById("share"),this.modal=document.createElement("div"),this.shareLinks=[{name:"Facebook",href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(this.currentURL)}`},{name:"Twitter",href:`https://twitter.com/intent/tweet?url=${encodeURIComponent(this.currentURL)}&text=Check out this page!`},{name:"LinkedIn",href:`https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(this.currentURL)}&title=Check out this page!`},{name:"WhatsApp",href:`https://wa.me/?text=${encodeURIComponent(`Check out this page! ${this.currentURL}`)}`},{name:"Pinterest",href:`https://pinterest.com/pin/create/button/?url=${encodeURIComponent(this.currentURL)}&description=Check out this page!`},{name:"Reddit",href:`https://reddit.com/submit?url=${encodeURIComponent(this.currentURL)}&title=Check out this page!`},{name:"Telegram",href:`https://t.me/share/url?url=${encodeURIComponent(this.currentURL)}&text=Check out this page!`},{name:"Email",href:`mailto:?subject=${encodeURIComponent("Check out this page!")}&body=${encodeURIComponent(`I found this page interesting and thought you might like it: ${this.currentURL}`)}`}],this.init()}init(){this.createModal(),this.attachEventListeners()}createModal(){this.modal.className="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4 hidden",this.modal.innerHTML=`
      <div class="bg-white rounded-lg shadow-xl p-6 w-full max-w-md m-4">
        <button id="closeModal" class="text-gray-500 hover:text-gray-700 text-2xl font-bold cursor-pointer float-right">&times;</button>
        <h2 class="text-2xl font-bold mb-4 text-gray-800">Share this page</h2>
        <div class="grid grid-cols-2 sm:grid-cols-3 gap-3">
          ${this.shareLinks.map(e=>`
            <a href="${e.href}" target="_blank" rel="noopener noreferrer" class="flex items-center justify-center space-x-2 bg-gray-100 hover:bg-gray-200 text-gray-800 py-2 px-3 rounded-full transition duration-300 ease-in-out">
            <span class="text-sm">${e.name}</span>
            </a>
          `).join("")}
        </div>
        <button id="copyLink" class="w-full mt-4 bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-full transition duration-300 ease-in-out">
          🔗 Copy Link
        </button>
      </div>
    `,document.body.appendChild(this.modal)}attachEventListeners(){var e,r;this.button.addEventListener("click",()=>this.openModal()),(e=this.modal.querySelector("#closeModal"))==null||e.addEventListener("click",()=>this.closeModal()),this.modal.addEventListener("click",n=>{n.target===this.modal&&this.closeModal()}),(r=this.modal.querySelector("#copyLink"))==null||r.addEventListener("click",()=>this.copyLink())}openModal(){this.modal.classList.remove("hidden")}closeModal(){this.modal.classList.add("hidden")}copyLink(){navigator.clipboard.writeText(this.currentURL).then(()=>{alert("Link copied to clipboard!")}).catch(e=>{console.error("Error copying link:",e)})}}/**
 * uuidv7: A JavaScript implementation of UUID version 7
 *
 * Copyright 2021-2024 LiosK
 *
 * @license Apache-2.0
 * @packageDocumentation
 */const qn="0123456789abcdef";class qt{constructor(e){this.bytes=e}static ofInner(e){if(e.length!==16)throw new TypeError("not 128-bit length");return new qt(e)}static fromFieldsV7(e,r,n,i){if(!Number.isInteger(e)||!Number.isInteger(r)||!Number.isInteger(n)||!Number.isInteger(i)||e<0||r<0||n<0||i<0||e>0xffffffffffff||r>4095||n>1073741823||i>4294967295)throw new RangeError("invalid field value");const o=new Uint8Array(16);return o[0]=e/2**40,o[1]=e/2**32,o[2]=e/2**24,o[3]=e/2**16,o[4]=e/2**8,o[5]=e,o[6]=112|r>>>8,o[7]=r,o[8]=128|n>>>24,o[9]=n>>>16,o[10]=n>>>8,o[11]=n,o[12]=i>>>24,o[13]=i>>>16,o[14]=i>>>8,o[15]=i,new qt(o)}static parse(e){var r,n,i,o;let l;switch(e.length){case 32:l=(r=/^[0-9a-f]{32}$/i.exec(e))===null||r===void 0?void 0:r[0];break;case 36:l=(n=/^([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(e))===null||n===void 0?void 0:n.slice(1,6).join("");break;case 38:l=(i=/^\{([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})\}$/i.exec(e))===null||i===void 0?void 0:i.slice(1,6).join("");break;case 45:l=(o=/^urn:uuid:([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(e))===null||o===void 0?void 0:o.slice(1,6).join("");break}if(l){const c=new Uint8Array(16);for(let d=0;d<16;d+=4){const f=parseInt(l.substring(2*d,2*d+8),16);c[d+0]=f>>>24,c[d+1]=f>>>16,c[d+2]=f>>>8,c[d+3]=f}return new qt(c)}else throw new SyntaxError("could not parse UUID string")}toString(){let e="";for(let r=0;r<this.bytes.length;r++)e+=qn.charAt(this.bytes[r]>>>4),e+=qn.charAt(this.bytes[r]&15),(r===3||r===5||r===7||r===9)&&(e+="-");return e}toHex(){let e="";for(let r=0;r<this.bytes.length;r++)e+=qn.charAt(this.bytes[r]>>>4),e+=qn.charAt(this.bytes[r]&15);return e}toJSON(){return this.toString()}getVariant(){const e=this.bytes[8]>>>4;if(e<0)throw new Error("unreachable");if(e<=7)return this.bytes.every(r=>r===0)?"NIL":"VAR_0";if(e<=11)return"VAR_10";if(e<=13)return"VAR_110";if(e<=15)return this.bytes.every(r=>r===255)?"MAX":"VAR_RESERVED";throw new Error("unreachable")}getVersion(){return this.getVariant()==="VAR_10"?this.bytes[6]>>>4:void 0}clone(){return new qt(this.bytes.slice(0))}equals(e){return this.compareTo(e)===0}compareTo(e){for(let r=0;r<16;r++){const n=this.bytes[r]-e.bytes[r];if(n!==0)return Math.sign(n)}return 0}}class Yu{constructor(e){this.timestamp=0,this.counter=0,this.random=e??Qu()}generate(){return this.generateOrResetCore(Date.now(),1e4)}generateOrAbort(){return this.generateOrAbortCore(Date.now(),1e4)}generateOrResetCore(e,r){let n=this.generateOrAbortCore(e,r);return n===void 0&&(this.timestamp=0,n=this.generateOrAbortCore(e,r)),n}generateOrAbortCore(e,r){if(!Number.isInteger(e)||e<1||e>0xffffffffffff)throw new RangeError("`unixTsMs` must be a 48-bit positive integer");if(r<0||r>0xffffffffffff)throw new RangeError("`rollbackAllowance` out of reasonable range");if(e>this.timestamp)this.timestamp=e,this.resetCounter();else if(e+r>=this.timestamp)this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter());else return;return qt.fromFieldsV7(this.timestamp,Math.trunc(this.counter/2**30),this.counter&2**30-1,this.random.nextUint32())}resetCounter(){this.counter=this.random.nextUint32()*1024+(this.random.nextUint32()&1023)}generateV4(){const e=new Uint8Array(Uint32Array.of(this.random.nextUint32(),this.random.nextUint32(),this.random.nextUint32(),this.random.nextUint32()).buffer);return e[6]=64|e[6]>>>4,e[8]=128|e[8]>>>2,qt.ofInner(e)}}const Qu=()=>{if(typeof crypto<"u"&&typeof crypto.getRandomValues<"u")return new Xu;if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");return{nextUint32:()=>Math.trunc(Math.random()*65536)*65536+Math.trunc(Math.random()*65536)}};class Xu{constructor(){this.buffer=new Uint32Array(8),this.cursor=65535}nextUint32(){return this.cursor>=this.buffer.length&&(crypto.getRandomValues(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}let ma;const Ju=()=>ec().toString(),ec=()=>(ma||(ma=new Yu)).generate();var tc={},rc=Object.create,Ns=Object.defineProperty,nc=Object.getOwnPropertyDescriptor,qa=Object.getOwnPropertyNames,ic=Object.getPrototypeOf,sc=Object.prototype.hasOwnProperty,Ge=(t,e)=>function(){return e||(0,t[qa(t)[0]])((e={exports:{}}).exports,e),e.exports},Ha=(t,e)=>{for(var r in e)Ns(t,r,{get:e[r],enumerable:!0})},ac=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of qa(e))!sc.call(t,i)&&i!==r&&Ns(t,i,{get:()=>e[i],enumerable:!(n=nc(e,i))||n.enumerable});return t},Ps=(t,e,r)=>(r=t!=null?rc(ic(t)):{},ac(Ns(r,"default",{value:t,enumerable:!0}),t)),oc=Ge({"node_modules/obliterator/iterator.js"(t,e){function r(n){if(typeof n!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=n}typeof Symbol<"u"&&(r.prototype[Symbol.iterator]=function(){return this}),r.of=function(){var n=arguments,i=n.length,o=0;return new r(function(){return o>=i?{done:!0}:{done:!1,value:n[o++]}})},r.empty=function(){var n=new r(function(){return{done:!0}});return n},r.fromSequence=function(n){var i=0,o=n.length;return new r(function(){return i>=o?{done:!0}:{done:!1,value:n[i++]}})},r.is=function(n){return n instanceof r?!0:typeof n=="object"&&n!==null&&typeof n.next=="function"},e.exports=r}}),uc=Ge({"node_modules/obliterator/support.js"(t){t.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u",t.SYMBOL_SUPPORT=typeof Symbol<"u"}}),js=Ge({"node_modules/obliterator/foreach.js"(t,e){var r=uc(),n=r.ARRAY_BUFFER_SUPPORT,i=r.SYMBOL_SUPPORT;e.exports=function(l,c){var d,f,y,w,b;if(!l)throw new Error("obliterator/forEach: invalid iterable.");if(typeof c!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(l)||n&&ArrayBuffer.isView(l)||typeof l=="string"||l.toString()==="[object Arguments]"){for(y=0,w=l.length;y<w;y++)c(l[y],y);return}if(typeof l.forEach=="function"){l.forEach(c);return}if(i&&Symbol.iterator in l&&typeof l.next!="function"&&(l=l[Symbol.iterator]()),typeof l.next=="function"){for(d=l,y=0;b=d.next(),b.done!==!0;)c(b.value,y),y++;return}for(f in l)l.hasOwnProperty(f)&&c(l[f],f)}}}),Fs=Ge({"node_modules/mnemonist/utils/typed-arrays.js"(t){var e=Math.pow(2,8)-1,r=Math.pow(2,16)-1,n=Math.pow(2,32)-1,i=Math.pow(2,7)-1,o=Math.pow(2,15)-1,l=Math.pow(2,31)-1;t.getPointerArray=function(d){var f=d-1;if(f<=e)return Uint8Array;if(f<=r)return Uint16Array;if(f<=n)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},t.getSignedPointerArray=function(d){var f=d-1;return f<=i?Int8Array:f<=o?Int16Array:f<=l?Int32Array:Float64Array},t.getNumberType=function(d){return d===(d|0)?Math.sign(d)===-1?d<=127&&d>=-128?Int8Array:d<=32767&&d>=-32768?Int16Array:Int32Array:d<=255?Uint8Array:d<=65535?Uint16Array:Uint32Array:Float64Array};var c={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};t.getMinimalRepresentation=function(d,f){var y=null,w=0,b,E,_,S,k;for(S=0,k=d.length;S<k;S++)_=f?f(d[S]):d[S],E=t.getNumberType(_),b=c[E.name],b>w&&(w=b,y=E);return y},t.isTypedArray=function(d){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(d)},t.concat=function(){var d=0,f,y,w;for(f=0,w=arguments.length;f<w;f++)d+=arguments[f].length;var b=new arguments[0].constructor(d);for(f=0,y=0;f<w;f++)b.set(arguments[f],y),y+=arguments[f].length;return b},t.indices=function(d){for(var f=t.getPointerArray(d),y=new f(d),w=0;w<d;w++)y[w]=w;return y}}}),Ka=Ge({"node_modules/mnemonist/utils/iterables.js"(t){var e=js(),r=Fs();function n(c){return Array.isArray(c)||r.isTypedArray(c)}function i(c){if(typeof c.length=="number")return c.length;if(typeof c.size=="number")return c.size}function o(c){var d=i(c),f=typeof d=="number"?new Array(d):[],y=0;return e(c,function(w){f[y++]=w}),f}function l(c){var d=i(c),f=typeof d=="number"?r.getPointerArray(d):Array,y=typeof d=="number"?new Array(d):[],w=typeof d=="number"?new f(d):[],b=0;return e(c,function(E){y[b]=E,w[b]=b++}),[y,w]}t.isArrayLike=n,t.guessLength=i,t.toArray=o,t.toArrayWithIndices=l}}),cc=Ge({"node_modules/mnemonist/lru-cache.js"(t,e){var r=oc(),n=js(),i=Fs(),o=Ka();function l(c,d,f){if(arguments.length<2&&(f=c,c=null,d=null),this.capacity=f,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");if(!isFinite(this.capacity)||Math.floor(this.capacity)!==this.capacity)throw new Error("mnemonist/lru-cache: capacity should be a finite positive integer.");var y=i.getPointerArray(f);this.forward=new y(f),this.backward=new y(f),this.K=typeof c=="function"?new c(f):new Array(f),this.V=typeof d=="function"?new d(f):new Array(f),this.size=0,this.head=0,this.tail=0,this.items={}}l.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}},l.prototype.splayOnTop=function(c){var d=this.head;if(this.head===c)return this;var f=this.backward[c],y=this.forward[c];return this.tail===c?this.tail=f:this.backward[y]=f,this.forward[f]=y,this.backward[d]=c,this.head=c,this.forward[c]=d,this},l.prototype.set=function(c,d){var f=this.items[c];if(typeof f<"u"){this.splayOnTop(f),this.V[f]=d;return}this.size<this.capacity?f=this.size++:(f=this.tail,this.tail=this.backward[f],delete this.items[this.K[f]]),this.items[c]=f,this.K[f]=c,this.V[f]=d,this.forward[f]=this.head,this.backward[this.head]=f,this.head=f},l.prototype.setpop=function(c,d){var f=null,y=null,w=this.items[c];return typeof w<"u"?(this.splayOnTop(w),f=this.V[w],this.V[w]=d,{evicted:!1,key:c,value:f}):(this.size<this.capacity?w=this.size++:(w=this.tail,this.tail=this.backward[w],f=this.V[w],y=this.K[w],delete this.items[y]),this.items[c]=w,this.K[w]=c,this.V[w]=d,this.forward[w]=this.head,this.backward[this.head]=w,this.head=w,y?{evicted:!0,key:y,value:f}:null)},l.prototype.has=function(c){return c in this.items},l.prototype.get=function(c){var d=this.items[c];if(!(typeof d>"u"))return this.splayOnTop(d),this.V[d]},l.prototype.peek=function(c){var d=this.items[c];if(!(typeof d>"u"))return this.V[d]},l.prototype.forEach=function(c,d){d=arguments.length>1?d:this;for(var f=0,y=this.size,w=this.head,b=this.K,E=this.V,_=this.forward;f<y;)c.call(d,E[w],b[w],this),w=_[w],f++},l.prototype.keys=function(){var c=0,d=this.size,f=this.head,y=this.K,w=this.forward;return new r(function(){if(c>=d)return{done:!0};var b=y[f];return c++,c<d&&(f=w[f]),{done:!1,value:b}})},l.prototype.values=function(){var c=0,d=this.size,f=this.head,y=this.V,w=this.forward;return new r(function(){if(c>=d)return{done:!0};var b=y[f];return c++,c<d&&(f=w[f]),{done:!1,value:b}})},l.prototype.entries=function(){var c=0,d=this.size,f=this.head,y=this.K,w=this.V,b=this.forward;return new r(function(){if(c>=d)return{done:!0};var E=y[f],_=w[f];return c++,c<d&&(f=b[f]),{done:!1,value:[E,_]}})},typeof Symbol<"u"&&(l.prototype[Symbol.iterator]=l.prototype.entries),l.prototype.inspect=function(){for(var c=new Map,d=this.entries(),f;f=d.next(),!f.done;)c.set(f.value[0],f.value[1]);return Object.defineProperty(c,"constructor",{value:l,enumerable:!1}),c},typeof Symbol<"u"&&(l.prototype[Symbol.for("nodejs.util.inspect.custom")]=l.prototype.inspect),l.from=function(c,d,f,y){if(arguments.length<2){if(y=o.guessLength(c),typeof y!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(y=d,d=null,f=null);var w=new l(d,f,y);return n(c,function(b,E){w.set(E,b)}),w},e.exports=l}}),lc=Ge({"node_modules/mnemonist/lru-map.js"(t,e){var r=cc(),n=js(),i=Fs(),o=Ka();function l(c,d,f){if(arguments.length<2&&(f=c,c=null,d=null),this.capacity=f,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-map: capacity should be positive number.");if(!isFinite(this.capacity)||Math.floor(this.capacity)!==this.capacity)throw new Error("mnemonist/lru-map: capacity should be a finite positive integer.");var y=i.getPointerArray(f);this.forward=new y(f),this.backward=new y(f),this.K=typeof c=="function"?new c(f):new Array(f),this.V=typeof d=="function"?new d(f):new Array(f),this.size=0,this.head=0,this.tail=0,this.items=new Map}l.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items.clear()},l.prototype.set=function(c,d){var f=this.items.get(c);if(typeof f<"u"){this.splayOnTop(f),this.V[f]=d;return}this.size<this.capacity?f=this.size++:(f=this.tail,this.tail=this.backward[f],this.items.delete(this.K[f])),this.items.set(c,f),this.K[f]=c,this.V[f]=d,this.forward[f]=this.head,this.backward[this.head]=f,this.head=f},l.prototype.setpop=function(c,d){var f=null,y=null,w=this.items.get(c);return typeof w<"u"?(this.splayOnTop(w),f=this.V[w],this.V[w]=d,{evicted:!1,key:c,value:f}):(this.size<this.capacity?w=this.size++:(w=this.tail,this.tail=this.backward[w],f=this.V[w],y=this.K[w],this.items.delete(y)),this.items.set(c,w),this.K[w]=c,this.V[w]=d,this.forward[w]=this.head,this.backward[this.head]=w,this.head=w,y?{evicted:!0,key:y,value:f}:null)},l.prototype.has=function(c){return this.items.has(c)},l.prototype.get=function(c){var d=this.items.get(c);if(!(typeof d>"u"))return this.splayOnTop(d),this.V[d]},l.prototype.peek=function(c){var d=this.items.get(c);if(!(typeof d>"u"))return this.V[d]},l.prototype.splayOnTop=r.prototype.splayOnTop,l.prototype.forEach=r.prototype.forEach,l.prototype.keys=r.prototype.keys,l.prototype.values=r.prototype.values,l.prototype.entries=r.prototype.entries,typeof Symbol<"u"&&(l.prototype[Symbol.iterator]=l.prototype.entries),l.prototype.inspect=r.prototype.inspect,l.from=function(c,d,f,y){if(arguments.length<2){if(y=o.guessLength(c),typeof y!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(y=d,d=null,f=null);var w=new l(d,f,y);return n(c,function(b,E){w.set(E,b)}),w},e.exports=l}}),dc=Ge({"node_modules/ms/index.js"(t,e){var r=1e3,n=r*60,i=n*60,o=i*24,l=o*7,c=o*365.25;e.exports=function(b,E){E=E||{};var _=typeof b;if(_==="string"&&b.length>0)return d(b);if(_==="number"&&isFinite(b))return E.long?y(b):f(b);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(b))};function d(b){if(b=String(b),!(b.length>100)){var E=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(b);if(E){var _=parseFloat(E[1]),S=(E[2]||"ms").toLowerCase();switch(S){case"years":case"year":case"yrs":case"yr":case"y":return _*c;case"weeks":case"week":case"w":return _*l;case"days":case"day":case"d":return _*o;case"hours":case"hour":case"hrs":case"hr":case"h":return _*i;case"minutes":case"minute":case"mins":case"min":case"m":return _*n;case"seconds":case"second":case"secs":case"sec":case"s":return _*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return _;default:return}}}}function f(b){var E=Math.abs(b);return E>=o?Math.round(b/o)+"d":E>=i?Math.round(b/i)+"h":E>=n?Math.round(b/n)+"m":E>=r?Math.round(b/r)+"s":b+"ms"}function y(b){var E=Math.abs(b);return E>=o?w(b,E,o,"day"):E>=i?w(b,E,i,"hour"):E>=n?w(b,E,n,"minute"):E>=r?w(b,E,r,"second"):b+" ms"}function w(b,E,_,S){var k=E>=_*1.5;return Math.round(b/_)+" "+S+(k?"s":"")}}}),hc=Ge({"node_modules/debug/src/common.js"(t,e){function r(n){o.debug=o,o.default=o,o.coerce=w,o.disable=d,o.enable=c,o.enabled=f,o.humanize=dc(),o.destroy=b,Object.keys(n).forEach(E=>{o[E]=n[E]}),o.names=[],o.skips=[],o.formatters={};function i(E){let _=0;for(let S=0;S<E.length;S++)_=(_<<5)-_+E.charCodeAt(S),_|=0;return o.colors[Math.abs(_)%o.colors.length]}o.selectColor=i;function o(E){let _,S=null,k,C;function U(...R){if(!U.enabled)return;const j=U,Y=Number(new Date),J=Y-(_||Y);j.diff=J,j.prev=_,j.curr=Y,_=Y,R[0]=o.coerce(R[0]),typeof R[0]!="string"&&R.unshift("%O");let we=0;R[0]=R[0].replace(/%([a-zA-Z%])/g,(dt,Br)=>{if(dt==="%%")return"%";we++;const ar=o.formatters[Br];if(typeof ar=="function"){const Mr=R[we];dt=ar.call(j,Mr),R.splice(we,1),we--}return dt}),o.formatArgs.call(j,R),(j.log||o.log).apply(j,R)}return U.namespace=E,U.useColors=o.useColors(),U.color=o.selectColor(E),U.extend=l,U.destroy=o.destroy,Object.defineProperty(U,"enabled",{enumerable:!0,configurable:!1,get:()=>S!==null?S:(k!==o.namespaces&&(k=o.namespaces,C=o.enabled(E)),C),set:R=>{S=R}}),typeof o.init=="function"&&o.init(U),U}function l(E,_){const S=o(this.namespace+(typeof _>"u"?":":_)+E);return S.log=this.log,S}function c(E){o.save(E),o.namespaces=E,o.names=[],o.skips=[];let _;const S=(typeof E=="string"?E:"").split(/[\s,]+/),k=S.length;for(_=0;_<k;_++)S[_]&&(E=S[_].replace(/\*/g,".*?"),E[0]==="-"?o.skips.push(new RegExp("^"+E.slice(1)+"$")):o.names.push(new RegExp("^"+E+"$")))}function d(){const E=[...o.names.map(y),...o.skips.map(y).map(_=>"-"+_)].join(",");return o.enable(""),E}function f(E){if(E[E.length-1]==="*")return!0;let _,S;for(_=0,S=o.skips.length;_<S;_++)if(o.skips[_].test(E))return!1;for(_=0,S=o.names.length;_<S;_++)if(o.names[_].test(E))return!0;return!1}function y(E){return E.toString().substring(2,E.toString().length-2).replace(/\.\*\?$/,"*")}function w(E){return E instanceof Error?E.stack||E.message:E}function b(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o.enable(o.load()),o}e.exports=r}}),fc=Ge({"node_modules/debug/src/browser.js"(t,e){t.formatArgs=n,t.save=i,t.load=o,t.useColors=r,t.storage=l(),t.destroy=(()=>{let d=!1;return()=>{d||(d=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let d;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(d=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(d[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;d.splice(1,0,f,"color: inherit");let y=0,w=0;d[0].replace(/%[a-zA-Z%]/g,b=>{b!=="%%"&&(y++,b==="%c"&&(w=y))}),d.splice(w,0,f)}t.log=console.debug||console.log||(()=>{});function i(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function o(){let d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d=tc.DEBUG),d}function l(){try{return localStorage}catch{}}e.exports=hc()(t);var{formatters:c}=e.exports;c.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}}}),pc=Ge({"node_modules/base64-js/index.js"(t){t.byteLength=d,t.toByteArray=y,t.fromByteArray=E;var e=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(o=0,l=i.length;o<l;++o)e[o]=i[o],r[i.charCodeAt(o)]=o;var o,l;r[45]=62,r[95]=63;function c(_){var S=_.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=_.indexOf("=");k===-1&&(k=S);var C=k===S?0:4-k%4;return[k,C]}function d(_){var S=c(_),k=S[0],C=S[1];return(k+C)*3/4-C}function f(_,S,k){return(S+k)*3/4-k}function y(_){var S,k=c(_),C=k[0],U=k[1],R=new n(f(_,C,U)),j=0,Y=U>0?C-4:C,J;for(J=0;J<Y;J+=4)S=r[_.charCodeAt(J)]<<18|r[_.charCodeAt(J+1)]<<12|r[_.charCodeAt(J+2)]<<6|r[_.charCodeAt(J+3)],R[j++]=S>>16&255,R[j++]=S>>8&255,R[j++]=S&255;return U===2&&(S=r[_.charCodeAt(J)]<<2|r[_.charCodeAt(J+1)]>>4,R[j++]=S&255),U===1&&(S=r[_.charCodeAt(J)]<<10|r[_.charCodeAt(J+1)]<<4|r[_.charCodeAt(J+2)]>>2,R[j++]=S>>8&255,R[j++]=S&255),R}function w(_){return e[_>>18&63]+e[_>>12&63]+e[_>>6&63]+e[_&63]}function b(_,S,k){for(var C,U=[],R=S;R<k;R+=3)C=(_[R]<<16&16711680)+(_[R+1]<<8&65280)+(_[R+2]&255),U.push(w(C));return U.join("")}function E(_){for(var S,k=_.length,C=k%3,U=[],R=16383,j=0,Y=k-C;j<Y;j+=R)U.push(b(_,j,j+R>Y?Y:j+R));return C===1?(S=_[k-1],U.push(e[S>>2]+e[S<<4&63]+"==")):C===2&&(S=(_[k-2]<<8)+_[k-1],U.push(e[S>>10]+e[S>>4&63]+e[S<<2&63]+"=")),U.join("")}}}),mc=Ge({"node_modules/ieee754/index.js"(t){t.read=function(e,r,n,i,o){var l,c,d=o*8-i-1,f=(1<<d)-1,y=f>>1,w=-7,b=n?o-1:0,E=n?-1:1,_=e[r+b];for(b+=E,l=_&(1<<-w)-1,_>>=-w,w+=d;w>0;l=l*256+e[r+b],b+=E,w-=8);for(c=l&(1<<-w)-1,l>>=-w,w+=i;w>0;c=c*256+e[r+b],b+=E,w-=8);if(l===0)l=1-y;else{if(l===f)return c?NaN:(_?-1:1)*(1/0);c=c+Math.pow(2,i),l=l-y}return(_?-1:1)*c*Math.pow(2,l-i)},t.write=function(e,r,n,i,o,l){var c,d,f,y=l*8-o-1,w=(1<<y)-1,b=w>>1,E=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=i?0:l-1,S=i?1:-1,k=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(d=isNaN(r)?1:0,c=w):(c=Math.floor(Math.log(r)/Math.LN2),r*(f=Math.pow(2,-c))<1&&(c--,f*=2),c+b>=1?r+=E/f:r+=E*Math.pow(2,1-b),r*f>=2&&(c++,f/=2),c+b>=w?(d=0,c=w):c+b>=1?(d=(r*f-1)*Math.pow(2,o),c=c+b):(d=r*Math.pow(2,b-1)*Math.pow(2,o),c=0));o>=8;e[n+_]=d&255,_+=S,d/=256,o-=8);for(c=c<<o|d,y+=o;y>0;e[n+_]=c&255,_+=S,c/=256,y-=8);e[n+_-S]|=k*128}}}),gc=Ge({"node_modules/buffer/index.js"(t){var e=pc(),r=mc(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=U,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,c.TYPED_ARRAY_SUPPORT=o(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const a=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(a,s),a.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function l(a){if(a>i)throw new RangeError('The value "'+a+'" is invalid for option "size"');const s=new Uint8Array(a);return Object.setPrototypeOf(s,c.prototype),s}function c(a,s,u){if(typeof a=="number"){if(typeof s=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(a)}return d(a,s,u)}c.poolSize=8192;function d(a,s,u){if(typeof a=="string")return b(a,s);if(ArrayBuffer.isView(a))return _(a);if(a==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);if(_e(a,ArrayBuffer)||a&&_e(a.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(_e(a,SharedArrayBuffer)||a&&_e(a.buffer,SharedArrayBuffer)))return S(a,s,u);if(typeof a=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const h=a.valueOf&&a.valueOf();if(h!=null&&h!==a)return c.from(h,s,u);const p=k(a);if(p)return p;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof a[Symbol.toPrimitive]=="function")return c.from(a[Symbol.toPrimitive]("string"),s,u);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a)}c.from=function(a,s,u){return d(a,s,u)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function f(a){if(typeof a!="number")throw new TypeError('"size" argument must be of type number');if(a<0)throw new RangeError('The value "'+a+'" is invalid for option "size"')}function y(a,s,u){return f(a),a<=0?l(a):s!==void 0?typeof u=="string"?l(a).fill(s,u):l(a).fill(s):l(a)}c.alloc=function(a,s,u){return y(a,s,u)};function w(a){return f(a),l(a<0?0:C(a)|0)}c.allocUnsafe=function(a){return w(a)},c.allocUnsafeSlow=function(a){return w(a)};function b(a,s){if((typeof s!="string"||s==="")&&(s="utf8"),!c.isEncoding(s))throw new TypeError("Unknown encoding: "+s);const u=R(a,s)|0;let h=l(u);const p=h.write(a,s);return p!==u&&(h=h.slice(0,p)),h}function E(a){const s=a.length<0?0:C(a.length)|0,u=l(s);for(let h=0;h<s;h+=1)u[h]=a[h]&255;return u}function _(a){if(_e(a,Uint8Array)){const s=new Uint8Array(a);return S(s.buffer,s.byteOffset,s.byteLength)}return E(a)}function S(a,s,u){if(s<0||a.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(a.byteLength<s+(u||0))throw new RangeError('"length" is outside of buffer bounds');let h;return s===void 0&&u===void 0?h=new Uint8Array(a):u===void 0?h=new Uint8Array(a,s):h=new Uint8Array(a,s,u),Object.setPrototypeOf(h,c.prototype),h}function k(a){if(c.isBuffer(a)){const s=C(a.length)|0,u=l(s);return u.length===0||a.copy(u,0,0,s),u}if(a.length!==void 0)return typeof a.length!="number"||Gt(a.length)?l(0):E(a);if(a.type==="Buffer"&&Array.isArray(a.data))return E(a.data)}function C(a){if(a>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return a|0}function U(a){return+a!=a&&(a=0),c.alloc(+a)}c.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==c.prototype},c.compare=function(s,u){if(_e(s,Uint8Array)&&(s=c.from(s,s.offset,s.byteLength)),_e(u,Uint8Array)&&(u=c.from(u,u.offset,u.byteLength)),!c.isBuffer(s)||!c.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===u)return 0;let h=s.length,p=u.length;for(let m=0,v=Math.min(h,p);m<v;++m)if(s[m]!==u[m]){h=s[m],p=u[m];break}return h<p?-1:p<h?1:0},c.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(s,u){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return c.alloc(0);let h;if(u===void 0)for(u=0,h=0;h<s.length;++h)u+=s[h].length;const p=c.allocUnsafe(u);let m=0;for(h=0;h<s.length;++h){let v=s[h];if(_e(v,Uint8Array))m+v.length>p.length?(c.isBuffer(v)||(v=c.from(v)),v.copy(p,m)):Uint8Array.prototype.set.call(p,v,m);else if(c.isBuffer(v))v.copy(p,m);else throw new TypeError('"list" argument must be an Array of Buffers');m+=v.length}return p};function R(a,s){if(c.isBuffer(a))return a.length;if(ArrayBuffer.isView(a)||_e(a,ArrayBuffer))return a.byteLength;if(typeof a!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof a);const u=a.length,h=arguments.length>2&&arguments[2]===!0;if(!h&&u===0)return 0;let p=!1;for(;;)switch(s){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":return Wt(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u*2;case"hex":return u>>>1;case"base64":return zr(a).length;default:if(p)return h?-1:Wt(a).length;s=(""+s).toLowerCase(),p=!0}}c.byteLength=R;function j(a,s,u){let h=!1;if((s===void 0||s<0)&&(s=0),s>this.length||((u===void 0||u>this.length)&&(u=this.length),u<=0)||(u>>>=0,s>>>=0,u<=s))return"";for(a||(a="utf8");;)switch(a){case"hex":return Di(this,s,u);case"utf8":case"utf-8":return Lr(this,s,u);case"ascii":return Zi(this,s,u);case"latin1":case"binary":return $i(this,s,u);case"base64":return ji(this,s,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return zi(this,s,u);default:if(h)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),h=!0}}c.prototype._isBuffer=!0;function Y(a,s,u){const h=a[s];a[s]=a[u],a[u]=h}c.prototype.swap16=function(){const s=this.length;if(s%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let u=0;u<s;u+=2)Y(this,u,u+1);return this},c.prototype.swap32=function(){const s=this.length;if(s%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let u=0;u<s;u+=4)Y(this,u,u+3),Y(this,u+1,u+2);return this},c.prototype.swap64=function(){const s=this.length;if(s%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let u=0;u<s;u+=8)Y(this,u,u+7),Y(this,u+1,u+6),Y(this,u+2,u+5),Y(this,u+3,u+4);return this},c.prototype.toString=function(){const s=this.length;return s===0?"":arguments.length===0?Lr(this,0,s):j.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(s){if(!c.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s?!0:c.compare(this,s)===0},c.prototype.inspect=function(){let s="";const u=t.INSPECT_MAX_BYTES;return s=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(s+=" ... "),"<Buffer "+s+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(s,u,h,p,m){if(_e(s,Uint8Array)&&(s=c.from(s,s.offset,s.byteLength)),!c.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(u===void 0&&(u=0),h===void 0&&(h=s?s.length:0),p===void 0&&(p=0),m===void 0&&(m=this.length),u<0||h>s.length||p<0||m>this.length)throw new RangeError("out of range index");if(p>=m&&u>=h)return 0;if(p>=m)return-1;if(u>=h)return 1;if(u>>>=0,h>>>=0,p>>>=0,m>>>=0,this===s)return 0;let v=m-p,P=h-u;const re=Math.min(v,P),V=this.slice(p,m),W=s.slice(u,h);for(let H=0;H<re;++H)if(V[H]!==W[H]){v=V[H],P=W[H];break}return v<P?-1:P<v?1:0};function J(a,s,u,h,p){if(a.length===0)return-1;if(typeof u=="string"?(h=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),u=+u,Gt(u)&&(u=p?0:a.length-1),u<0&&(u=a.length+u),u>=a.length){if(p)return-1;u=a.length-1}else if(u<0)if(p)u=0;else return-1;if(typeof s=="string"&&(s=c.from(s,h)),c.isBuffer(s))return s.length===0?-1:we(a,s,u,h,p);if(typeof s=="number")return s=s&255,typeof Uint8Array.prototype.indexOf=="function"?p?Uint8Array.prototype.indexOf.call(a,s,u):Uint8Array.prototype.lastIndexOf.call(a,s,u):we(a,[s],u,h,p);throw new TypeError("val must be string, number or Buffer")}function we(a,s,u,h,p){let m=1,v=a.length,P=s.length;if(h!==void 0&&(h=String(h).toLowerCase(),h==="ucs2"||h==="ucs-2"||h==="utf16le"||h==="utf-16le")){if(a.length<2||s.length<2)return-1;m=2,v/=2,P/=2,u/=2}function re(W,H){return m===1?W[H]:W.readUInt16BE(H*m)}let V;if(p){let W=-1;for(V=u;V<v;V++)if(re(a,V)===re(s,W===-1?0:V-W)){if(W===-1&&(W=V),V-W+1===P)return W*m}else W!==-1&&(V-=V-W),W=-1}else for(u+P>v&&(u=v-P),V=u;V>=0;V--){let W=!0;for(let H=0;H<P;H++)if(re(a,V+H)!==re(s,H)){W=!1;break}if(W)return V}return-1}c.prototype.includes=function(s,u,h){return this.indexOf(s,u,h)!==-1},c.prototype.indexOf=function(s,u,h){return J(this,s,u,h,!0)},c.prototype.lastIndexOf=function(s,u,h){return J(this,s,u,h,!1)};function wt(a,s,u,h){u=Number(u)||0;const p=a.length-u;h?(h=Number(h),h>p&&(h=p)):h=p;const m=s.length;h>m/2&&(h=m/2);let v;for(v=0;v<h;++v){const P=parseInt(s.substr(v*2,2),16);if(Gt(P))return v;a[u+v]=P}return v}function dt(a,s,u,h){return _t(Wt(s,a.length-u),a,u,h)}function Br(a,s,u,h){return _t(qi(s),a,u,h)}function ar(a,s,u,h){return _t(zr(s),a,u,h)}function Mr(a,s,u,h){return _t(Hi(s,a.length-u),a,u,h)}c.prototype.write=function(s,u,h,p){if(u===void 0)p="utf8",h=this.length,u=0;else if(h===void 0&&typeof u=="string")p=u,h=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(h)?(h=h>>>0,p===void 0&&(p="utf8")):(p=h,h=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const m=this.length-u;if((h===void 0||h>m)&&(h=m),s.length>0&&(h<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");p||(p="utf8");let v=!1;for(;;)switch(p){case"hex":return wt(this,s,u,h);case"utf8":case"utf-8":return dt(this,s,u,h);case"ascii":case"latin1":case"binary":return Br(this,s,u,h);case"base64":return ar(this,s,u,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Mr(this,s,u,h);default:if(v)throw new TypeError("Unknown encoding: "+p);p=(""+p).toLowerCase(),v=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ji(a,s,u){return s===0&&u===a.length?e.fromByteArray(a):e.fromByteArray(a.slice(s,u))}function Lr(a,s,u){u=Math.min(a.length,u);const h=[];let p=s;for(;p<u;){const m=a[p];let v=null,P=m>239?4:m>223?3:m>191?2:1;if(p+P<=u){let re,V,W,H;switch(P){case 1:m<128&&(v=m);break;case 2:re=a[p+1],(re&192)===128&&(H=(m&31)<<6|re&63,H>127&&(v=H));break;case 3:re=a[p+1],V=a[p+2],(re&192)===128&&(V&192)===128&&(H=(m&15)<<12|(re&63)<<6|V&63,H>2047&&(H<55296||H>57343)&&(v=H));break;case 4:re=a[p+1],V=a[p+2],W=a[p+3],(re&192)===128&&(V&192)===128&&(W&192)===128&&(H=(m&15)<<18|(re&63)<<12|(V&63)<<6|W&63,H>65535&&H<1114112&&(v=H))}}v===null?(v=65533,P=1):v>65535&&(v-=65536,h.push(v>>>10&1023|55296),v=56320|v&1023),h.push(v),p+=P}return Fi(h)}var Ur=4096;function Fi(a){const s=a.length;if(s<=Ur)return String.fromCharCode.apply(String,a);let u="",h=0;for(;h<s;)u+=String.fromCharCode.apply(String,a.slice(h,h+=Ur));return u}function Zi(a,s,u){let h="";u=Math.min(a.length,u);for(let p=s;p<u;++p)h+=String.fromCharCode(a[p]&127);return h}function $i(a,s,u){let h="";u=Math.min(a.length,u);for(let p=s;p<u;++p)h+=String.fromCharCode(a[p]);return h}function Di(a,s,u){const h=a.length;(!s||s<0)&&(s=0),(!u||u<0||u>h)&&(u=h);let p="";for(let m=s;m<u;++m)p+=Ki[a[m]];return p}function zi(a,s,u){const h=a.slice(s,u);let p="";for(let m=0;m<h.length-1;m+=2)p+=String.fromCharCode(h[m]+h[m+1]*256);return p}c.prototype.slice=function(s,u){const h=this.length;s=~~s,u=u===void 0?h:~~u,s<0?(s+=h,s<0&&(s=0)):s>h&&(s=h),u<0?(u+=h,u<0&&(u=0)):u>h&&(u=h),u<s&&(u=s);const p=this.subarray(s,u);return Object.setPrototypeOf(p,c.prototype),p};function ae(a,s,u){if(a%1!==0||a<0)throw new RangeError("offset is not uint");if(a+s>u)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(s,u,h){s=s>>>0,u=u>>>0,h||ae(s,u,this.length);let p=this[s],m=1,v=0;for(;++v<u&&(m*=256);)p+=this[s+v]*m;return p},c.prototype.readUintBE=c.prototype.readUIntBE=function(s,u,h){s=s>>>0,u=u>>>0,h||ae(s,u,this.length);let p=this[s+--u],m=1;for(;u>0&&(m*=256);)p+=this[s+--u]*m;return p},c.prototype.readUint8=c.prototype.readUInt8=function(s,u){return s=s>>>0,u||ae(s,1,this.length),this[s]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(s,u){return s=s>>>0,u||ae(s,2,this.length),this[s]|this[s+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(s,u){return s=s>>>0,u||ae(s,2,this.length),this[s]<<8|this[s+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(s,u){return s=s>>>0,u||ae(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+this[s+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(s,u){return s=s>>>0,u||ae(s,4,this.length),this[s]*16777216+(this[s+1]<<16|this[s+2]<<8|this[s+3])},c.prototype.readBigUInt64LE=Oe(function(s){s=s>>>0,$e(s,"offset");const u=this[s],h=this[s+7];(u===void 0||h===void 0)&&Ye(s,this.length-8);const p=u+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24,m=this[++s]+this[++s]*2**8+this[++s]*2**16+h*2**24;return BigInt(p)+(BigInt(m)<<BigInt(32))}),c.prototype.readBigUInt64BE=Oe(function(s){s=s>>>0,$e(s,"offset");const u=this[s],h=this[s+7];(u===void 0||h===void 0)&&Ye(s,this.length-8);const p=u*2**24+this[++s]*2**16+this[++s]*2**8+this[++s],m=this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+h;return(BigInt(p)<<BigInt(32))+BigInt(m)}),c.prototype.readIntLE=function(s,u,h){s=s>>>0,u=u>>>0,h||ae(s,u,this.length);let p=this[s],m=1,v=0;for(;++v<u&&(m*=256);)p+=this[s+v]*m;return m*=128,p>=m&&(p-=Math.pow(2,8*u)),p},c.prototype.readIntBE=function(s,u,h){s=s>>>0,u=u>>>0,h||ae(s,u,this.length);let p=u,m=1,v=this[s+--p];for(;p>0&&(m*=256);)v+=this[s+--p]*m;return m*=128,v>=m&&(v-=Math.pow(2,8*u)),v},c.prototype.readInt8=function(s,u){return s=s>>>0,u||ae(s,1,this.length),this[s]&128?(255-this[s]+1)*-1:this[s]},c.prototype.readInt16LE=function(s,u){s=s>>>0,u||ae(s,2,this.length);const h=this[s]|this[s+1]<<8;return h&32768?h|4294901760:h},c.prototype.readInt16BE=function(s,u){s=s>>>0,u||ae(s,2,this.length);const h=this[s+1]|this[s]<<8;return h&32768?h|4294901760:h},c.prototype.readInt32LE=function(s,u){return s=s>>>0,u||ae(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},c.prototype.readInt32BE=function(s,u){return s=s>>>0,u||ae(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},c.prototype.readBigInt64LE=Oe(function(s){s=s>>>0,$e(s,"offset");const u=this[s],h=this[s+7];(u===void 0||h===void 0)&&Ye(s,this.length-8);const p=this[s+4]+this[s+5]*2**8+this[s+6]*2**16+(h<<24);return(BigInt(p)<<BigInt(32))+BigInt(u+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24)}),c.prototype.readBigInt64BE=Oe(function(s){s=s>>>0,$e(s,"offset");const u=this[s],h=this[s+7];(u===void 0||h===void 0)&&Ye(s,this.length-8);const p=(u<<24)+this[++s]*2**16+this[++s]*2**8+this[++s];return(BigInt(p)<<BigInt(32))+BigInt(this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+h)}),c.prototype.readFloatLE=function(s,u){return s=s>>>0,u||ae(s,4,this.length),r.read(this,s,!0,23,4)},c.prototype.readFloatBE=function(s,u){return s=s>>>0,u||ae(s,4,this.length),r.read(this,s,!1,23,4)},c.prototype.readDoubleLE=function(s,u){return s=s>>>0,u||ae(s,8,this.length),r.read(this,s,!0,52,8)},c.prototype.readDoubleBE=function(s,u){return s=s>>>0,u||ae(s,8,this.length),r.read(this,s,!1,52,8)};function de(a,s,u,h,p,m){if(!c.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>p||s<m)throw new RangeError('"value" argument is out of bounds');if(u+h>a.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(s,u,h,p){if(s=+s,u=u>>>0,h=h>>>0,!p){const P=Math.pow(2,8*h)-1;de(this,s,u,h,P,0)}let m=1,v=0;for(this[u]=s&255;++v<h&&(m*=256);)this[u+v]=s/m&255;return u+h},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(s,u,h,p){if(s=+s,u=u>>>0,h=h>>>0,!p){const P=Math.pow(2,8*h)-1;de(this,s,u,h,P,0)}let m=h-1,v=1;for(this[u+m]=s&255;--m>=0&&(v*=256);)this[u+m]=s/v&255;return u+h},c.prototype.writeUint8=c.prototype.writeUInt8=function(s,u,h){return s=+s,u=u>>>0,h||de(this,s,u,1,255,0),this[u]=s&255,u+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(s,u,h){return s=+s,u=u>>>0,h||de(this,s,u,2,65535,0),this[u]=s&255,this[u+1]=s>>>8,u+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(s,u,h){return s=+s,u=u>>>0,h||de(this,s,u,2,65535,0),this[u]=s>>>8,this[u+1]=s&255,u+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(s,u,h){return s=+s,u=u>>>0,h||de(this,s,u,4,4294967295,0),this[u+3]=s>>>24,this[u+2]=s>>>16,this[u+1]=s>>>8,this[u]=s&255,u+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(s,u,h){return s=+s,u=u>>>0,h||de(this,s,u,4,4294967295,0),this[u]=s>>>24,this[u+1]=s>>>16,this[u+2]=s>>>8,this[u+3]=s&255,u+4};function Nr(a,s,u,h,p){Dr(s,h,p,a,u,7);let m=Number(s&BigInt(4294967295));a[u++]=m,m=m>>8,a[u++]=m,m=m>>8,a[u++]=m,m=m>>8,a[u++]=m;let v=Number(s>>BigInt(32)&BigInt(4294967295));return a[u++]=v,v=v>>8,a[u++]=v,v=v>>8,a[u++]=v,v=v>>8,a[u++]=v,u}function Pr(a,s,u,h,p){Dr(s,h,p,a,u,7);let m=Number(s&BigInt(4294967295));a[u+7]=m,m=m>>8,a[u+6]=m,m=m>>8,a[u+5]=m,m=m>>8,a[u+4]=m;let v=Number(s>>BigInt(32)&BigInt(4294967295));return a[u+3]=v,v=v>>8,a[u+2]=v,v=v>>8,a[u+1]=v,v=v>>8,a[u]=v,u+8}c.prototype.writeBigUInt64LE=Oe(function(s,u=0){return Nr(this,s,u,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=Oe(function(s,u=0){return Pr(this,s,u,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(s,u,h,p){if(s=+s,u=u>>>0,!p){const re=Math.pow(2,8*h-1);de(this,s,u,h,re-1,-re)}let m=0,v=1,P=0;for(this[u]=s&255;++m<h&&(v*=256);)s<0&&P===0&&this[u+m-1]!==0&&(P=1),this[u+m]=(s/v>>0)-P&255;return u+h},c.prototype.writeIntBE=function(s,u,h,p){if(s=+s,u=u>>>0,!p){const re=Math.pow(2,8*h-1);de(this,s,u,h,re-1,-re)}let m=h-1,v=1,P=0;for(this[u+m]=s&255;--m>=0&&(v*=256);)s<0&&P===0&&this[u+m+1]!==0&&(P=1),this[u+m]=(s/v>>0)-P&255;return u+h},c.prototype.writeInt8=function(s,u,h){return s=+s,u=u>>>0,h||de(this,s,u,1,127,-128),s<0&&(s=255+s+1),this[u]=s&255,u+1},c.prototype.writeInt16LE=function(s,u,h){return s=+s,u=u>>>0,h||de(this,s,u,2,32767,-32768),this[u]=s&255,this[u+1]=s>>>8,u+2},c.prototype.writeInt16BE=function(s,u,h){return s=+s,u=u>>>0,h||de(this,s,u,2,32767,-32768),this[u]=s>>>8,this[u+1]=s&255,u+2},c.prototype.writeInt32LE=function(s,u,h){return s=+s,u=u>>>0,h||de(this,s,u,4,2147483647,-2147483648),this[u]=s&255,this[u+1]=s>>>8,this[u+2]=s>>>16,this[u+3]=s>>>24,u+4},c.prototype.writeInt32BE=function(s,u,h){return s=+s,u=u>>>0,h||de(this,s,u,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[u]=s>>>24,this[u+1]=s>>>16,this[u+2]=s>>>8,this[u+3]=s&255,u+4},c.prototype.writeBigInt64LE=Oe(function(s,u=0){return Nr(this,s,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=Oe(function(s,u=0){return Pr(this,s,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function jr(a,s,u,h,p,m){if(u+h>a.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function Fr(a,s,u,h,p){return s=+s,u=u>>>0,p||jr(a,s,u,4),r.write(a,s,u,h,23,4),u+4}c.prototype.writeFloatLE=function(s,u,h){return Fr(this,s,u,!0,h)},c.prototype.writeFloatBE=function(s,u,h){return Fr(this,s,u,!1,h)};function Zr(a,s,u,h,p){return s=+s,u=u>>>0,p||jr(a,s,u,8),r.write(a,s,u,h,52,8),u+8}c.prototype.writeDoubleLE=function(s,u,h){return Zr(this,s,u,!0,h)},c.prototype.writeDoubleBE=function(s,u,h){return Zr(this,s,u,!1,h)},c.prototype.copy=function(s,u,h,p){if(!c.isBuffer(s))throw new TypeError("argument should be a Buffer");if(h||(h=0),!p&&p!==0&&(p=this.length),u>=s.length&&(u=s.length),u||(u=0),p>0&&p<h&&(p=h),p===h||s.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(h<0||h>=this.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("sourceEnd out of bounds");p>this.length&&(p=this.length),s.length-u<p-h&&(p=s.length-u+h);const m=p-h;return this===s&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,h,p):Uint8Array.prototype.set.call(s,this.subarray(h,p),u),m},c.prototype.fill=function(s,u,h,p){if(typeof s=="string"){if(typeof u=="string"?(p=u,u=0,h=this.length):typeof h=="string"&&(p=h,h=this.length),p!==void 0&&typeof p!="string")throw new TypeError("encoding must be a string");if(typeof p=="string"&&!c.isEncoding(p))throw new TypeError("Unknown encoding: "+p);if(s.length===1){const v=s.charCodeAt(0);(p==="utf8"&&v<128||p==="latin1")&&(s=v)}}else typeof s=="number"?s=s&255:typeof s=="boolean"&&(s=Number(s));if(u<0||this.length<u||this.length<h)throw new RangeError("Out of range index");if(h<=u)return this;u=u>>>0,h=h===void 0?this.length:h>>>0,s||(s=0);let m;if(typeof s=="number")for(m=u;m<h;++m)this[m]=s;else{const v=c.isBuffer(s)?s:c.from(s,p),P=v.length;if(P===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(m=0;m<h-u;++m)this[m+u]=v[m%P]}return this};var Ze={};function Vt(a,s,u){Ze[a]=class extends u{constructor(){super(),Object.defineProperty(this,"message",{value:s.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${a}]`,this.stack,delete this.name}get code(){return a}set code(p){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:p,writable:!0})}toString(){return`${this.name} [${a}]: ${this.message}`}}}Vt("ERR_BUFFER_OUT_OF_BOUNDS",function(a){return a?`${a} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Vt("ERR_INVALID_ARG_TYPE",function(a,s){return`The "${a}" argument must be of type number. Received type ${typeof s}`},TypeError),Vt("ERR_OUT_OF_RANGE",function(a,s,u){let h=`The value of "${a}" is out of range.`,p=u;return Number.isInteger(u)&&Math.abs(u)>2**32?p=$r(String(u)):typeof u=="bigint"&&(p=String(u),(u>BigInt(2)**BigInt(32)||u<-(BigInt(2)**BigInt(32)))&&(p=$r(p)),p+="n"),h+=` It must be ${s}. Received ${p}`,h},RangeError);function $r(a){let s="",u=a.length;const h=a[0]==="-"?1:0;for(;u>=h+4;u-=3)s=`_${a.slice(u-3,u)}${s}`;return`${a.slice(0,u)}${s}`}function Vi(a,s,u){$e(s,"offset"),(a[s]===void 0||a[s+u]===void 0)&&Ye(s,a.length-(u+1))}function Dr(a,s,u,h,p,m){if(a>u||a<s){const v=typeof s=="bigint"?"n":"";let P;throw s===0||s===BigInt(0)?P=`>= 0${v} and < 2${v} ** ${(m+1)*8}${v}`:P=`>= -(2${v} ** ${(m+1)*8-1}${v}) and < 2 ** ${(m+1)*8-1}${v}`,new Ze.ERR_OUT_OF_RANGE("value",P,a)}Vi(h,p,m)}function $e(a,s){if(typeof a!="number")throw new Ze.ERR_INVALID_ARG_TYPE(s,"number",a)}function Ye(a,s,u){throw Math.floor(a)!==a?($e(a,u),new Ze.ERR_OUT_OF_RANGE("offset","an integer",a)):s<0?new Ze.ERR_BUFFER_OUT_OF_BOUNDS:new Ze.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${s}`,a)}var Wi=/[^+/0-9A-Za-z-_]/g;function Gi(a){if(a=a.split("=")[0],a=a.trim().replace(Wi,""),a.length<2)return"";for(;a.length%4!==0;)a=a+"=";return a}function Wt(a,s){s=s||1/0;let u;const h=a.length;let p=null;const m=[];for(let v=0;v<h;++v){if(u=a.charCodeAt(v),u>55295&&u<57344){if(!p){if(u>56319){(s-=3)>-1&&m.push(239,191,189);continue}else if(v+1===h){(s-=3)>-1&&m.push(239,191,189);continue}p=u;continue}if(u<56320){(s-=3)>-1&&m.push(239,191,189),p=u;continue}u=(p-55296<<10|u-56320)+65536}else p&&(s-=3)>-1&&m.push(239,191,189);if(p=null,u<128){if((s-=1)<0)break;m.push(u)}else if(u<2048){if((s-=2)<0)break;m.push(u>>6|192,u&63|128)}else if(u<65536){if((s-=3)<0)break;m.push(u>>12|224,u>>6&63|128,u&63|128)}else if(u<1114112){if((s-=4)<0)break;m.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else throw new Error("Invalid code point")}return m}function qi(a){const s=[];for(let u=0;u<a.length;++u)s.push(a.charCodeAt(u)&255);return s}function Hi(a,s){let u,h,p;const m=[];for(let v=0;v<a.length&&!((s-=2)<0);++v)u=a.charCodeAt(v),h=u>>8,p=u%256,m.push(p),m.push(h);return m}function zr(a){return e.toByteArray(Gi(a))}function _t(a,s,u,h){let p;for(p=0;p<h&&!(p+u>=s.length||p>=a.length);++p)s[p+u]=a[p];return p}function _e(a,s){return a instanceof s||a!=null&&a.constructor!=null&&a.constructor.name!=null&&a.constructor.name===s.name}function Gt(a){return a!==a}var Ki=function(){const a="0123456789abcdef",s=new Array(256);for(let u=0;u<16;++u){const h=u*16;for(let p=0;p<16;++p)s[h+p]=a[u]+a[p]}return s}();function Oe(a){return typeof BigInt>"u"?Yi:a}function Yi(){throw new Error("BigInt not supported")}}}),yc={"@@functional/placeholder":!0};function ge(t){return t===yc}function Me(t){return function e(r){return arguments.length===0||ge(r)?e:t.apply(this,arguments)}}function xe(t){return function e(r,n){switch(arguments.length){case 0:return e;case 1:return ge(r)?e:Me(function(i){return t(r,i)});default:return ge(r)&&ge(n)?e:ge(r)?Me(function(i){return t(i,n)}):ge(n)?Me(function(i){return t(r,i)}):t(r,n)}}}function Ti(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(r){return e.apply(this,arguments)};case 2:return function(r,n){return e.apply(this,arguments)};case 3:return function(r,n,i){return e.apply(this,arguments)};case 4:return function(r,n,i,o){return e.apply(this,arguments)};case 5:return function(r,n,i,o,l){return e.apply(this,arguments)};case 6:return function(r,n,i,o,l,c){return e.apply(this,arguments)};case 7:return function(r,n,i,o,l,c,d){return e.apply(this,arguments)};case 8:return function(r,n,i,o,l,c,d,f){return e.apply(this,arguments)};case 9:return function(r,n,i,o,l,c,d,f,y){return e.apply(this,arguments)};case 10:return function(r,n,i,o,l,c,d,f,y,w){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function Ya(t,e,r){return function(){for(var n=[],i=0,o=t,l=0,c=!1;l<e.length||i<arguments.length;){var d;l<e.length&&(!ge(e[l])||i>=arguments.length)?d=e[l]:(d=arguments[i],i+=1),n[l]=d,ge(d)?c=!0:o-=1,l+=1}return!c&&o<=0?r.apply(this,n):Ti(Math.max(0,o),Ya(t,n,r))}}var vc=xe(function(t,e){return t===1?Me(e):Ti(t,Ya(t,[],e))}),Qa=vc;function Zs(t){return function e(r,n,i){switch(arguments.length){case 0:return e;case 1:return ge(r)?e:xe(function(o,l){return t(r,o,l)});case 2:return ge(r)&&ge(n)?e:ge(r)?xe(function(o,l){return t(o,n,l)}):ge(n)?xe(function(o,l){return t(r,o,l)}):Me(function(o){return t(r,n,o)});default:return ge(r)&&ge(n)&&ge(i)?e:ge(r)&&ge(n)?xe(function(o,l){return t(o,l,i)}):ge(r)&&ge(i)?xe(function(o,l){return t(o,n,l)}):ge(n)&&ge(i)?xe(function(o,l){return t(r,o,l)}):ge(r)?Me(function(o){return t(o,n,i)}):ge(n)?Me(function(o){return t(r,o,i)}):ge(i)?Me(function(o){return t(r,n,o)}):t(r,n,i)}}}var $s=Array.isArray||function(t){return t!=null&&t.length>=0&&Object.prototype.toString.call(t)==="[object Array]"};function wc(t){return t!=null&&typeof t["@@transducer/step"]=="function"}function Ds(t,e,r){return function(){if(arguments.length===0)return r();var n=arguments[arguments.length-1];if(!$s(n)){for(var i=0;i<t.length;){if(typeof n[t[i]]=="function")return n[t[i]].apply(n,Array.prototype.slice.call(arguments,0,-1));i+=1}if(wc(n)){var o=e.apply(null,Array.prototype.slice.call(arguments,0,-1));return o(n)}}return r.apply(this,arguments)}}function _c(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}var sn={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}};function ga(t){for(var e=[],r;!(r=t.next()).done;)e.push(r.value);return e}function ya(t,e,r){for(var n=0,i=r.length;n<i;){if(t(e,r[n]))return!0;n+=1}return!1}function bc(t){var e=String(t).match(/^function (\w*)/);return e==null?"":e[1]}function ni(t,e){return Object.prototype.hasOwnProperty.call(e,t)}function Ec(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Xi=typeof Object.is=="function"?Object.is:Ec,va=Object.prototype.toString,Sc=function(){return va.call(arguments)==="[object Arguments]"?function(t){return va.call(t)==="[object Arguments]"}:function(t){return ni("callee",t)}}(),Ac=Sc,xc=!{toString:null}.propertyIsEnumerable("toString"),wa=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],_a=function(){return arguments.propertyIsEnumerable("length")}(),kc=function(t,e){for(var r=0;r<t.length;){if(t[r]===e)return!0;r+=1}return!1},Tc=Me(typeof Object.keys=="function"&&!_a?function(t){return Object(t)!==t?[]:Object.keys(t)}:function(t){if(Object(t)!==t)return[];var e,r,n=[],i=_a&&Ac(t);for(e in t)ni(e,t)&&(!i||e!=="length")&&(n[n.length]=e);if(xc)for(r=wa.length-1;r>=0;)e=wa[r],ni(e,t)&&!kc(n,e)&&(n[n.length]=e),r-=1;return n}),yr=Tc,Oc=Me(function(t){return t===null?"Null":t===void 0?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}),ba=Oc;function Ea(t,e,r,n){var i=ga(t),o=ga(e);function l(c,d){return zs(c,d,r.slice(),n.slice())}return!ya(function(c,d){return!ya(l,d,c)},o,i)}function zs(t,e,r,n){if(Xi(t,e))return!0;var i=ba(t);if(i!==ba(e))return!1;if(typeof t["fantasy-land/equals"]=="function"||typeof e["fantasy-land/equals"]=="function")return typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e)&&typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t);if(typeof t.equals=="function"||typeof e.equals=="function")return typeof t.equals=="function"&&t.equals(e)&&typeof e.equals=="function"&&e.equals(t);switch(i){case"Arguments":case"Array":case"Object":if(typeof t.constructor=="function"&&bc(t.constructor)==="Promise")return t===e;break;case"Boolean":case"Number":case"String":if(!(typeof t==typeof e&&Xi(t.valueOf(),e.valueOf())))return!1;break;case"Date":if(!Xi(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(!(t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline&&t.sticky===e.sticky&&t.unicode===e.unicode))return!1;break}for(var o=r.length-1;o>=0;){if(r[o]===t)return n[o]===e;o-=1}switch(i){case"Map":return t.size!==e.size?!1:Ea(t.entries(),e.entries(),r.concat([t]),n.concat([e]));case"Set":return t.size!==e.size?!1:Ea(t.values(),e.values(),r.concat([t]),n.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var l=yr(t);if(l.length!==yr(e).length)return!1;var c=r.concat([t]),d=n.concat([e]);for(o=l.length-1;o>=0;){var f=l[o];if(!(ni(f,e)&&zs(e[f],t[f],c,d)))return!1;o-=1}return!0}var Cc=xe(function(t,e){return zs(t,e,[],[])}),Xa=Cc;function Rc(t,e,r){var n,i;if(typeof t.indexOf=="function")switch(typeof e){case"number":if(e===0){for(n=1/e;r<t.length;){if(i=t[r],i===0&&1/i===n)return r;r+=1}return-1}else if(e!==e){for(;r<t.length;){if(i=t[r],typeof i=="number"&&i!==i)return r;r+=1}return-1}return t.indexOf(e,r);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,r);case"object":if(e===null)return t.indexOf(e,r)}for(;r<t.length;){if(Xa(t[r],e))return r;r+=1}return-1}function Ic(t,e){return Rc(e,t,0)>=0}function tn(t,e){for(var r=0,n=e.length,i=Array(n);r<n;)i[r]=t(e[r]),r+=1;return i}function Ji(t){var e=t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+e.replace(/"/g,'\\"')+'"'}var Vr=function(t){return(t<10?"0":"")+t},Bc=typeof Date.prototype.toISOString=="function"?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+Vr(t.getUTCMonth()+1)+"-"+Vr(t.getUTCDate())+"T"+Vr(t.getUTCHours())+":"+Vr(t.getUTCMinutes())+":"+Vr(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"},Mc=Bc;function Lc(t){return function(){return!t.apply(this,arguments)}}function Ja(t,e,r){for(var n=0,i=r.length;n<i;)e=t(e,r[n]),n+=1;return e}function Uc(t,e){for(var r=0,n=e.length,i=[];r<n;)t(e[r])&&(i[i.length]=e[r]),r+=1;return i}function Nc(t){return Object.prototype.toString.call(t)==="[object Object]"}var Pc=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=sn.init,t.prototype["@@transducer/result"]=sn.result,t.prototype["@@transducer/step"]=function(e,r){return this.f(r)?this.xf["@@transducer/step"](e,r):e},t}();function jc(t){return function(e){return new Pc(t,e)}}var Fc=xe(Ds(["fantasy-land/filter","filter"],jc,function(t,e){return Nc(e)?Ja(function(r,n){return t(e[n])&&(r[n]=e[n]),r},{},yr(e)):Uc(t,e)})),Zc=Fc,$c=xe(function(t,e){return Zc(Lc(t),e)}),Dc=$c;function eo(t,e){var r=function(o){var l=e.concat([t]);return Ic(o,l)?"<Circular>":eo(o,l)},n=function(o,l){return tn(function(c){return Ji(c)+": "+r(o[c])},l.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+tn(r,t).join(", ")+"))";case"[object Array]":return"["+tn(r,t).concat(n(t,Dc(function(o){return/^\d+$/.test(o)},yr(t)))).join(", ")+"]";case"[object Boolean]":return typeof t=="object"?"new Boolean("+r(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?r(NaN):Ji(Mc(t)))+")";case"[object Map]":return"new Map("+r(Array.from(t))+")";case"[object Null]":return"null";case"[object Number]":return typeof t=="object"?"new Number("+r(t.valueOf())+")":1/t===-1/0?"-0":t.toString(10);case"[object Set]":return"new Set("+r(Array.from(t).sort())+")";case"[object String]":return typeof t=="object"?"new String("+r(t.valueOf())+")":Ji(t);case"[object Undefined]":return"undefined";default:if(typeof t.toString=="function"){var i=t.toString();if(i!=="[object Object]")return i}return"{"+n(t,yr(t)).join(", ")+"}"}}var zc=Me(function(t){return eo(t,[])}),Sa=zc,Vc=xe(function(t,e){if(t===e)return e;function r(c,d){if(c>d!=d>c)return d>c?d:c}var n=r(t,e);if(n!==void 0)return n;var i=r(typeof t,typeof e);if(i!==void 0)return i===typeof t?t:e;var o=Sa(t),l=r(o,Sa(e));return l!==void 0&&l===o?t:e}),Wc=Vc,Gc=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=sn.init,t.prototype["@@transducer/result"]=sn.result,t.prototype["@@transducer/step"]=function(e,r){return this.xf["@@transducer/step"](e,this.f(r))},t}(),qc=function(t){return function(e){return new Gc(t,e)}},Hc=qc,Kc=xe(Ds(["fantasy-land/map","map"],Hc,function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return Qa(e.length,function(){return t.call(this,e.apply(this,arguments))});case"[object Object]":return Ja(function(r,n){return r[n]=t(e[n]),r},{},yr(e));default:return tn(t,e)}})),Yc=Kc,to=Number.isInteger||function(t){return t<<0===t};function ro(t){return Object.prototype.toString.call(t)==="[object String]"}function no(t,e){var r=t<0?e.length+t:t;return ro(e)?e.charAt(r):e[r]}var Qc=xe(function(t,e){if(e!=null)return to(t)?no(t,e):e[t]}),Oi=Qc,Xc=xe(function(t,e){return Yc(Oi(t),e)}),Jc=Xc,el=Me(function(t){return $s(t)?!0:!t||typeof t!="object"||ro(t)?!1:t.length===0?!0:t.length>0?t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1):!1}),tl=el,Aa=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function rl(t,e,r){return function(n,i,o){if(tl(o))return t(n,i,o);if(o==null)return i;if(typeof o["fantasy-land/reduce"]=="function")return e(n,i,o,"fantasy-land/reduce");if(o[Aa]!=null)return r(n,i,o[Aa]());if(typeof o.next=="function")return r(n,i,o);if(typeof o.reduce=="function")return e(n,i,o,"reduce");throw new TypeError("reduce: list must be array or iterable")}}function nl(t,e,r){for(var n=0,i=r.length;n<i;){if(e=t["@@transducer/step"](e,r[n]),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n+=1}return t["@@transducer/result"](e)}var il=xe(function(t,e){return Ti(t.length,function(){return t.apply(e,arguments)})}),sl=il;function al(t,e,r){for(var n=r.next();!n.done;){if(e=t["@@transducer/step"](e,n.value),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n=r.next()}return t["@@transducer/result"](e)}function ol(t,e,r,n){return t["@@transducer/result"](r[n](sl(t["@@transducer/step"],t),e))}var ul=rl(nl,ol,al),cl=ul,ll=function(){function t(e){this.f=e}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(e){return e},t.prototype["@@transducer/step"]=function(e,r){return this.f(e,r)},t}();function dl(t){return new ll(t)}var hl=Zs(function(t,e,r){return cl(typeof t=="function"?dl(t):t,e,r)}),io=hl;function fl(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function so(t,e){return function(){var r=arguments.length;if(r===0)return e();var n=arguments[r-1];return $s(n)||typeof n[t]!="function"?e.apply(this,arguments):n[t].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}var pl=Zs(so("slice",function(t,e,r){return Array.prototype.slice.call(r,t,e)})),ml=pl,gl=Me(so("tail",ml(1,1/0))),yl=gl;function ao(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return Ti(arguments[0].length,io(fl,arguments[0],yl(arguments)))}var vl=xe(function(t,e){return Qa(io(Wc,0,Jc("length",e)),function(){var r=arguments,n=this;return t.apply(n,tn(function(i){return i.apply(n,r)},e))})}),wl=vl,_l=xe(function(t,e){return e==null||e!==e?t:e}),os=_l,bl=function(){function t(e,r){this.xf=r,this.f=e,this.found=!1}return t.prototype["@@transducer/init"]=sn.init,t.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,r){return this.f(r)&&(this.found=!0,e=_c(this.xf["@@transducer/step"](e,r))),e},t}();function El(t){return function(e){return new bl(t,e)}}var Sl=xe(Ds(["find"],El,function(t,e){for(var r=0,n=e.length;r<n;){if(t(e[r]))return e[r];r+=1}})),Al=Sl,xl=Me(function(t){return wl(function(){return Array.prototype.slice.call(arguments,0)},t)}),kl=xl;function Tl(t,e){for(var r=e,n=0;n<t.length;n+=1){if(r==null)return;var i=t[n];to(i)?r=no(i,r):r=r[i]}return r}var Ol=xe(Tl),oo=Ol,Cl=Zs(function(t,e,r){return Xa(t,Oi(e,r))}),Rl=Cl,ii=class extends Error{constructor(){super(...arguments);D(this,"name","InvalidSchedulerLocation")}},Il=class extends Error{constructor(){super(...arguments);D(this,"name","SchedulerTagNotFound")}},Bl=class extends Error{constructor(){super(...arguments);D(this,"name","TransactionNotFound")}};function Vs(t=""){return t=t.trim(),t.endsWith("/")?Vs(t.slice(0,-1)):t}var Ml=(t,{maxRetries:e=0,delay:r=300})=>{let n=(i,o)=>Promise.resolve().then(t).catch(l=>{if(i>=e)return Promise.reject(l);let c=i+1,d=o+o;return new Promise(f=>setTimeout(f,o)).then(()=>n(c,d))});return n(0,r)},Ll=t=>{if(t.ok)return t;throw t},Ul="Url",Nl="Time-To-Live",Pl="Scheduler",us=t=>ao(os([]),Al(Rl(t,"name")),os({}),Oi("value")),uo=t=>ao(e=>{if(!e)throw new Bl(t);return e},Oi("tags"),os([]));function co({fetch:t,GRAPHQL_URL:e,GRAPHQL_MAX_RETRIES:r=0,GRAPHQL_RETRY_BACKOFF:n=300}){return async({query:i,variables:o})=>Ml(()=>t(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:i,variables:o})}).then(Ll).then(l=>l.json()),{maxRetries:r,delay:n})}function jl({fetch:t,GRAPHQL_URL:e,GRAPHQL_MAX_RETRIES:r,GRAPHQL_RETRY_BACKOFF:n}){let i=co({fetch:t,GRAPHQL_URL:e,GRAPHQL_MAX_RETRIES:r,GRAPHQL_RETRY_BACKOFF:n}),o=lo({fetch:t,GRAPHQL_URL:e,GRAPHQL_MAX_RETRIES:r,GRAPHQL_RETRY_BACKOFF:n}),l=`
    query GetTransactions ($transactionIds: [ID!]!) {
      transactions(ids: $transactionIds) {
        edges {
          node {
            tags {
              name
              value
            }
          }
        }
      }
    }
  `,c="https://su-router.ao-testnet.xyz";return async d=>await t(`https://su-router.ao-testnet.xyz?process-id=${d}`).then(y=>y.ok?y.json().then(({address:w})=>({url:c,ttl:1728e5,address:w})):void 0)||i({query:l,variables:{transactionIds:[d]}}).then(oo(["data","transactions","edges","0","node"])).then(uo(`Process ${d} was not found on gateway`)).then(us(Pl)).then(y=>{if(!y)throw new Il('No "Scheduler" tag found on process');return o(y)})}function lo({fetch:t,GRAPHQL_URL:e,GRAPHQL_MAX_RETRIES:r,GRAPHQL_RETRY_BACKOFF:n}){let i=co({fetch:t,GRAPHQL_URL:e,GRAPHQL_MAX_RETRIES:r,GRAPHQL_RETRY_BACKOFF:n}),o=`
    query GetSchedulerLocation ($owner: String!) {
      transactions (
        owners: [$owner]
        tags: [
          { name: "Data-Protocol", values: ["ao"] },
          { name: "Type", values: ["Scheduler-Location"] }
        ]
        # Only need the most recent Scheduler-Location
        sort: HEIGHT_DESC
        first: 1
      ) {
        edges {
          node {
            tags {
              name
              value
            }
          }
        }
      }
    }
  `;return async l=>i({query:o,variables:{owner:l}}).then(oo(["data","transactions","edges","0","node"])).then(uo(`Could not find 'Scheduler-Location' owner by wallet ${l}`)).then(kl([us(Ul),us(Nl)])).then(([c,d])=>{if(!c)throw new ii('No "Url" tag found on Scheduler-Location');if(!d)throw new ii('No "Time-To-Live" tag found on Scheduler-Location');return{url:c,ttl:d,address:l}})}var or=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,ho=new Set,cs=typeof process=="object"&&process?process:{},fo=(t,e,r,n)=>{typeof cs.emitWarning=="function"?cs.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)},si=globalThis.AbortController,xa=globalThis.AbortSignal,za;if(typeof si>"u"){xa=class{constructor(){D(this,"onabort");D(this,"_onabort",[]);D(this,"reason");D(this,"aborted",!1)}addEventListener(r,n){this._onabort.push(n)}},si=class{constructor(){D(this,"signal",new xa);e()}abort(r){var n,i;if(!this.signal.aborted){this.signal.reason=r,this.signal.aborted=!0;for(let o of this.signal._onabort)o(r);(i=(n=this.signal).onabort)==null||i.call(n,r)}}};let t=((za=cs.env)==null?void 0:za.LRU_CACHE_IGNORE_AC_WARNING)!=="1",e=()=>{t&&(t=!1,fo("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}var Fl=t=>!ho.has(t),It=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),po=t=>It(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?Kn:null:null,Kn=class extends Array{constructor(t){super(t),this.fill(0)}},ft,fr,Zl=(ft=class{constructor(e,r){D(this,"heap");D(this,"length");if(!g(ft,fr))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}static create(e){let r=po(e);if(!r)return[];z(ft,fr,!0);let n=new ft(e,r);return z(ft,fr,!1),n}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},fr=new WeakMap,ce(ft,fr,!1),ft),Va,Wa,Je,De,et,tt,pr,Ae,rt,Ee,me,X,Ie,ze,Ce,ke,nt,Te,it,st,Ve,at,Pt,Be,N,ls,Ht,Et,Fn,We,mo,Kt,mr,Zn,Bt,Mt,ds,Yn,Qn,pe,hs,qr,gr,$l=(gr=class{constructor(e){ce(this,N);ce(this,Je);ce(this,De);ce(this,et);ce(this,tt);ce(this,pr);D(this,"ttl");D(this,"ttlResolution");D(this,"ttlAutopurge");D(this,"updateAgeOnGet");D(this,"updateAgeOnHas");D(this,"allowStale");D(this,"noDisposeOnSet");D(this,"noUpdateTTL");D(this,"maxEntrySize");D(this,"sizeCalculation");D(this,"noDeleteOnFetchRejection");D(this,"noDeleteOnStaleGet");D(this,"allowStaleOnFetchAbort");D(this,"allowStaleOnFetchRejection");D(this,"ignoreFetchAbort");ce(this,Ae);ce(this,rt);ce(this,Ee);ce(this,me);ce(this,X);ce(this,Ie);ce(this,ze);ce(this,Ce);ce(this,ke);ce(this,nt);ce(this,Te);ce(this,it);ce(this,st);ce(this,Ve);ce(this,at);ce(this,Pt);ce(this,Be);ce(this,Ht,()=>{});ce(this,Et,()=>{});ce(this,Fn,()=>{});ce(this,We,()=>!1);ce(this,Kt,e=>{});ce(this,mr,(e,r,n)=>{});ce(this,Zn,(e,r,n,i)=>{if(n||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});D(this,Va,"LRUCache");let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:o,updateAgeOnGet:l,updateAgeOnHas:c,allowStale:d,dispose:f,disposeAfter:y,noDisposeOnSet:w,noUpdateTTL:b,maxSize:E=0,maxEntrySize:_=0,sizeCalculation:S,fetchMethod:k,noDeleteOnFetchRejection:C,noDeleteOnStaleGet:U,allowStaleOnFetchRejection:R,allowStaleOnFetchAbort:j,ignoreFetchAbort:Y}=e;if(r!==0&&!It(r))throw new TypeError("max option must be a nonnegative integer");let J=r?po(r):Array;if(!J)throw new Error("invalid max value: "+r);if(z(this,Je,r),z(this,De,E),this.maxEntrySize=_||g(this,De),this.sizeCalculation=S,this.sizeCalculation){if(!g(this,De)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(k!==void 0&&typeof k!="function")throw new TypeError("fetchMethod must be a function if specified");if(z(this,pr,k),z(this,Pt,!!k),z(this,Ee,new Map),z(this,me,new Array(r).fill(void 0)),z(this,X,new Array(r).fill(void 0)),z(this,Ie,new J(r)),z(this,ze,new J(r)),z(this,Ce,0),z(this,ke,0),z(this,nt,Zl.create(r)),z(this,Ae,0),z(this,rt,0),typeof f=="function"&&z(this,et,f),typeof y=="function"?(z(this,tt,y),z(this,Te,[])):(z(this,tt,void 0),z(this,Te,void 0)),z(this,at,!!g(this,et)),z(this,Be,!!g(this,tt)),this.noDisposeOnSet=!!w,this.noUpdateTTL=!!b,this.noDeleteOnFetchRejection=!!C,this.allowStaleOnFetchRejection=!!R,this.allowStaleOnFetchAbort=!!j,this.ignoreFetchAbort=!!Y,this.maxEntrySize!==0){if(g(this,De)!==0&&!It(g(this,De)))throw new TypeError("maxSize must be a positive integer if specified");if(!It(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");$(this,N,mo).call(this)}if(this.allowStale=!!d,this.noDeleteOnStaleGet=!!U,this.updateAgeOnGet=!!l,this.updateAgeOnHas=!!c,this.ttlResolution=It(i)||i===0?i:1,this.ttlAutopurge=!!o,this.ttl=n||0,this.ttl){if(!It(this.ttl))throw new TypeError("ttl must be a positive integer if specified");$(this,N,ls).call(this)}if(g(this,Je)===0&&this.ttl===0&&g(this,De)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!g(this,Je)&&!g(this,De)){let we="LRU_CACHE_UNBOUNDED";Fl(we)&&(ho.add(we),fo("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",we,gr))}}static unsafeExposeInternals(e){return{starts:g(e,st),ttls:g(e,Ve),sizes:g(e,it),keyMap:g(e,Ee),keyList:g(e,me),valList:g(e,X),next:g(e,Ie),prev:g(e,ze),get head(){return g(e,Ce)},get tail(){return g(e,ke)},free:g(e,nt),isBackgroundFetch:r=>{var n;return $(n=e,N,pe).call(n,r)},backgroundFetch:(r,n,i,o)=>{var l;return $(l=e,N,Qn).call(l,r,n,i,o)},moveToTail:r=>{var n;return $(n=e,N,qr).call(n,r)},indexes:r=>{var n;return $(n=e,N,Bt).call(n,r)},rindexes:r=>{var n;return $(n=e,N,Mt).call(n,r)},isStale:r=>{var n;return g(n=e,We).call(n,r)}}}get max(){return g(this,Je)}get maxSize(){return g(this,De)}get calculatedSize(){return g(this,rt)}get size(){return g(this,Ae)}get fetchMethod(){return g(this,pr)}get dispose(){return g(this,et)}get disposeAfter(){return g(this,tt)}getRemainingTTL(e){return g(this,Ee).has(e)?1/0:0}*entries(){for(let e of $(this,N,Bt).call(this))g(this,X)[e]!==void 0&&g(this,me)[e]!==void 0&&!$(this,N,pe).call(this,g(this,X)[e])&&(yield[g(this,me)[e],g(this,X)[e]])}*rentries(){for(let e of $(this,N,Mt).call(this))g(this,X)[e]!==void 0&&g(this,me)[e]!==void 0&&!$(this,N,pe).call(this,g(this,X)[e])&&(yield[g(this,me)[e],g(this,X)[e]])}*keys(){for(let e of $(this,N,Bt).call(this)){let r=g(this,me)[e];r!==void 0&&!$(this,N,pe).call(this,g(this,X)[e])&&(yield r)}}*rkeys(){for(let e of $(this,N,Mt).call(this)){let r=g(this,me)[e];r!==void 0&&!$(this,N,pe).call(this,g(this,X)[e])&&(yield r)}}*values(){for(let e of $(this,N,Bt).call(this))g(this,X)[e]!==void 0&&!$(this,N,pe).call(this,g(this,X)[e])&&(yield g(this,X)[e])}*rvalues(){for(let e of $(this,N,Mt).call(this))g(this,X)[e]!==void 0&&!$(this,N,pe).call(this,g(this,X)[e])&&(yield g(this,X)[e])}[(Wa=Symbol.iterator,Va=Symbol.toStringTag,Wa)](){return this.entries()}find(e,r={}){for(let n of $(this,N,Bt).call(this)){let i=g(this,X)[n],o=$(this,N,pe).call(this,i)?i.__staleWhileFetching:i;if(o!==void 0&&e(o,g(this,me)[n],this))return this.get(g(this,me)[n],r)}}forEach(e,r=this){for(let n of $(this,N,Bt).call(this)){let i=g(this,X)[n],o=$(this,N,pe).call(this,i)?i.__staleWhileFetching:i;o!==void 0&&e.call(r,o,g(this,me)[n],this)}}rforEach(e,r=this){for(let n of $(this,N,Mt).call(this)){let i=g(this,X)[n],o=$(this,N,pe).call(this,i)?i.__staleWhileFetching:i;o!==void 0&&e.call(r,o,g(this,me)[n],this)}}purgeStale(){let e=!1;for(let r of $(this,N,Mt).call(this,{allowStale:!0}))g(this,We).call(this,r)&&(this.delete(g(this,me)[r]),e=!0);return e}info(e){let r=g(this,Ee).get(e);if(r===void 0)return;let n=g(this,X)[r],i=$(this,N,pe).call(this,n)?n.__staleWhileFetching:n;if(i===void 0)return;let o={value:i};if(g(this,Ve)&&g(this,st)){let l=g(this,Ve)[r],c=g(this,st)[r];if(l&&c){let d=l-(or.now()-c);o.ttl=d,o.start=Date.now()}}return g(this,it)&&(o.size=g(this,it)[r]),o}dump(){let e=[];for(let r of $(this,N,Bt).call(this,{allowStale:!0})){let n=g(this,me)[r],i=g(this,X)[r],o=$(this,N,pe).call(this,i)?i.__staleWhileFetching:i;if(o===void 0||n===void 0)continue;let l={value:o};if(g(this,Ve)&&g(this,st)){l.ttl=g(this,Ve)[r];let c=or.now()-g(this,st)[r];l.start=Math.floor(Date.now()-c)}g(this,it)&&(l.size=g(this,it)[r]),e.unshift([n,l])}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let i=Date.now()-n.start;n.start=or.now()-i}this.set(r,n.value,n)}}set(e,r,n={}){var b,E,_,S,k;if(r===void 0)return this.delete(e),this;let{ttl:i=this.ttl,start:o,noDisposeOnSet:l=this.noDisposeOnSet,sizeCalculation:c=this.sizeCalculation,status:d}=n,{noUpdateTTL:f=this.noUpdateTTL}=n,y=g(this,Zn).call(this,e,r,n.size||0,c);if(this.maxEntrySize&&y>this.maxEntrySize)return d&&(d.set="miss",d.maxEntrySizeExceeded=!0),this.delete(e),this;let w=g(this,Ae)===0?void 0:g(this,Ee).get(e);if(w===void 0)w=g(this,Ae)===0?g(this,ke):g(this,nt).length!==0?g(this,nt).pop():g(this,Ae)===g(this,Je)?$(this,N,Yn).call(this,!1):g(this,Ae),g(this,me)[w]=e,g(this,X)[w]=r,g(this,Ee).set(e,w),g(this,Ie)[g(this,ke)]=w,g(this,ze)[w]=g(this,ke),z(this,ke,w),Gn(this,Ae)._++,g(this,mr).call(this,w,y,d),d&&(d.set="add"),f=!1;else{$(this,N,qr).call(this,w);let C=g(this,X)[w];if(r!==C){if(g(this,Pt)&&$(this,N,pe).call(this,C)){C.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:U}=C;U!==void 0&&!l&&(g(this,at)&&((b=g(this,et))==null||b.call(this,U,e,"set")),g(this,Be)&&((E=g(this,Te))==null||E.push([U,e,"set"])))}else l||(g(this,at)&&((_=g(this,et))==null||_.call(this,C,e,"set")),g(this,Be)&&((S=g(this,Te))==null||S.push([C,e,"set"])));if(g(this,Kt).call(this,w),g(this,mr).call(this,w,y,d),g(this,X)[w]=r,d){d.set="replace";let U=C&&$(this,N,pe).call(this,C)?C.__staleWhileFetching:C;U!==void 0&&(d.oldValue=U)}}else d&&(d.set="update")}if(i!==0&&!g(this,Ve)&&$(this,N,ls).call(this),g(this,Ve)&&(f||g(this,Fn).call(this,w,i,o),d&&g(this,Et).call(this,d,w)),!l&&g(this,Be)&&g(this,Te)){let C=g(this,Te),U;for(;U=C==null?void 0:C.shift();)(k=g(this,tt))==null||k.call(this,...U)}return this}pop(){var e;try{for(;g(this,Ae);){let r=g(this,X)[g(this,Ce)];if($(this,N,Yn).call(this,!0),$(this,N,pe).call(this,r)){if(r.__staleWhileFetching)return r.__staleWhileFetching}else if(r!==void 0)return r}}finally{if(g(this,Be)&&g(this,Te)){let r=g(this,Te),n;for(;n=r==null?void 0:r.shift();)(e=g(this,tt))==null||e.call(this,...n)}}}has(e,r={}){let{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=r,o=g(this,Ee).get(e);if(o!==void 0){let l=g(this,X)[o];if($(this,N,pe).call(this,l)&&l.__staleWhileFetching===void 0)return!1;if(g(this,We).call(this,o))i&&(i.has="stale",g(this,Et).call(this,i,o));else return n&&g(this,Ht).call(this,o),i&&(i.has="hit",g(this,Et).call(this,i,o)),!0}else i&&(i.has="miss");return!1}peek(e,r={}){let{allowStale:n=this.allowStale}=r,i=g(this,Ee).get(e);if(i===void 0||!n&&g(this,We).call(this,i))return;let o=g(this,X)[i];return $(this,N,pe).call(this,o)?o.__staleWhileFetching:o}async fetch(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:l=this.ttl,noDisposeOnSet:c=this.noDisposeOnSet,size:d=0,sizeCalculation:f=this.sizeCalculation,noUpdateTTL:y=this.noUpdateTTL,noDeleteOnFetchRejection:w=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:b=this.allowStaleOnFetchRejection,ignoreFetchAbort:E=this.ignoreFetchAbort,allowStaleOnFetchAbort:_=this.allowStaleOnFetchAbort,context:S,forceRefresh:k=!1,status:C,signal:U}=r;if(!g(this,Pt))return C&&(C.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:o,status:C});let R={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:o,ttl:l,noDisposeOnSet:c,size:d,sizeCalculation:f,noUpdateTTL:y,noDeleteOnFetchRejection:w,allowStaleOnFetchRejection:b,allowStaleOnFetchAbort:_,ignoreFetchAbort:E,status:C,signal:U},j=g(this,Ee).get(e);if(j===void 0){C&&(C.fetch="miss");let Y=$(this,N,Qn).call(this,e,j,R,S);return Y.__returned=Y}else{let Y=g(this,X)[j];if($(this,N,pe).call(this,Y)){let dt=n&&Y.__staleWhileFetching!==void 0;return C&&(C.fetch="inflight",dt&&(C.returnedStale=!0)),dt?Y.__staleWhileFetching:Y.__returned=Y}let J=g(this,We).call(this,j);if(!k&&!J)return C&&(C.fetch="hit"),$(this,N,qr).call(this,j),i&&g(this,Ht).call(this,j),C&&g(this,Et).call(this,C,j),Y;let we=$(this,N,Qn).call(this,e,j,R,S),wt=we.__staleWhileFetching!==void 0&&n;return C&&(C.fetch=J?"stale":"refresh",wt&&J&&(C.returnedStale=!0)),wt?we.__staleWhileFetching:we.__returned=we}}get(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:l}=r,c=g(this,Ee).get(e);if(c!==void 0){let d=g(this,X)[c],f=$(this,N,pe).call(this,d);return l&&g(this,Et).call(this,l,c),g(this,We).call(this,c)?(l&&(l.get="stale"),f?(l&&n&&d.__staleWhileFetching!==void 0&&(l.returnedStale=!0),n?d.__staleWhileFetching:void 0):(o||this.delete(e),l&&n&&(l.returnedStale=!0),n?d:void 0)):(l&&(l.get="hit"),f?d.__staleWhileFetching:($(this,N,qr).call(this,c),i&&g(this,Ht).call(this,c),d))}else l&&(l.get="miss")}delete(e){var n,i,o,l;let r=!1;if(g(this,Ae)!==0){let c=g(this,Ee).get(e);if(c!==void 0)if(r=!0,g(this,Ae)===1)this.clear();else{g(this,Kt).call(this,c);let d=g(this,X)[c];if($(this,N,pe).call(this,d)?d.__abortController.abort(new Error("deleted")):(g(this,at)||g(this,Be))&&(g(this,at)&&((n=g(this,et))==null||n.call(this,d,e,"delete")),g(this,Be)&&((i=g(this,Te))==null||i.push([d,e,"delete"]))),g(this,Ee).delete(e),g(this,me)[c]=void 0,g(this,X)[c]=void 0,c===g(this,ke))z(this,ke,g(this,ze)[c]);else if(c===g(this,Ce))z(this,Ce,g(this,Ie)[c]);else{let f=g(this,ze)[c];g(this,Ie)[f]=g(this,Ie)[c];let y=g(this,Ie)[c];g(this,ze)[y]=g(this,ze)[c]}Gn(this,Ae)._--,g(this,nt).push(c)}}if(g(this,Be)&&((o=g(this,Te))!=null&&o.length)){let c=g(this,Te),d;for(;d=c==null?void 0:c.shift();)(l=g(this,tt))==null||l.call(this,...d)}return r}clear(){var e,r,n;for(let i of $(this,N,Mt).call(this,{allowStale:!0})){let o=g(this,X)[i];if($(this,N,pe).call(this,o))o.__abortController.abort(new Error("deleted"));else{let l=g(this,me)[i];g(this,at)&&((e=g(this,et))==null||e.call(this,o,l,"delete")),g(this,Be)&&((r=g(this,Te))==null||r.push([o,l,"delete"]))}}if(g(this,Ee).clear(),g(this,X).fill(void 0),g(this,me).fill(void 0),g(this,Ve)&&g(this,st)&&(g(this,Ve).fill(0),g(this,st).fill(0)),g(this,it)&&g(this,it).fill(0),z(this,Ce,0),z(this,ke,0),g(this,nt).length=0,z(this,rt,0),z(this,Ae,0),g(this,Be)&&g(this,Te)){let i=g(this,Te),o;for(;o=i==null?void 0:i.shift();)(n=g(this,tt))==null||n.call(this,...o)}}},Je=new WeakMap,De=new WeakMap,et=new WeakMap,tt=new WeakMap,pr=new WeakMap,Ae=new WeakMap,rt=new WeakMap,Ee=new WeakMap,me=new WeakMap,X=new WeakMap,Ie=new WeakMap,ze=new WeakMap,Ce=new WeakMap,ke=new WeakMap,nt=new WeakMap,Te=new WeakMap,it=new WeakMap,st=new WeakMap,Ve=new WeakMap,at=new WeakMap,Pt=new WeakMap,Be=new WeakMap,N=new WeakSet,ls=function(){let e=new Kn(g(this,Je)),r=new Kn(g(this,Je));z(this,Ve,e),z(this,st,r),z(this,Fn,(o,l,c=or.now())=>{if(r[o]=l!==0?c:0,e[o]=l,l!==0&&this.ttlAutopurge){let d=setTimeout(()=>{g(this,We).call(this,o)&&this.delete(g(this,me)[o])},l+1);d.unref&&d.unref()}}),z(this,Ht,o=>{r[o]=e[o]!==0?or.now():0}),z(this,Et,(o,l)=>{if(e[l]){let c=e[l],d=r[l];if(!c||!d)return;o.ttl=c,o.start=d,o.now=n||i();let f=o.now-d;o.remainingTTL=c-f}});let n=0,i=()=>{let o=or.now();if(this.ttlResolution>0){n=o;let l=setTimeout(()=>n=0,this.ttlResolution);l.unref&&l.unref()}return o};this.getRemainingTTL=o=>{let l=g(this,Ee).get(o);if(l===void 0)return 0;let c=e[l],d=r[l];if(!c||!d)return 1/0;let f=(n||i())-d;return c-f},z(this,We,o=>{let l=r[o],c=e[o];return!!c&&!!l&&(n||i())-l>c})},Ht=new WeakMap,Et=new WeakMap,Fn=new WeakMap,We=new WeakMap,mo=function(){let e=new Kn(g(this,Je));z(this,rt,0),z(this,it,e),z(this,Kt,r=>{z(this,rt,g(this,rt)-e[r]),e[r]=0}),z(this,Zn,(r,n,i,o)=>{if($(this,N,pe).call(this,n))return 0;if(!It(i))if(o){if(typeof o!="function")throw new TypeError("sizeCalculation must be a function");if(i=o(n,r),!It(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i}),z(this,mr,(r,n,i)=>{if(e[r]=n,g(this,De)){let o=g(this,De)-e[r];for(;g(this,rt)>o;)$(this,N,Yn).call(this,!0)}z(this,rt,g(this,rt)+e[r]),i&&(i.entrySize=n,i.totalCalculatedSize=g(this,rt))})},Kt=new WeakMap,mr=new WeakMap,Zn=new WeakMap,Bt=function*({allowStale:e=this.allowStale}={}){if(g(this,Ae))for(let r=g(this,ke);!(!$(this,N,ds).call(this,r)||((e||!g(this,We).call(this,r))&&(yield r),r===g(this,Ce)));)r=g(this,ze)[r]},Mt=function*({allowStale:e=this.allowStale}={}){if(g(this,Ae))for(let r=g(this,Ce);!(!$(this,N,ds).call(this,r)||((e||!g(this,We).call(this,r))&&(yield r),r===g(this,ke)));)r=g(this,Ie)[r]},ds=function(e){return e!==void 0&&g(this,Ee).get(g(this,me)[e])===e},Yn=function(e){var o,l;let r=g(this,Ce),n=g(this,me)[r],i=g(this,X)[r];return g(this,Pt)&&$(this,N,pe).call(this,i)?i.__abortController.abort(new Error("evicted")):(g(this,at)||g(this,Be))&&(g(this,at)&&((o=g(this,et))==null||o.call(this,i,n,"evict")),g(this,Be)&&((l=g(this,Te))==null||l.push([i,n,"evict"]))),g(this,Kt).call(this,r),e&&(g(this,me)[r]=void 0,g(this,X)[r]=void 0,g(this,nt).push(r)),g(this,Ae)===1?(z(this,Ce,z(this,ke,0)),g(this,nt).length=0):z(this,Ce,g(this,Ie)[r]),g(this,Ee).delete(n),Gn(this,Ae)._--,r},Qn=function(e,r,n,i){let o=r===void 0?void 0:g(this,X)[r];if($(this,N,pe).call(this,o))return o;let l=new si,{signal:c}=n;c==null||c.addEventListener("abort",()=>l.abort(c.reason),{signal:l.signal});let d={signal:l.signal,options:n,context:i},f=(S,k=!1)=>{let{aborted:C}=l.signal,U=n.ignoreFetchAbort&&S!==void 0;if(n.status&&(C&&!k?(n.status.fetchAborted=!0,n.status.fetchError=l.signal.reason,U&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),C&&!U&&!k)return w(l.signal.reason);let R=E;return g(this,X)[r]===E&&(S===void 0?R.__staleWhileFetching?g(this,X)[r]=R.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,S,d.options))),S},y=S=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=S),w(S)),w=S=>{let{aborted:k}=l.signal,C=k&&n.allowStaleOnFetchAbort,U=C||n.allowStaleOnFetchRejection,R=U||n.noDeleteOnFetchRejection,j=E;if(g(this,X)[r]===E&&(!R||j.__staleWhileFetching===void 0?this.delete(e):C||(g(this,X)[r]=j.__staleWhileFetching)),U)return n.status&&j.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),j.__staleWhileFetching;if(j.__returned===j)throw S},b=(S,k)=>{var U;let C=(U=g(this,pr))==null?void 0:U.call(this,e,o,d);C&&C instanceof Promise&&C.then(R=>S(R===void 0?void 0:R),k),l.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(S(void 0),n.allowStaleOnFetchAbort&&(S=R=>f(R,!0)))})};n.status&&(n.status.fetchDispatched=!0);let E=new Promise(b).then(f,y),_=Object.assign(E,{__abortController:l,__staleWhileFetching:o,__returned:void 0});return r===void 0?(this.set(e,_,{...d.options,status:void 0}),r=g(this,Ee).get(e)):g(this,X)[r]=_,_},pe=function(e){if(!g(this,Pt))return!1;let r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof si},hs=function(e,r){g(this,ze)[r]=e,g(this,Ie)[e]=r},qr=function(e){e!==g(this,ke)&&(e===g(this,Ce)?z(this,Ce,g(this,Ie)[e]):$(this,N,hs).call(this,g(this,ze)[e],g(this,Ie)[e]),$(this,N,hs).call(this,g(this,ke),e),z(this,ke,e))},gr);function Dl({size:t}){return new $l({max:t,maxSize:5e6,sizeCalculation:e=>JSON.stringify(e).length,allowStale:!0})}function zl({cache:t}){return async e=>{if(t.max)return t.get(e)}}function Vl({cache:t}){return async(e,{url:r,address:n},i)=>{if(t.max)return t.set(e,{url:r,address:n},{ttl:i})}}function Wl({cache:t}){return async e=>{if(t.max)return t.get(e)}}function Gl({cache:t}){return async(e,r,n)=>{if(t.max)return t.set(e,{url:r,address:e,ttl:n},{ttl:n})}}function ql({fetch:t}){return async(e,r)=>{let n=await t(`${e}?process-id=${r}`,{method:"GET",redirect:"manual"});return[301,302,307,308].includes(n.status)?new URL(n.headers.get("Location")).origin:e}}var oe;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{let o={};for(let l of i)o[l]=l;return o},t.getValidEnumValues=i=>{let o=t.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),l={};for(let c of o)l[c]=i[c];return t.objectValues(l)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let o=[];for(let l in i)Object.prototype.hasOwnProperty.call(i,l)&&o.push(l);return o},t.find=(i,o)=>{for(let l of i)if(o(l))return l},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,o=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(o)}t.joinValues=n,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(oe||(oe={}));var fs;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(fs||(fs={}));var M=oe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ut=t=>{switch(typeof t){case"undefined":return M.undefined;case"string":return M.string;case"number":return isNaN(t)?M.nan:M.number;case"boolean":return M.boolean;case"function":return M.function;case"bigint":return M.bigint;case"symbol":return M.symbol;case"object":return Array.isArray(t)?M.array:t===null?M.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?M.promise:typeof Map<"u"&&t instanceof Map?M.map:typeof Set<"u"&&t instanceof Set?M.set:typeof Date<"u"&&t instanceof Date?M.date:M.object;default:return M.unknown}},O=oe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Hl=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),ut=class go extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let r=e||function(o){return o.message},n={_errors:[]},i=o=>{for(let l of o.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)n._errors.push(r(l));else{let c=n,d=0;for(;d<l.path.length;){let f=l.path[d];d===l.path.length-1?(c[f]=c[f]||{_errors:[]},c[f]._errors.push(r(l))):c[f]=c[f]||{_errors:[]},c=c[f],d++}}};return i(this),n}static assert(e){if(!(e instanceof go))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,oe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};ut.create=t=>new ut(t);var vr=(t,e)=>{let r;switch(t.code){case O.invalid_type:t.received===M.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case O.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,oe.jsonStringifyReplacer)}`;break;case O.unrecognized_keys:r=`Unrecognized key(s) in object: ${oe.joinValues(t.keys,", ")}`;break;case O.invalid_union:r="Invalid input";break;case O.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${oe.joinValues(t.options)}`;break;case O.invalid_enum_value:r=`Invalid enum value. Expected ${oe.joinValues(t.options)}, received '${t.received}'`;break;case O.invalid_arguments:r="Invalid function arguments";break;case O.invalid_return_type:r="Invalid function return type";break;case O.invalid_date:r="Invalid date";break;case O.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:oe.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case O.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case O.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case O.custom:r="Invalid input";break;case O.invalid_intersection_types:r="Intersection results could not be merged";break;case O.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case O.not_finite:r="Number must be finite";break;default:r=e.defaultError,oe.assertNever(t)}return{message:r}},yo=vr;function Kl(t){yo=t}function ai(){return yo}var oi=t=>{let{data:e,path:r,errorMaps:n,issueData:i}=t,o=[...r,...i.path||[]],l={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let c="",d=n.filter(f=>!!f).slice().reverse();for(let f of d)c=f(l,{data:e,defaultError:c}).message;return{...i,path:o,message:c}},Yl=[];function I(t,e){let r=ai(),n=oi({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===vr?void 0:vr].filter(i=>!!i)});t.common.issues.push(n)}var je=class vo{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let i of r){if(i.status==="aborted")return Q;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let i of r){let o=await i.key,l=await i.value;n.push({key:o,value:l})}return vo.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:o,value:l}=i;if(o.status==="aborted"||l.status==="aborted")return Q;o.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof l.value<"u"||i.alwaysSet)&&(n[o.value]=l.value)}return{status:e.value,value:n}}},Q=Object.freeze({status:"aborted"}),ui=t=>({status:"dirty",value:t}),Le=t=>({status:"valid",value:t}),ps=t=>t.status==="aborted",ms=t=>t.status==="dirty",an=t=>t.status==="valid",ci=t=>typeof Promise<"u"&&t instanceof Promise;function li(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function wo(t,e,r,n,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var F;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(F||(F={}));var Hr,Kr,gt=class{constructor(t,e,r,n){this._cachedPath=[],this.parent=t,this.data=e,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},ka=(t,e)=>{if(an(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new ut(t.common.issues);return this._error=r,this._error}}};function ee(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{var c,d;let{message:f}=t;return o.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(c=f??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=f??r)!==null&&d!==void 0?d:l.defaultError}},description:i}}var ne=class{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Ut(t.data)}_getOrReturnCtx(t,e){return e||{common:t.parent.common,data:t.data,parsedType:Ut(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new je,ctx:{common:t.parent.common,data:t.data,parsedType:Ut(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let e=this._parse(t);if(ci(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(t){let e=this._parse(t);return Promise.resolve(e)}parse(t,e){let r=this.safeParse(t,e);if(r.success)return r.data;throw r.error}safeParse(t,e){var r;let n={common:{issues:[],async:(r=e==null?void 0:e.async)!==null&&r!==void 0?r:!1,contextualErrorMap:e==null?void 0:e.errorMap},path:(e==null?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ut(t)},i=this._parseSync({data:t,path:n.path,parent:n});return ka(n,i)}async parseAsync(t,e){let r=await this.safeParseAsync(t,e);if(r.success)return r.data;throw r.error}async safeParseAsync(t,e){let r={common:{issues:[],contextualErrorMap:e==null?void 0:e.errorMap,async:!0},path:(e==null?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ut(t)},n=this._parse({data:t,path:r.path,parent:r}),i=await(ci(n)?n:Promise.resolve(n));return ka(r,i)}refine(t,e){let r=n=>typeof e=="string"||typeof e>"u"?{message:e}:typeof e=="function"?e(n):e;return this._refinement((n,i)=>{let o=t(n),l=()=>i.addIssue({code:O.custom,...r(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,e){return this._refinement((r,n)=>t(r)?!0:(n.addIssue(typeof e=="function"?e(r,n):e),!1))}_refinement(t){return new ct({schema:this,typeName:G.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return pt.create(this,this._def)}nullable(){return Ft.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xt.create(this,this._def)}promise(){return br.create(this,this._def)}or(t){return fn.create([this,t],this._def)}and(t){return pn.create(this,t,this._def)}transform(t){return new ct({...ee(this._def),schema:this,typeName:G.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let e=typeof t=="function"?t:()=>t;return new vn({...ee(this._def),innerType:this,defaultValue:e,typeName:G.ZodDefault})}brand(){return new Ws({typeName:G.ZodBranded,type:this,...ee(this._def)})}catch(t){let e=typeof t=="function"?t:()=>t;return new wn({...ee(this._def),innerType:this,catchValue:e,typeName:G.ZodCatch})}describe(t){let e=this.constructor;return new e({...this._def,description:t})}pipe(t){return Gs.create(this,t)}readonly(){return _n.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Ql=/^c[^\s-]{8,}$/i,Xl=/^[0-9a-z]+$/,Jl=/^[0-9A-HJKMNP-TV-Z]{26}$/,ed=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,td=/^[a-z0-9_-]{21}$/i,rd=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,nd=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,id="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",es,sd=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ad=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,od=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,_o="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ud=new RegExp(`^${_o}$`);function bo(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function cd(t){return new RegExp(`^${bo(t)}$`)}function Eo(t){let e=`${_o}T${bo(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function ld(t,e){return!!((e==="v4"||!e)&&sd.test(t)||(e==="v6"||!e)&&ad.test(t))}var wr=class Yr extends ne{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==M.string){let i=this._getOrReturnCtx(e);return I(i,{code:O.invalid_type,expected:M.string,received:i.parsedType}),Q}let r=new je,n;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),I(n,{code:O.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),I(n,{code:O.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){let o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(n=this._getOrReturnCtx(e,n),o?I(n,{code:O.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&I(n,{code:O.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")nd.test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"email",code:O.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")es||(es=new RegExp(id,"u")),es.test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"emoji",code:O.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")ed.test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"uuid",code:O.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")td.test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"nanoid",code:O.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Ql.test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"cuid",code:O.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Xl.test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"cuid2",code:O.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Jl.test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"ulid",code:O.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),I(n,{validation:"url",code:O.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"regex",code:O.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),I(n,{code:O.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),I(n,{code:O.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),I(n,{code:O.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Eo(i).test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{code:O.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?ud.test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{code:O.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?cd(i).test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{code:O.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?rd.test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"duration",code:O.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?ld(e.data,i.version)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"ip",code:O.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?od.test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"base64",code:O.invalid_string,message:i.message}),r.dirty()):oe.assertNever(i);return{status:r.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:O.invalid_string,...F.errToObj(n)})}_addCheck(e){return new Yr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...F.errToObj(e)})}url(e){return this._addCheck({kind:"url",...F.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...F.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...F.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...F.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...F.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...F.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...F.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...F.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...F.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...F.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...F.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...F.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...F.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...F.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...F.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...F.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...F.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...F.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...F.errToObj(r)})}nonempty(e){return this.min(1,F.errToObj(e))}trim(){return new Yr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Yr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Yr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};wr.create=t=>{var e;return new wr({checks:[],typeName:G.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ee(t)})};function dd(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,o=parseInt(t.toFixed(i).replace(".","")),l=parseInt(e.toFixed(i).replace(".",""));return o%l/Math.pow(10,i)}var on=class gs extends ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==M.number){let i=this._getOrReturnCtx(e);return I(i,{code:O.invalid_type,expected:M.number,received:i.parsedType}),Q}let r,n=new je;for(let i of this._def.checks)i.kind==="int"?oe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),I(r,{code:O.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),I(r,{code:O.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),I(r,{code:O.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?dd(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),I(r,{code:O.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),I(r,{code:O.not_finite,message:i.message}),n.dirty()):oe.assertNever(i);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,F.toString(r))}gt(e,r){return this.setLimit("min",e,!1,F.toString(r))}lte(e,r){return this.setLimit("max",e,!0,F.toString(r))}lt(e,r){return this.setLimit("max",e,!1,F.toString(r))}setLimit(e,r,n,i){return new gs({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:F.toString(i)}]})}_addCheck(e){return new gs({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:F.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:F.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:F.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:F.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:F.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:F.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:F.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:F.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:F.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&oe.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};on.create=t=>new on({checks:[],typeName:G.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ee(t)});var un=class ys extends ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==M.bigint){let i=this._getOrReturnCtx(e);return I(i,{code:O.invalid_type,expected:M.bigint,received:i.parsedType}),Q}let r,n=new je;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),I(r,{code:O.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),I(r,{code:O.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),I(r,{code:O.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):oe.assertNever(i);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,F.toString(r))}gt(e,r){return this.setLimit("min",e,!1,F.toString(r))}lte(e,r){return this.setLimit("max",e,!0,F.toString(r))}lt(e,r){return this.setLimit("max",e,!1,F.toString(r))}setLimit(e,r,n,i){return new ys({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:F.toString(i)}]})}_addCheck(e){return new ys({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:F.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:F.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:F.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:F.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:F.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};un.create=t=>{var e;return new un({checks:[],typeName:G.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ee(t)})};var cn=class extends ne{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==M.boolean){let e=this._getOrReturnCtx(t);return I(e,{code:O.invalid_type,expected:M.boolean,received:e.parsedType}),Q}return Le(t.data)}};cn.create=t=>new cn({typeName:G.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ee(t)});var ln=class So extends ne{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==M.date){let i=this._getOrReturnCtx(e);return I(i,{code:O.invalid_type,expected:M.date,received:i.parsedType}),Q}if(isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return I(i,{code:O.invalid_date}),Q}let r=new je,n;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),I(n,{code:O.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),I(n,{code:O.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):oe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new So({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:F.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:F.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};ln.create=t=>new ln({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:G.ZodDate,...ee(t)});var di=class extends ne{_parse(t){if(this._getType(t)!==M.symbol){let e=this._getOrReturnCtx(t);return I(e,{code:O.invalid_type,expected:M.symbol,received:e.parsedType}),Q}return Le(t.data)}};di.create=t=>new di({typeName:G.ZodSymbol,...ee(t)});var dn=class extends ne{_parse(t){if(this._getType(t)!==M.undefined){let e=this._getOrReturnCtx(t);return I(e,{code:O.invalid_type,expected:M.undefined,received:e.parsedType}),Q}return Le(t.data)}};dn.create=t=>new dn({typeName:G.ZodUndefined,...ee(t)});var hn=class extends ne{_parse(t){if(this._getType(t)!==M.null){let e=this._getOrReturnCtx(t);return I(e,{code:O.invalid_type,expected:M.null,received:e.parsedType}),Q}return Le(t.data)}};hn.create=t=>new hn({typeName:G.ZodNull,...ee(t)});var _r=class extends ne{constructor(){super(...arguments),this._any=!0}_parse(t){return Le(t.data)}};_r.create=t=>new _r({typeName:G.ZodAny,...ee(t)});var Yt=class extends ne{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Le(t.data)}};Yt.create=t=>new Yt({typeName:G.ZodUnknown,...ee(t)});var kt=class extends ne{_parse(t){let e=this._getOrReturnCtx(t);return I(e,{code:O.invalid_type,expected:M.never,received:e.parsedType}),Q}};kt.create=t=>new kt({typeName:G.ZodNever,...ee(t)});var hi=class extends ne{_parse(t){if(this._getType(t)!==M.undefined){let e=this._getOrReturnCtx(t);return I(e,{code:O.invalid_type,expected:M.void,received:e.parsedType}),Q}return Le(t.data)}};hi.create=t=>new hi({typeName:G.ZodVoid,...ee(t)});var Xt=class Xn extends ne{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==M.array)return I(r,{code:O.invalid_type,expected:M.array,received:r.parsedType}),Q;if(i.exactLength!==null){let l=r.data.length>i.exactLength.value,c=r.data.length<i.exactLength.value;(l||c)&&(I(r,{code:l?O.too_big:O.too_small,minimum:c?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(I(r,{code:O.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(I(r,{code:O.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((l,c)=>i.type._parseAsync(new gt(r,l,r.path,c)))).then(l=>je.mergeArray(n,l));let o=[...r.data].map((l,c)=>i.type._parseSync(new gt(r,l,r.path,c)));return je.mergeArray(n,o)}get element(){return this._def.type}min(e,r){return new Xn({...this._def,minLength:{value:e,message:F.toString(r)}})}max(e,r){return new Xn({...this._def,maxLength:{value:e,message:F.toString(r)}})}length(e,r){return new Xn({...this._def,exactLength:{value:e,message:F.toString(r)}})}nonempty(e){return this.min(1,e)}};Xt.create=(t,e)=>new Xt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:G.ZodArray,...ee(e)});function cr(t){if(t instanceof He){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=pt.create(cr(n))}return new He({...t._def,shape:()=>e})}else return t instanceof Xt?new Xt({...t._def,type:cr(t.element)}):t instanceof pt?pt.create(cr(t.unwrap())):t instanceof Ft?Ft.create(cr(t.unwrap())):t instanceof jt?jt.create(t.items.map(e=>cr(e))):t}var He=class Qe extends ne{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=oe.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==M.object){let d=this._getOrReturnCtx(e);return I(d,{code:O.invalid_type,expected:M.object,received:d.parsedType}),Q}let{status:r,ctx:n}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof kt&&this._def.unknownKeys==="strip"))for(let d in n.data)o.includes(d)||l.push(d);let c=[];for(let d of o){let f=i[d],y=n.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new gt(n,y,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof kt){let d=this._def.unknownKeys;if(d==="passthrough")for(let f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:n.data[f]}});else if(d==="strict")l.length>0&&(I(n,{code:O.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let d=this._def.catchall;for(let f of l){let y=n.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new gt(n,y,n.path,f)),alwaysSet:f in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let d=[];for(let f of c){let y=await f.key,w=await f.value;d.push({key:y,value:w,alwaysSet:f.alwaysSet})}return d}).then(d=>je.mergeObjectSync(r,d)):je.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return F.errToObj,new Qe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,o,l,c;let d=(l=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,r,n).message)!==null&&l!==void 0?l:n.defaultError;return r.code==="unrecognized_keys"?{message:(c=F.errToObj(e).message)!==null&&c!==void 0?c:d}:{message:d}}}:{}})}strip(){return new Qe({...this._def,unknownKeys:"strip"})}passthrough(){return new Qe({...this._def,unknownKeys:"passthrough"})}extend(e){return new Qe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Qe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:G.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Qe({...this._def,catchall:e})}pick(e){let r={};return oe.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Qe({...this._def,shape:()=>r})}omit(e){let r={};return oe.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Qe({...this._def,shape:()=>r})}deepPartial(){return cr(this)}partial(e){let r={};return oe.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new Qe({...this._def,shape:()=>r})}required(e){let r={};return oe.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof pt;)i=i._def.innerType;r[n]=i}}),new Qe({...this._def,shape:()=>r})}keyof(){return Co(oe.objectKeys(this.shape))}};He.create=(t,e)=>new He({shape:()=>t,unknownKeys:"strip",catchall:kt.create(),typeName:G.ZodObject,...ee(e)});He.strictCreate=(t,e)=>new He({shape:()=>t,unknownKeys:"strict",catchall:kt.create(),typeName:G.ZodObject,...ee(e)});He.lazycreate=(t,e)=>new He({shape:t,unknownKeys:"strip",catchall:kt.create(),typeName:G.ZodObject,...ee(e)});var fn=class extends ne{_parse(t){let{ctx:e}=this._processInputParams(t),r=this._def.options;function n(i){for(let l of i)if(l.result.status==="valid")return l.result;for(let l of i)if(l.result.status==="dirty")return e.common.issues.push(...l.ctx.common.issues),l.result;let o=i.map(l=>new ut(l.ctx.common.issues));return I(e,{code:O.invalid_union,unionErrors:o}),Q}if(e.common.async)return Promise.all(r.map(async i=>{let o={...e,common:{...e.common,issues:[]},parent:null};return{result:await i._parseAsync({data:e.data,path:e.path,parent:o}),ctx:o}})).then(n);{let i,o=[];for(let c of r){let d={...e,common:{...e.common,issues:[]},parent:null},f=c._parseSync({data:e.data,path:e.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return e.common.issues.push(...i.ctx.common.issues),i.result;let l=o.map(c=>new ut(c));return I(e,{code:O.invalid_union,unionErrors:l}),Q}}get options(){return this._def.options}};fn.create=(t,e)=>new fn({options:t,typeName:G.ZodUnion,...ee(e)});var Lt=t=>t instanceof mn?Lt(t.schema):t instanceof ct?Lt(t.innerType()):t instanceof gn?[t.value]:t instanceof $n?t.options:t instanceof yn?oe.objectValues(t.enum):t instanceof vn?Lt(t._def.innerType):t instanceof dn?[void 0]:t instanceof hn?[null]:t instanceof pt?[void 0,...Lt(t.unwrap())]:t instanceof Ft?[null,...Lt(t.unwrap())]:t instanceof Ws||t instanceof _n?Lt(t.unwrap()):t instanceof wn?Lt(t._def.innerType):[],Ao=class xo extends ne{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==M.object)return I(r,{code:O.invalid_type,expected:M.object,received:r.parsedType}),Q;let n=this.discriminator,i=r.data[n],o=this.optionsMap.get(i);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(I(r,{code:O.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Q)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let i=new Map;for(let o of r){let l=Lt(o.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let c of l){if(i.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);i.set(c,o)}}return new xo({typeName:G.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...ee(n)})}};function vs(t,e){let r=Ut(t),n=Ut(e);if(t===e)return{valid:!0,data:t};if(r===M.object&&n===M.object){let i=oe.objectKeys(e),o=oe.objectKeys(t).filter(c=>i.indexOf(c)!==-1),l={...t,...e};for(let c of o){let d=vs(t[c],e[c]);if(!d.valid)return{valid:!1};l[c]=d.data}return{valid:!0,data:l}}else if(r===M.array&&n===M.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let o=0;o<t.length;o++){let l=t[o],c=e[o],d=vs(l,c);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return r===M.date&&n===M.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var pn=class extends ne{_parse(t){let{status:e,ctx:r}=this._processInputParams(t),n=(i,o)=>{if(ps(i)||ps(o))return Q;let l=vs(i.value,o.value);return l.valid?((ms(i)||ms(o))&&e.dirty(),{status:e.value,value:l.data}):(I(r,{code:O.invalid_intersection_types}),Q)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>n(i,o)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};pn.create=(t,e,r)=>new pn({left:t,right:e,typeName:G.ZodIntersection,...ee(r)});var jt=class ko extends ne{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==M.array)return I(n,{code:O.invalid_type,expected:M.array,received:n.parsedType}),Q;if(n.data.length<this._def.items.length)return I(n,{code:O.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Q;!this._def.rest&&n.data.length>this._def.items.length&&(I(n,{code:O.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...n.data].map((o,l)=>{let c=this._def.items[l]||this._def.rest;return c?c._parse(new gt(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>je.mergeArray(r,o)):je.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new ko({...this._def,rest:e})}};jt.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new jt({items:t,typeName:G.ZodTuple,rest:null,...ee(e)})};var To=class ws extends ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==M.object)return I(n,{code:O.invalid_type,expected:M.object,received:n.parsedType}),Q;let i=[],o=this._def.keyType,l=this._def.valueType;for(let c in n.data)i.push({key:o._parse(new gt(n,c,n.path,c)),value:l._parse(new gt(n,n.data[c],n.path,c)),alwaysSet:c in n.data});return n.common.async?je.mergeObjectAsync(r,i):je.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof ne?new ws({keyType:e,valueType:r,typeName:G.ZodRecord,...ee(n)}):new ws({keyType:wr.create(),valueType:e,typeName:G.ZodRecord,...ee(r)})}},fi=class extends ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:e,ctx:r}=this._processInputParams(t);if(r.parsedType!==M.map)return I(r,{code:O.invalid_type,expected:M.map,received:r.parsedType}),Q;let n=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:n._parse(new gt(r,l,r.path,[d,"key"])),value:i._parse(new gt(r,c,r.path,[d,"value"]))}));if(r.common.async){let l=new Map;return Promise.resolve().then(async()=>{for(let c of o){let d=await c.key,f=await c.value;if(d.status==="aborted"||f.status==="aborted")return Q;(d.status==="dirty"||f.status==="dirty")&&e.dirty(),l.set(d.value,f.value)}return{status:e.value,value:l}})}else{let l=new Map;for(let c of o){let d=c.key,f=c.value;if(d.status==="aborted"||f.status==="aborted")return Q;(d.status==="dirty"||f.status==="dirty")&&e.dirty(),l.set(d.value,f.value)}return{status:e.value,value:l}}}};fi.create=(t,e,r)=>new fi({valueType:e,keyType:t,typeName:G.ZodMap,...ee(r)});var pi=class _s extends ne{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==M.set)return I(n,{code:O.invalid_type,expected:M.set,received:n.parsedType}),Q;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(I(n,{code:O.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(I(n,{code:O.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let o=this._def.valueType;function l(d){let f=new Set;for(let y of d){if(y.status==="aborted")return Q;y.status==="dirty"&&r.dirty(),f.add(y.value)}return{status:r.value,value:f}}let c=[...n.data.values()].map((d,f)=>o._parse(new gt(n,d,n.path,f)));return n.common.async?Promise.all(c).then(d=>l(d)):l(c)}min(e,r){return new _s({...this._def,minSize:{value:e,message:F.toString(r)}})}max(e,r){return new _s({...this._def,maxSize:{value:e,message:F.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};pi.create=(t,e)=>new pi({valueType:t,minSize:null,maxSize:null,typeName:G.ZodSet,...ee(e)});var Oo=class Jn extends ne{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==M.function)return I(r,{code:O.invalid_type,expected:M.function,received:r.parsedType}),Q;function n(c,d){return oi({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ai(),vr].filter(f=>!!f),issueData:{code:O.invalid_arguments,argumentsError:d}})}function i(c,d){return oi({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ai(),vr].filter(f=>!!f),issueData:{code:O.invalid_return_type,returnTypeError:d}})}let o={errorMap:r.common.contextualErrorMap},l=r.data;if(this._def.returns instanceof br){let c=this;return Le(async function(...d){let f=new ut([]),y=await c._def.args.parseAsync(d,o).catch(b=>{throw f.addIssue(n(d,b)),f}),w=await Reflect.apply(l,this,y);return await c._def.returns._def.type.parseAsync(w,o).catch(b=>{throw f.addIssue(i(w,b)),f})})}else{let c=this;return Le(function(...d){let f=c._def.args.safeParse(d,o);if(!f.success)throw new ut([n(d,f.error)]);let y=Reflect.apply(l,this,f.data),w=c._def.returns.safeParse(y,o);if(!w.success)throw new ut([i(y,w.error)]);return w.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Jn({...this._def,args:jt.create(e).rest(Yt.create())})}returns(e){return new Jn({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Jn({args:e||jt.create([]).rest(Yt.create()),returns:r||Yt.create(),typeName:G.ZodFunction,...ee(n)})}},mn=class extends ne{get schema(){return this._def.getter()}_parse(t){let{ctx:e}=this._processInputParams(t);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}};mn.create=(t,e)=>new mn({getter:t,typeName:G.ZodLazy,...ee(e)});var gn=class extends ne{_parse(t){if(t.data!==this._def.value){let e=this._getOrReturnCtx(t);return I(e,{received:e.data,code:O.invalid_literal,expected:this._def.value}),Q}return{status:"valid",value:t.data}}get value(){return this._def.value}};gn.create=(t,e)=>new gn({value:t,typeName:G.ZodLiteral,...ee(e)});function Co(t,e){return new $n({values:t,typeName:G.ZodEnum,...ee(e)})}var $n=class bs extends ne{constructor(){super(...arguments),Hr.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return I(r,{expected:oe.joinValues(n),received:r.parsedType,code:O.invalid_type}),Q}if(li(this,Hr)||wo(this,Hr,new Set(this._def.values)),!li(this,Hr).has(e.data)){let r=this._getOrReturnCtx(e),n=this._def.values;return I(r,{received:r.data,code:O.invalid_enum_value,options:n}),Q}return Le(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return bs.create(e,{...this._def,...r})}exclude(e,r=this._def){return bs.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}};Hr=new WeakMap;$n.create=Co;var yn=class extends ne{constructor(){super(...arguments),Kr.set(this,void 0)}_parse(t){let e=oe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==M.string&&r.parsedType!==M.number){let n=oe.objectValues(e);return I(r,{expected:oe.joinValues(n),received:r.parsedType,code:O.invalid_type}),Q}if(li(this,Kr)||wo(this,Kr,new Set(oe.getValidEnumValues(this._def.values))),!li(this,Kr).has(t.data)){let n=oe.objectValues(e);return I(r,{received:r.data,code:O.invalid_enum_value,options:n}),Q}return Le(t.data)}get enum(){return this._def.values}};Kr=new WeakMap;yn.create=(t,e)=>new yn({values:t,typeName:G.ZodNativeEnum,...ee(e)});var br=class extends ne{unwrap(){return this._def.type}_parse(t){let{ctx:e}=this._processInputParams(t);if(e.parsedType!==M.promise&&e.common.async===!1)return I(e,{code:O.invalid_type,expected:M.promise,received:e.parsedType}),Q;let r=e.parsedType===M.promise?e.data:Promise.resolve(e.data);return Le(r.then(n=>this._def.type.parseAsync(n,{path:e.path,errorMap:e.common.contextualErrorMap})))}};br.create=(t,e)=>new br({type:t,typeName:G.ZodPromise,...ee(e)});var ct=class extends ne{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===G.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:e,ctx:r}=this._processInputParams(t),n=this._def.effect||null,i={addIssue:o=>{I(r,o),o.fatal?e.abort():e.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="preprocess"){let o=n.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(e.value==="aborted")return Q;let c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Q:c.status==="dirty"||e.value==="dirty"?ui(c.value):c});{if(e.value==="aborted")return Q;let l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Q:l.status==="dirty"||e.value==="dirty"?ui(l.value):l}}if(n.type==="refinement"){let o=l=>{let c=n.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){let l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Q:(l.status==="dirty"&&e.dirty(),o(l.value),{status:e.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Q:(l.status==="dirty"&&e.dirty(),o(l.value).then(()=>({status:e.value,value:l.value}))))}if(n.type==="transform")if(r.common.async===!1){let o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!an(o))return o;let l=n.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>an(o)?Promise.resolve(n.transform(o.value,i)).then(l=>({status:e.value,value:l})):o);oe.assertNever(n)}};ct.create=(t,e,r)=>new ct({schema:t,typeName:G.ZodEffects,effect:e,...ee(r)});ct.createWithPreprocess=(t,e,r)=>new ct({schema:e,effect:{type:"preprocess",transform:t},typeName:G.ZodEffects,...ee(r)});var pt=class extends ne{_parse(t){return this._getType(t)===M.undefined?Le(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};pt.create=(t,e)=>new pt({innerType:t,typeName:G.ZodOptional,...ee(e)});var Ft=class extends ne{_parse(t){return this._getType(t)===M.null?Le(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Ft.create=(t,e)=>new Ft({innerType:t,typeName:G.ZodNullable,...ee(e)});var vn=class extends ne{_parse(t){let{ctx:e}=this._processInputParams(t),r=e.data;return e.parsedType===M.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:e.path,parent:e})}removeDefault(){return this._def.innerType}};vn.create=(t,e)=>new vn({innerType:t,typeName:G.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ee(e)});var wn=class extends ne{_parse(t){let{ctx:e}=this._processInputParams(t),r={...e,common:{...e.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ci(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ut(r.common.issues)},input:r.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new ut(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};wn.create=(t,e)=>new wn({innerType:t,typeName:G.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ee(e)});var mi=class extends ne{_parse(t){if(this._getType(t)!==M.nan){let e=this._getOrReturnCtx(t);return I(e,{code:O.invalid_type,expected:M.nan,received:e.parsedType}),Q}return{status:"valid",value:t.data}}};mi.create=t=>new mi({typeName:G.ZodNaN,...ee(t)});var hd=Symbol("zod_brand"),Ws=class extends ne{_parse(t){let{ctx:e}=this._processInputParams(t),r=e.data;return this._def.type._parse({data:r,path:e.path,parent:e})}unwrap(){return this._def.type}},Gs=class Ro extends ne{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Q:i.status==="dirty"?(r.dirty(),ui(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Q:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new Ro({in:e,out:r,typeName:G.ZodPipeline})}},_n=class extends ne{_parse(t){let e=this._def.innerType._parse(t);return an(e)&&(e.value=Object.freeze(e.value)),e}unwrap(){return this._def.innerType}};_n.create=(t,e)=>new _n({innerType:t,typeName:G.ZodReadonly,...ee(e)});function Io(t,e={},r){return t?_r.create().superRefine((n,i)=>{var o,l;if(!t(n)){let c=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,d=(l=(o=c.fatal)!==null&&o!==void 0?o:r)!==null&&l!==void 0?l:!0,f=typeof c=="string"?{message:c}:c;i.addIssue({code:"custom",...f,fatal:d})}}):_r.create()}var fd={object:He.lazycreate},G;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(G||(G={}));var pd=(t,e={message:`Input not instance of ${t.name}`})=>Io(r=>r instanceof t,e),Bo=wr.create,Mo=on.create,md=mi.create,gd=un.create,Lo=cn.create,yd=ln.create,vd=di.create,wd=dn.create,_d=hn.create,bd=_r.create,Ed=Yt.create,Sd=kt.create,Ad=hi.create,xd=Xt.create,kd=He.create,Td=He.strictCreate,Od=fn.create,Cd=Ao.create,Rd=pn.create,Id=jt.create,Bd=To.create,Md=fi.create,Ld=pi.create,Ud=Oo.create,Nd=mn.create,Pd=gn.create,jd=$n.create,Fd=yn.create,Zd=br.create,Ta=ct.create,$d=pt.create,Dd=Ft.create,zd=ct.createWithPreprocess,Vd=Gs.create,Wd=()=>Bo().optional(),Gd=()=>Mo().optional(),qd=()=>Lo().optional(),Hd={string:t=>wr.create({...t,coerce:!0}),number:t=>on.create({...t,coerce:!0}),boolean:t=>cn.create({...t,coerce:!0}),bigint:t=>un.create({...t,coerce:!0}),date:t=>ln.create({...t,coerce:!0})},Kd=Q,le=Object.freeze({__proto__:null,defaultErrorMap:vr,setErrorMap:Kl,getErrorMap:ai,makeIssue:oi,EMPTY_PATH:Yl,addIssueToContext:I,ParseStatus:je,INVALID:Q,DIRTY:ui,OK:Le,isAborted:ps,isDirty:ms,isValid:an,isAsync:ci,get util(){return oe},get objectUtil(){return fs},ZodParsedType:M,getParsedType:Ut,ZodType:ne,datetimeRegex:Eo,ZodString:wr,ZodNumber:on,ZodBigInt:un,ZodBoolean:cn,ZodDate:ln,ZodSymbol:di,ZodUndefined:dn,ZodNull:hn,ZodAny:_r,ZodUnknown:Yt,ZodNever:kt,ZodVoid:hi,ZodArray:Xt,ZodObject:He,ZodUnion:fn,ZodDiscriminatedUnion:Ao,ZodIntersection:pn,ZodTuple:jt,ZodRecord:To,ZodMap:fi,ZodSet:pi,ZodFunction:Oo,ZodLazy:mn,ZodLiteral:gn,ZodEnum:$n,ZodNativeEnum:yn,ZodPromise:br,ZodEffects:ct,ZodTransformer:ct,ZodOptional:pt,ZodNullable:Ft,ZodDefault:vn,ZodCatch:wn,ZodNaN:mi,BRAND:hd,ZodBranded:Ws,ZodPipeline:Gs,ZodReadonly:_n,custom:Io,Schema:ne,ZodSchema:ne,late:fd,get ZodFirstPartyTypeKind(){return G},coerce:Hd,any:bd,array:xd,bigint:gd,boolean:Lo,date:yd,discriminatedUnion:Cd,effect:Ta,enum:jd,function:Ud,instanceof:pd,intersection:Rd,lazy:Nd,literal:Pd,map:Md,nan:md,nativeEnum:Fd,never:Sd,null:_d,nullable:Dd,number:Mo,object:kd,oboolean:qd,onumber:Gd,optional:$d,ostring:Wd,pipeline:Vd,preprocess:zd,promise:Zd,record:Bd,set:Ld,strictObject:Td,string:Bo,symbol:vd,transformer:Ta,tuple:Id,undefined:wd,union:Od,unknown:Ed,void:Ad,NEVER:Kd,ZodIssueCode:O,quotelessJson:Hl,ZodError:ut}),Uo=le.object({url:le.string(),address:le.string()}),No=le.object({url:le.string(),address:le.string(),ttl:le.coerce.number()}),Yd=le.function().args(le.string(),le.string()).returns(le.promise(le.string())),Qd=le.function().args(le.string()).returns(le.promise(Uo.nullish())),Xd=le.function().args(le.string(),Uo,le.number()).returns(le.promise(le.any())),qs=le.function().args(le.string()).returns(le.promise(No.nullish())),Hs=le.function().args(le.string(),le.string(),le.number()).returns(le.promise(le.any())),Ci=le.function().args(le.string()).returns(le.promise(No)),Jd=Ci;function eh({loadProcessScheduler:t,loadScheduler:e,cache:r,followRedirects:n,checkForRedirect:i}){t=Jd.implement(t),e=Ci.implement(e),i=Yd.implement(i);let o=Qd.implement(r.getByProcess),l=qs.implement(r.getByOwner),c=Xd.implement(r.setByProcess),d=Hs.implement(r.setByOwner);return(f,y)=>o(f).then(async w=>w||Promise.resolve().then(async()=>y?await l(y)||e(y).then(E=>(d(E.address,E.url,E.ttl),E)):t(f)).then(async b=>{let E=b.url;n&&(E=await i(b.url,f));let _={url:Vs(E),address:b.address};return await c(f,_,b.ttl),_}))}function th({loadScheduler:t,cache:e}){t=Ci.implement(t);let r=qs.implement(e.getByOwner),n=Hs.implement(e.setByOwner);return i=>r(i).then(o=>o?{url:o.url}:t(i).then(l=>n(i,l.url,l.ttl).then(()=>({url:Vs(l.url)}))).catch(l=>{if(!(l instanceof ii))throw l}))}function rh({loadScheduler:t,cache:e}){t=Ci.implement(t);let r=qs.implement(e.getByOwner),n=Hs.implement(e.setByOwner);return i=>r(i).then(o=>o?!0:t(i).then(l=>n(i,l.url,l.ttl)).then(()=>!0).catch(l=>{if(l instanceof ii)return!1;throw l}))}var nh=100,ih="https://arweave.net/graphql",sh=0,ah=300,oh=!1;function Po({cacheSize:t=nh,followRedirects:e=oh,GRAPHQL_URL:r=ih,GRAPHQL_MAX_RETRIES:n=sh,GRAPHQL_RETRY_BACKOFF:i=ah}={}){let o=Dl({size:t}),l=lo({fetch,GRAPHQL_URL:r,GRAPHQL_MAX_RETRIES:n,GRAPHQL_RETRY_BACKOFF:i}),c={getByProcess:zl({cache:o}),getByOwner:Wl({cache:o}),setByProcess:Vl({cache:o}),setByOwner:Gl({cache:o})},d=eh({loadProcessScheduler:jl({fetch,GRAPHQL_URL:r,GRAPHQL_MAX_RETRIES:n,GRAPHQL_RETRY_BACKOFF:i}),loadScheduler:l,cache:c,followRedirects:e,checkForRedirect:ql({fetch})}),f=rh({loadScheduler:l,cache:c}),y=th({loadScheduler:l,cache:c});return{locate:d,validate:f,raw:y}}var uh=globalThis.GRAPHQL_URL||void 0,ch=globalThis.SCHEDULER_UTILS_CACHE_SIZE||void 0,lh=globalThis.SCHEDULER_UTILS_FOLLOW_REDIRECTS==="true"||void 0,dh=globalThis.GRAPHQL_MAX_RETRIES||void 0,hh=globalThis.GRAPHQL_RETRY_BACKOFF||void 0;Po({GRAPHQL_URL:uh,cacheSize:ch,followRedirects:lh,GRAPHQL_MAX_RETRIES:dh,GRAPHQL_RETRY_BACKOFF:hh});var St=t=>({fork:t,toPromise:()=>new Promise((e,r)=>t(r,e)),map:e=>St((r,n)=>t(r,i=>n(e(i)))),bimap:(e,r)=>St((n,i)=>t(o=>n(e(o)),o=>i(r(o)))),chain:e=>St((r,n)=>t(r,i=>e(i).fork(r,n))),bichain:(e,r)=>St((n,i)=>t(o=>e(o).fork(n,i),o=>r(o).fork(n,i))),fold:(e,r)=>St((n,i)=>t(o=>e(o).fork(n,i),o=>r(o).fork(n,i)))}),se=t=>St((e,r)=>r(t)),Jt=t=>St((e,r)=>r(t)),zt=t=>St((e,r)=>e(t)),he=t=>(...e)=>St((r,n)=>t(...e).then(n).catch(r));function fh({fetch:t,MU_URL:e,logger:r}){const n=r.child("deployMessage");return i=>se(i).chain(he(({processId:o,data:l,tags:c,anchor:d,signer:f})=>f({data:l,tags:c,target:o,anchor:d}))).chain(o=>se(o).chain(he(async l=>t(e,{method:"POST",headers:{"Content-Type":"application/octet-stream",Accept:"application/json"},redirect:"follow",body:l.raw}))).bichain(l=>zt(new Error(`Error while communicating with MU: ${JSON.stringify(l)}`)),he(async l=>{if(l.ok)return l.json();throw new Error(`${l.status}: ${await l.text()}`)})).bimap(n.tap("Error encountered when writing message via MU"),n.tap("Successfully wrote message via MU")).map(l=>({res:l,messageId:o.id}))).toPromise()}function ph({fetch:t,MU_URL:e,logger:r}){const n=r.child("deployProcess");return i=>se(i).chain(he(({data:o,tags:l,signer:c})=>c({data:o,tags:l}))).chain(o=>se(o).chain(he(async l=>t(e,{method:"POST",headers:{"Content-Type":"application/octet-stream",Accept:"application/json"},redirect:"follow",body:l.raw}))).bichain(l=>zt(new Error(`Error while communicating with MU: ${JSON.stringify(l)}`)),he(async l=>{if(l.ok)return l.json();throw new Error(`${l.status}: ${await l.text()}`)})).bimap(n.tap("Error encountered when deploying process via MU"),n.tap("Successfully deployed process via MU")).map(l=>({res:l,processId:o.id}))).toPromise()}function mh({fetch:t,MU_URL:e,logger:r}){const n=r.child("deployMonitor");return i=>se(i).chain(he(({processId:o,data:l,tags:c,anchor:d,signer:f})=>f({data:l,tags:c,target:o,anchor:d}))).chain(o=>se(o).chain(he(async l=>t(e+"/monitor/"+i.processId,{method:"POST",headers:{"Content-Type":"application/octet-stream",Accept:"application/json"},redirect:"follow",body:l.raw}))).bichain(l=>zt(new Error(`Error while communicating with MU: ${JSON.stringify(l)}`)),he(async l=>{if(l.ok)return{ok:!0};throw new Error(`${l.status}: ${await l.text()}`)})).bimap(n.tap("Error encountered when subscribing to process via MU"),n.tap("Successfully subscribed to process via MU")).map(l=>({res:l,messageId:o.id}))).toPromise()}function gh({fetch:t,MU_URL:e,logger:r}){const n=r.child("deployUnmonitor");return i=>se(i).chain(he(({processId:o,data:l,tags:c,anchor:d,signer:f})=>f({data:l,tags:c,target:o,anchor:d}))).chain(o=>se(o).chain(he(async l=>t(e+"/monitor/"+i.processId,{method:"DELETE",headers:{"Content-Type":"application/octet-stream",Accept:"application/json"},redirect:"follow",body:l.raw}))).bichain(l=>zt(new Error(`Error while communicating with MU: ${JSON.stringify(l)}`)),he(async l=>{if(l.ok)return{ok:!0};throw new Error(`${l.status}: ${await l.text()}`)})).bimap(n.tap("Error encountered when unsubscribing to process via MU"),n.tap("Successfully unsubscribed to process via MU")).map(l=>({res:l,messageId:o.id}))).toPromise()}function yh({fetch:t,MU_URL:e,logger:r}){const n=r.child("deployAssign");return i=>se(i).chain(he(async({process:o,message:l,baseLayer:c,exclude:d})=>t(`${e}?process-id=${o}&assign=${l}${c?"&base-layer":""}${d?"&exclude="+d.join(","):""}`,{method:"POST",headers:{"Content-Type":"application/octet-stream",Accept:"application/json"}}))).bichain(o=>zt(new Error(`Error while communicating with MU: ${JSON.stringify(o)}`)),he(async o=>{if(o.ok)return o.json();throw new Error(`${o.status}: ${await o.text()}`)})).bimap(n.tap("Error encountered when writing assignment via MU"),n.tap("Successfully wrote assignment via MU")).map(o=>({res:o,assignmentId:o.id})).toPromise()}function vh({fetch:t,CU_URL:e,logger:r}){return n=>se(n).map(r.tap("posting dryrun request to CU")).chain(he(i=>t(`${e}/dry-run?process-id=${i.Target}`,{method:"POST",headers:{"Content-Type":"application/json"},redirect:"follow",body:JSON.stringify(i)}).then(o=>o.json()))).toPromise()}function wh({fetch:t,CU_URL:e,logger:r}){return({id:n,processId:i})=>se(`${e}/result/${n}?process-id=${i}`).map(r.tap("fetching message result from CU")).chain(he(async o=>t(o,{method:"GET",headers:{Accept:"application/json"},redirect:"follow"}).then(l=>l.json()))).toPromise()}function _h({fetch:t,CU_URL:e,logger:r}){return({process:n,from:i,to:o,sort:l,limit:c})=>{const d=new URL(`${e}/results/${n}`),f=new URLSearchParams(d.search);return i&&f.append("from",i),o&&f.append("to",o),l&&f.append("sort",l),c&&f.append("limit",c),d.search=f,se(d.toString()).map(r.tap("fetching message result from CU")).chain(he(async y=>t(y,{method:"GET",headers:{Accept:"application/json"},redirect:"follow"}).then(w=>w.json()))).toPromise()}}var bh=Ps(lc()),Qr,Eh=({MAX_SIZE:t})=>Qr||(Qr=new bh.default(t),Qr),ts=({logger:t,fetch:e,cache:r=Qr})=>async({suUrl:n,processId:i})=>r.has(i)?r.get(i):e(`${n}/processes/${i}`,{method:"GET",redirect:"follow"}).then(async o=>{if(o.ok)return o.json();throw t("Error Encountered when fetching process meta from SU '%s' for process '%s'",n,i),new Error(`Encountered Error fetching scheduled messages from Scheduler Unit: ${o.status}: ${await o.text()}`)}).then(o=>(t("Caching process meta for process '%s'",i),r.set(i,{tags:o.tags}),o)),Sh=function(){return!1},Ah=Sh,xh=function(){return!0},jo=xh,xt={"@@functional/placeholder":!0};function ye(t){return t!=null&&typeof t=="object"&&t["@@functional/placeholder"]===!0}function Se(t){return function e(r){return arguments.length===0||ye(r)?e:t.apply(this,arguments)}}function ve(t){return function e(r,n){switch(arguments.length){case 0:return e;case 1:return ye(r)?e:Se(function(i){return t(r,i)});default:return ye(r)&&ye(n)?e:ye(r)?Se(function(i){return t(i,n)}):ye(n)?Se(function(i){return t(r,i)}):t(r,n)}}}function kh(t,e){t=t||[],e=e||[];var r,n=t.length,i=e.length,o=[];for(r=0;r<n;)o[o.length]=t[r],r+=1;for(r=0;r<i;)o[o.length]=e[r],r+=1;return o}function Dn(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(r){return e.apply(this,arguments)};case 2:return function(r,n){return e.apply(this,arguments)};case 3:return function(r,n,i){return e.apply(this,arguments)};case 4:return function(r,n,i,o){return e.apply(this,arguments)};case 5:return function(r,n,i,o,l){return e.apply(this,arguments)};case 6:return function(r,n,i,o,l,c){return e.apply(this,arguments)};case 7:return function(r,n,i,o,l,c,d){return e.apply(this,arguments)};case 8:return function(r,n,i,o,l,c,d,f){return e.apply(this,arguments)};case 9:return function(r,n,i,o,l,c,d,f,y){return e.apply(this,arguments)};case 10:return function(r,n,i,o,l,c,d,f,y,w){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function Fo(t,e,r){return function(){for(var n=[],i=0,o=t,l=0,c=!1;l<e.length||i<arguments.length;){var d;l<e.length&&(!ye(e[l])||i>=arguments.length)?d=e[l]:(d=arguments[i],i+=1),n[l]=d,ye(d)?c=!0:o-=1,l+=1}return!c&&o<=0?r.apply(this,n):Dn(Math.max(0,o),Fo(t,n,r))}}var Th=ve(function(e,r){return e===1?Se(r):Dn(e,Fo(e,[],r))}),Ri=Th;function Rr(t){return function e(r,n,i){switch(arguments.length){case 0:return e;case 1:return ye(r)?e:ve(function(o,l){return t(r,o,l)});case 2:return ye(r)&&ye(n)?e:ye(r)?ve(function(o,l){return t(o,n,l)}):ye(n)?ve(function(o,l){return t(r,o,l)}):Se(function(o){return t(r,n,o)});default:return ye(r)&&ye(n)&&ye(i)?e:ye(r)&&ye(n)?ve(function(o,l){return t(o,l,i)}):ye(r)&&ye(i)?ve(function(o,l){return t(o,n,l)}):ye(n)&&ye(i)?ve(function(o,l){return t(r,o,l)}):ye(r)?Se(function(o){return t(o,n,i)}):ye(n)?Se(function(o){return t(r,o,i)}):ye(i)?Se(function(o){return t(r,n,o)}):t(r,n,i)}}}var Er=Array.isArray||function(e){return e!=null&&e.length>=0&&Object.prototype.toString.call(e)==="[object Array]"};function Oh(t){return t!=null&&typeof t["@@transducer/step"]=="function"}function Ii(t,e,r){return function(){if(arguments.length===0)return r();var n=arguments[arguments.length-1];if(!Er(n)){for(var i=0;i<t.length;){if(typeof n[t[i]]=="function")return n[t[i]].apply(n,Array.prototype.slice.call(arguments,0,-1));i+=1}if(Oh(n)){var o=e.apply(null,Array.prototype.slice.call(arguments,0,-1));return o(n)}}return r.apply(this,arguments)}}var yt={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}};function Oa(t){for(var e=[],r;!(r=t.next()).done;)e.push(r.value);return e}function Ca(t,e,r){for(var n=0,i=r.length;n<i;){if(t(e,r[n]))return!0;n+=1}return!1}function Ch(t){var e=String(t).match(/^function (\w*)/);return e==null?"":e[1]}function Sr(t,e){return Object.prototype.hasOwnProperty.call(e,t)}function Rh(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var rs=typeof Object.is=="function"?Object.is:Rh,Ra=Object.prototype.toString,Ih=function(){return Ra.call(arguments)==="[object Arguments]"?function(e){return Ra.call(e)==="[object Arguments]"}:function(e){return Sr("callee",e)}}(),Bh=Ih,Mh=!{toString:null}.propertyIsEnumerable("toString"),Ia=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Ba=function(){return arguments.propertyIsEnumerable("length")}(),Lh=function(e,r){for(var n=0;n<e.length;){if(e[n]===r)return!0;n+=1}return!1},Uh=Se(typeof Object.keys=="function"&&!Ba?function(e){return Object(e)!==e?[]:Object.keys(e)}:function(e){if(Object(e)!==e)return[];var r,n,i=[],o=Ba&&Bh(e);for(r in e)Sr(r,e)&&(!o||r!=="length")&&(i[i.length]=r);if(Mh)for(n=Ia.length-1;n>=0;)r=Ia[n],Sr(r,e)&&!Lh(i,r)&&(i[i.length]=r),n-=1;return i}),Ar=Uh,Nh=Se(function(e){return e===null?"Null":e===void 0?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}),Ma=Nh;function La(t,e,r,n){var i=Oa(t),o=Oa(e);function l(c,d){return Ks(c,d,r.slice(),n.slice())}return!Ca(function(c,d){return!Ca(l,d,c)},o,i)}function Ks(t,e,r,n){if(rs(t,e))return!0;var i=Ma(t);if(i!==Ma(e))return!1;if(typeof t["fantasy-land/equals"]=="function"||typeof e["fantasy-land/equals"]=="function")return typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e)&&typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t);if(typeof t.equals=="function"||typeof e.equals=="function")return typeof t.equals=="function"&&t.equals(e)&&typeof e.equals=="function"&&e.equals(t);switch(i){case"Arguments":case"Array":case"Object":if(typeof t.constructor=="function"&&Ch(t.constructor)==="Promise")return t===e;break;case"Boolean":case"Number":case"String":if(!(typeof t==typeof e&&rs(t.valueOf(),e.valueOf())))return!1;break;case"Date":if(!rs(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(!(t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline&&t.sticky===e.sticky&&t.unicode===e.unicode))return!1;break}for(var o=r.length-1;o>=0;){if(r[o]===t)return n[o]===e;o-=1}switch(i){case"Map":return t.size!==e.size?!1:La(t.entries(),e.entries(),r.concat([t]),n.concat([e]));case"Set":return t.size!==e.size?!1:La(t.values(),e.values(),r.concat([t]),n.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var l=Ar(t);if(l.length!==Ar(e).length)return!1;var c=r.concat([t]),d=n.concat([e]);for(o=l.length-1;o>=0;){var f=l[o];if(!(Sr(f,e)&&Ks(e[f],t[f],c,d)))return!1;o-=1}return!0}var Ph=ve(function(e,r){return Ks(e,r,[],[])}),rn=Ph;function jh(t,e,r){var n,i;if(typeof t.indexOf=="function")switch(typeof e){case"number":if(e===0){for(n=1/e;r<t.length;){if(i=t[r],i===0&&1/i===n)return r;r+=1}return-1}else if(e!==e){for(;r<t.length;){if(i=t[r],typeof i=="number"&&i!==i)return r;r+=1}return-1}return t.indexOf(e,r);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,r);case"object":if(e===null)return t.indexOf(e,r)}for(;r<t.length;){if(rn(t[r],e))return r;r+=1}return-1}function Zo(t,e){return jh(e,t,0)>=0}function ei(t,e){for(var r=0,n=e.length,i=Array(n);r<n;)i[r]=t(e[r]),r+=1;return i}function ns(t){var e=t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+e.replace(/"/g,'\\"')+'"'}var Wr=function(e){return(e<10?"0":"")+e},Fh=typeof Date.prototype.toISOString=="function"?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+Wr(e.getUTCMonth()+1)+"-"+Wr(e.getUTCDate())+"T"+Wr(e.getUTCHours())+":"+Wr(e.getUTCMinutes())+":"+Wr(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"},Zh=Fh;function $h(t){return function(){return!t.apply(this,arguments)}}function $o(t,e,r){for(var n=0,i=r.length;n<i;)e=t(e,r[n]),n+=1;return e}function Dh(t,e){for(var r=0,n=e.length,i=[];r<n;)t(e[r])&&(i[i.length]=e[r]),r+=1;return i}function zh(t){return Object.prototype.toString.call(t)==="[object Object]"}var Vh=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=yt.init,t.prototype["@@transducer/result"]=yt.result,t.prototype["@@transducer/step"]=function(e,r){return this.f(r)?this.xf["@@transducer/step"](e,r):e},t}();function Wh(t){return function(e){return new Vh(t,e)}}var Gh=ve(Ii(["fantasy-land/filter","filter"],Wh,function(t,e){return zh(e)?$o(function(r,n){return t(e[n])&&(r[n]=e[n]),r},{},Ar(e)):Dh(t,e)})),qh=Gh,Hh=ve(function(e,r){return qh($h(e),r)}),Kh=Hh;function Do(t,e){var r=function(l){var c=e.concat([t]);return Zo(l,c)?"<Circular>":Do(l,c)},n=function(o,l){return ei(function(c){return ns(c)+": "+r(o[c])},l.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+ei(r,t).join(", ")+"))";case"[object Array]":return"["+ei(r,t).concat(n(t,Kh(function(o){return/^\d+$/.test(o)},Ar(t)))).join(", ")+"]";case"[object Boolean]":return typeof t=="object"?"new Boolean("+r(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?r(NaN):ns(Zh(t)))+")";case"[object Map]":return"new Map("+r(Array.from(t))+")";case"[object Null]":return"null";case"[object Number]":return typeof t=="object"?"new Number("+r(t.valueOf())+")":1/t===-1/0?"-0":t.toString(10);case"[object Set]":return"new Set("+r(Array.from(t).sort())+")";case"[object String]":return typeof t=="object"?"new String("+r(t.valueOf())+")":ns(t);case"[object Undefined]":return"undefined";default:if(typeof t.toString=="function"){var i=t.toString();if(i!=="[object Object]")return i}return"{"+n(t,Ar(t)).join(", ")+"}"}}var Yh=Se(function(e){return Do(e,[])}),hr=Yh,Qh=ve(function(e,r){if(e===r)return r;function n(d,f){if(d>f!=f>d)return f>d?f:d}var i=n(e,r);if(i!==void 0)return i;var o=n(typeof e,typeof r);if(o!==void 0)return o===typeof e?e:r;var l=hr(e),c=n(l,hr(r));return c!==void 0&&c===l?e:r}),Xh=Qh,Jh=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=yt.init,t.prototype["@@transducer/result"]=yt.result,t.prototype["@@transducer/step"]=function(e,r){return this.xf["@@transducer/step"](e,this.f(r))},t}(),ef=function(e){return function(r){return new Jh(e,r)}},zo=ef,tf=ve(Ii(["fantasy-land/map","map"],zo,function(e,r){switch(Object.prototype.toString.call(r)){case"[object Function]":return Ri(r.length,function(){return e.call(this,r.apply(this,arguments))});case"[object Object]":return $o(function(n,i){return n[i]=e(r[i]),n},{},Ar(r));default:return ei(e,r)}})),Ys=tf,Bi=Number.isInteger||function(e){return e<<0===e};function gi(t){return Object.prototype.toString.call(t)==="[object String]"}function Vo(t,e){var r=t<0?e.length+t:t;return gi(e)?e.charAt(r):e[r]}var rf=ve(function(e,r){if(r!=null)return Bi(e)?Vo(e,r):r[e]}),er=rf,nf=Se(function(e){return Er(e)?!0:!e||typeof e!="object"||gi(e)?!1:e.length===0?!0:e.length>0?e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1):!1}),Qs=nf,Ua=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function sf(t,e,r){return function(i,o,l){if(Qs(l))return t(i,o,l);if(l==null)return o;if(typeof l["fantasy-land/reduce"]=="function")return e(i,o,l,"fantasy-land/reduce");if(l[Ua]!=null)return r(i,o,l[Ua]());if(typeof l.next=="function")return r(i,o,l);if(typeof l.reduce=="function")return e(i,o,l,"reduce");throw new TypeError("reduce: list must be array or iterable")}}function Wo(t,e,r){for(var n=0,i=r.length;n<i;){if(e=t["@@transducer/step"](e,r[n]),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n+=1}return t["@@transducer/result"](e)}var af=ve(function(e,r){return Dn(e.length,function(){return e.apply(r,arguments)})}),of=af;function uf(t,e,r){for(var n=r.next();!n.done;){if(e=t["@@transducer/step"](e,n.value),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n=r.next()}return t["@@transducer/result"](e)}function cf(t,e,r,n){return t["@@transducer/result"](r[n](of(t["@@transducer/step"],t),e))}var lf=sf(Wo,cf,uf),Go=lf,df=function(){function t(e){this.f=e}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(e){return e},t.prototype["@@transducer/step"]=function(e,r){return this.f(e,r)},t}();function hf(t){return new df(t)}var ff=Rr(function(t,e,r){return Go(typeof t=="function"?hf(t):t,e,r)}),bn=ff,pf=Se(function(e){return function(){return e}}),qo=pf,mf=ve(function(e,r){return kh(r,[e])}),gf=mf,yf=Se(function(e){return Ri(e.length,e)}),Ir=yf;function vf(t,e,r){if(Bi(t)&&Er(r)){var n=[].concat(r);return n[t]=e,n}var i={};for(var o in r)i[o]=r[o];return i[t]=e,i}var wf=Se(function(e){return e==null}),yi=wf,_f=Rr(function t(e,r,n){if(e.length===0)return r;var i=e[0];if(e.length>1){var o=!yi(n)&&Sr(i,n)&&typeof n[i]=="object"?n[i]:Bi(e[1])?[]:{};r=t(Array.prototype.slice.call(e,1),r,o)}return vf(i,r,n)}),bf=_f,Ef=Rr(function(e,r,n){return bf([e],r,n)}),Pe=Ef;function Es(t){var e=Object.prototype.toString.call(t);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object AsyncGeneratorFunction]"}function Sf(t){return function(r){for(var n,i,o,l=[],c=0,d=r.length;c<d;){if(Qs(r[c]))for(n=r[c],o=0,i=n.length;o<i;)l[l.length]=n[o],o+=1;else l[l.length]=r[c];c+=1}return l}}function Af(t){return{"@@transducer/value":t,"@@transducer/reduced":!0}}var Ho="@@transducer/init",Ss="@@transducer/step",Ko="@@transducer/result",xf=function(){function t(e){this.xf=e}return t.prototype[Ho]=yt.init,t.prototype[Ko]=yt.result,t.prototype[Ss]=function(e,r){var n=this.xf[Ss](e,r);return n["@@transducer/reduced"]?Af(n):n},t}(),kf=function(){function t(e){this.xf=new xf(e)}return t.prototype[Ho]=yt.init,t.prototype[Ko]=yt.result,t.prototype[Ss]=function(e,r){return Qs(r)?Go(this.xf,e,r):Wo(this.xf,e,[r])},t}(),Tf=function(e){return new kf(e)},Of=Tf;function Cf(t){return function(e){return zo(t)(Of(e))}}var Rf=ve(Ii(["fantasy-land/chain","chain"],Cf,function(e,r){return typeof r=="function"?function(n){return e(r(n))(n)}:Sf()(Ys(e,r))})),If=Rf;function Bf(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function Yo(t,e){return function(){var r=arguments.length;if(r===0)return e();var n=arguments[r-1];return Er(n)||typeof n[t]!="function"?e.apply(this,arguments):n[t].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}var Mf=Rr(Yo("slice",function(e,r,n){return Array.prototype.slice.call(n,e,r)})),Lf=Mf,Uf=Se(Yo("tail",Lf(1,1/0))),Nf=Uf;function Zt(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return Dn(arguments[0].length,bn(Bf,arguments[0],Nf(arguments)))}function Pf(t){return t}var jf=Se(Pf),nr=jf,Ff=ve(function(e,r){if(Er(e)){if(Er(r))return e.concat(r);throw new TypeError(hr(r)+" is not an array")}if(gi(e)){if(gi(r))return e+r;throw new TypeError(hr(r)+" is not a string")}if(e!=null&&Es(e["fantasy-land/concat"]))return e["fantasy-land/concat"](r);if(e!=null&&Es(e.concat))return e.concat(r);throw new TypeError(hr(e)+' does not have a method named "concat" or "fantasy-land/concat"')}),Zf=Ff,$f=Se(function(e){var r=bn(Xh,0,Ys(function(n){return n[0].length},e));return Dn(r,function(){for(var n=0;n<e.length;){if(e[n][0].apply(this,arguments))return e[n][1].apply(this,arguments);n+=1}})}),Qo=$f,Df=ve(function(e,r){return r==null||r!==r?e:r}),Mi=Df,zf=ve(function(e,r){if(e.length===0||yi(r))return!1;for(var n=r,i=0;i<e.length;)if(!yi(n)&&Sr(e[i],n))n=n[e[i]],i+=1;else return!1;return!0}),Vf=zf,Wf=ve(function(e,r){return Vf([e],r)}),Gf=Wf,qf=Rr(function(e,r,n){return Ri(Math.max(e.length,r.length,n.length),function(){return e.apply(this,arguments)?r.apply(this,arguments):n.apply(this,arguments)})}),Xo=qf,Hf=ve(Zo),Kf=Hf,Yf=ve(function(e,r){return Ri(e+1,function(){var n=arguments[e];if(n!=null&&Es(n[r]))return n[r].apply(n,Array.prototype.slice.call(arguments,0,e));throw new TypeError(hr(n)+' does not have a method named "'+r+'"')})}),Qf=Yf,Xf=ve(function(e,r){return r instanceof e||r!=null&&(r.constructor===e||e.name==="Object"&&typeof r=="object")}),nn=Xf,Jf=Se(function(e){return!yi(e)}),is=Jf,ep=Qf(1,"join"),tp=ep;function rp(t,e){for(var r=e,n=0;n<t.length;n+=1){if(r==null)return;var i=t[n];Bi(i)?r=Vo(i,r):r=r[i]}return r}var np=ve(rp),ip=np,sp=Rr(function(e,r,n){return Mi(e,er(r,n))}),ap=sp,op=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=yt.init,t.prototype["@@transducer/result"]=yt.result,t.prototype["@@transducer/step"]=function(e,r){return this.f(r),this.xf["@@transducer/step"](e,r)},t}();function up(t){return function(e){return new op(t,e)}}var cp=ve(Ii([],up,function(e,r){return e(r),r})),lp=cp,ue;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const o={};for(const l of i)o[l]=l;return o},t.getValidEnumValues=i=>{const o=t.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),l={};for(const c of o)l[c]=i[c];return t.objectValues(l)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&o.push(l);return o},t.find=(i,o)=>{for(const l of i)if(o(l))return l},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,o=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(o)}t.joinValues=n,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(ue||(ue={}));var As;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(As||(As={}));var L=ue.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Nt=t=>{switch(typeof t){case"undefined":return L.undefined;case"string":return L.string;case"number":return isNaN(t)?L.nan:L.number;case"boolean":return L.boolean;case"function":return L.function;case"bigint":return L.bigint;case"symbol":return L.symbol;case"object":return Array.isArray(t)?L.array:t===null?L.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?L.promise:typeof Map<"u"&&t instanceof Map?L.map:typeof Set<"u"&&t instanceof Set?L.set:typeof Date<"u"&&t instanceof Date?L.date:L.object;default:return L.unknown}},T=ue.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),dp=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),qe=class Jo extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(o){return o.message},n={_errors:[]},i=o=>{for(const l of o.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)n._errors.push(r(l));else{let c=n,d=0;for(;d<l.path.length;){const f=l.path[d];d===l.path.length-1?(c[f]=c[f]||{_errors:[]},c[f]._errors.push(r(l))):c[f]=c[f]||{_errors:[]},c=c[f],d++}}};return i(this),n}static assert(e){if(!(e instanceof Jo))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ue.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};qe.create=t=>new qe(t);var xr=(t,e)=>{let r;switch(t.code){case T.invalid_type:t.received===L.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case T.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ue.jsonStringifyReplacer)}`;break;case T.unrecognized_keys:r=`Unrecognized key(s) in object: ${ue.joinValues(t.keys,", ")}`;break;case T.invalid_union:r="Invalid input";break;case T.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ue.joinValues(t.options)}`;break;case T.invalid_enum_value:r=`Invalid enum value. Expected ${ue.joinValues(t.options)}, received '${t.received}'`;break;case T.invalid_arguments:r="Invalid function arguments";break;case T.invalid_return_type:r="Invalid function return type";break;case T.invalid_date:r="Invalid date";break;case T.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ue.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case T.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case T.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case T.custom:r="Invalid input";break;case T.invalid_intersection_types:r="Intersection results could not be merged";break;case T.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case T.not_finite:r="Number must be finite";break;default:r=e.defaultError,ue.assertNever(t)}return{message:r}},eu=xr;function hp(t){eu=t}function vi(){return eu}var wi=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,o=[...r,...i.path||[]],l={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let c="";const d=n.filter(f=>!!f).slice().reverse();for(const f of d)c=f(l,{data:e,defaultError:c}).message;return{...i,path:o,message:c}},fp=[];function B(t,e){const r=vi(),n=wi({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===xr?void 0:xr].filter(i=>!!i)});t.common.issues.push(n)}var Fe=class tu{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return K;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const o=await i.key,l=await i.value;n.push({key:o,value:l})}return tu.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:o,value:l}=i;if(o.status==="aborted"||l.status==="aborted")return K;o.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof l.value<"u"||i.alwaysSet)&&(n[o.value]=l.value)}return{status:e.value,value:n}}},K=Object.freeze({status:"aborted"}),dr=t=>({status:"dirty",value:t}),Ue=t=>({status:"valid",value:t}),xs=t=>t.status==="aborted",ks=t=>t.status==="dirty",En=t=>t.status==="valid",Sn=t=>typeof Promise<"u"&&t instanceof Promise;function _i(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function ru(t,e,r,n,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var Z;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Z||(Z={}));var Xr,Jr,vt=class{constructor(t,e,r,n){this._cachedPath=[],this.parent=t,this.data=e,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Na=(t,e)=>{if(En(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new qe(t.common.issues);return this._error=r,this._error}}};function te(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(l,c)=>{var d,f;const{message:y}=t;return l.code==="invalid_enum_value"?{message:y??c.defaultError}:typeof c.data>"u"?{message:(d=y??n)!==null&&d!==void 0?d:c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:(f=y??r)!==null&&f!==void 0?f:c.defaultError}},description:i}}var ie=class{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Nt(t.data)}_getOrReturnCtx(t,e){return e||{common:t.parent.common,data:t.data,parsedType:Nt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Fe,ctx:{common:t.parent.common,data:t.data,parsedType:Nt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const e=this._parse(t);if(Sn(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(t){const e=this._parse(t);return Promise.resolve(e)}parse(t,e){const r=this.safeParse(t,e);if(r.success)return r.data;throw r.error}safeParse(t,e){var r;const n={common:{issues:[],async:(r=e==null?void 0:e.async)!==null&&r!==void 0?r:!1,contextualErrorMap:e==null?void 0:e.errorMap},path:(e==null?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Nt(t)},i=this._parseSync({data:t,path:n.path,parent:n});return Na(n,i)}async parseAsync(t,e){const r=await this.safeParseAsync(t,e);if(r.success)return r.data;throw r.error}async safeParseAsync(t,e){const r={common:{issues:[],contextualErrorMap:e==null?void 0:e.errorMap,async:!0},path:(e==null?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Nt(t)},n=this._parse({data:t,path:r.path,parent:r}),i=await(Sn(n)?n:Promise.resolve(n));return Na(r,i)}refine(t,e){const r=n=>typeof e=="string"||typeof e>"u"?{message:e}:typeof e=="function"?e(n):e;return this._refinement((n,i)=>{const o=t(n),l=()=>i.addIssue({code:T.custom,...r(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,e){return this._refinement((r,n)=>t(r)?!0:(n.addIssue(typeof e=="function"?e(r,n):e),!1))}_refinement(t){return new lt({schema:this,typeName:q.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return mt.create(this,this._def)}nullable(){return Dt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return tr.create(this,this._def)}promise(){return Or.create(this,this._def)}or(t){return Rn.create([this,t],this._def)}and(t){return In.create(this,t,this._def)}transform(t){return new lt({...te(this._def),schema:this,typeName:q.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const e=typeof t=="function"?t:()=>t;return new Un({...te(this._def),innerType:this,defaultValue:e,typeName:q.ZodDefault})}brand(){return new Xs({typeName:q.ZodBranded,type:this,...te(this._def)})}catch(t){const e=typeof t=="function"?t:()=>t;return new Nn({...te(this._def),innerType:this,catchValue:e,typeName:q.ZodCatch})}describe(t){const e=this.constructor;return new e({...this._def,description:t})}pipe(t){return Js.create(this,t)}readonly(){return Pn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},pp=/^c[^\s-]{8,}$/i,mp=/^[0-9a-z]+$/,gp=/^[0-9A-HJKMNP-TV-Z]{26}$/,yp=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,vp=/^[a-z0-9_-]{21}$/i,wp=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,_p=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bp="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",ss,Ep=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Sp=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Ap=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nu="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",xp=new RegExp(`^${nu}$`);function iu(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function kp(t){return new RegExp(`^${iu(t)}$`)}function su(t){let e=`${nu}T${iu(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Tp(t,e){return!!((e==="v4"||!e)&&Ep.test(t)||(e==="v6"||!e)&&Sp.test(t))}var kr=class en extends ie{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==L.string){const o=this._getOrReturnCtx(e);return B(o,{code:T.invalid_type,expected:L.string,received:o.parsedType}),K}const n=new Fe;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),B(i,{code:T.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),B(i,{code:T.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const l=e.data.length>o.value,c=e.data.length<o.value;(l||c)&&(i=this._getOrReturnCtx(e,i),l?B(i,{code:T.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):c&&B(i,{code:T.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")_p.test(e.data)||(i=this._getOrReturnCtx(e,i),B(i,{validation:"email",code:T.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")ss||(ss=new RegExp(bp,"u")),ss.test(e.data)||(i=this._getOrReturnCtx(e,i),B(i,{validation:"emoji",code:T.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")yp.test(e.data)||(i=this._getOrReturnCtx(e,i),B(i,{validation:"uuid",code:T.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")vp.test(e.data)||(i=this._getOrReturnCtx(e,i),B(i,{validation:"nanoid",code:T.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")pp.test(e.data)||(i=this._getOrReturnCtx(e,i),B(i,{validation:"cuid",code:T.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")mp.test(e.data)||(i=this._getOrReturnCtx(e,i),B(i,{validation:"cuid2",code:T.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")gp.test(e.data)||(i=this._getOrReturnCtx(e,i),B(i,{validation:"ulid",code:T.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),B(i,{validation:"url",code:T.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),B(i,{validation:"regex",code:T.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),B(i,{code:T.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),B(i,{code:T.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),B(i,{code:T.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?su(o).test(e.data)||(i=this._getOrReturnCtx(e,i),B(i,{code:T.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?xp.test(e.data)||(i=this._getOrReturnCtx(e,i),B(i,{code:T.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?kp(o).test(e.data)||(i=this._getOrReturnCtx(e,i),B(i,{code:T.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?wp.test(e.data)||(i=this._getOrReturnCtx(e,i),B(i,{validation:"duration",code:T.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?Tp(e.data,o.version)||(i=this._getOrReturnCtx(e,i),B(i,{validation:"ip",code:T.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?Ap.test(e.data)||(i=this._getOrReturnCtx(e,i),B(i,{validation:"base64",code:T.invalid_string,message:o.message}),n.dirty()):ue.assertNever(o);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:T.invalid_string,...Z.errToObj(n)})}_addCheck(e){return new en({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Z.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Z.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Z.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Z.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Z.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Z.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Z.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Z.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Z.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Z.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...Z.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Z.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Z.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Z.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Z.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Z.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Z.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Z.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Z.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Z.errToObj(r)})}nonempty(e){return this.min(1,Z.errToObj(e))}trim(){return new en({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new en({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new en({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};kr.create=t=>{var e;return new kr({checks:[],typeName:q.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...te(t)})};function Op(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,o=parseInt(t.toFixed(i).replace(".","")),l=parseInt(e.toFixed(i).replace(".",""));return o%l/Math.pow(10,i)}var An=class Ts extends ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==L.number){const o=this._getOrReturnCtx(e);return B(o,{code:T.invalid_type,expected:L.number,received:o.parsedType}),K}let n;const i=new Fe;for(const o of this._def.checks)o.kind==="int"?ue.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{code:T.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),B(n,{code:T.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),B(n,{code:T.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?Op(e.data,o.value)!==0&&(n=this._getOrReturnCtx(e,n),B(n,{code:T.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{code:T.not_finite,message:o.message}),i.dirty()):ue.assertNever(o);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Z.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Z.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Z.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Z.toString(r))}setLimit(e,r,n,i){return new Ts({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Z.toString(i)}]})}_addCheck(e){return new Ts({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Z.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Z.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Z.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Z.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Z.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Z.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Z.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Z.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Z.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ue.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};An.create=t=>new An({checks:[],typeName:q.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...te(t)});var xn=class Os extends ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==L.bigint){const o=this._getOrReturnCtx(e);return B(o,{code:T.invalid_type,expected:L.bigint,received:o.parsedType}),K}let n;const i=new Fe;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),B(n,{code:T.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),B(n,{code:T.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),B(n,{code:T.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):ue.assertNever(o);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Z.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Z.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Z.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Z.toString(r))}setLimit(e,r,n,i){return new Os({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Z.toString(i)}]})}_addCheck(e){return new Os({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Z.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Z.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Z.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Z.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Z.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};xn.create=t=>{var e;return new xn({checks:[],typeName:q.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...te(t)})};var kn=class extends ie{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==L.boolean){const r=this._getOrReturnCtx(t);return B(r,{code:T.invalid_type,expected:L.boolean,received:r.parsedType}),K}return Ue(t.data)}};kn.create=t=>new kn({typeName:q.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...te(t)});var Tn=class au extends ie{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==L.date){const o=this._getOrReturnCtx(e);return B(o,{code:T.invalid_type,expected:L.date,received:o.parsedType}),K}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return B(o,{code:T.invalid_date}),K}const n=new Fe;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),B(i,{code:T.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),B(i,{code:T.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):ue.assertNever(o);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new au({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Z.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Z.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};Tn.create=t=>new Tn({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:q.ZodDate,...te(t)});var bi=class extends ie{_parse(t){if(this._getType(t)!==L.symbol){const r=this._getOrReturnCtx(t);return B(r,{code:T.invalid_type,expected:L.symbol,received:r.parsedType}),K}return Ue(t.data)}};bi.create=t=>new bi({typeName:q.ZodSymbol,...te(t)});var On=class extends ie{_parse(t){if(this._getType(t)!==L.undefined){const r=this._getOrReturnCtx(t);return B(r,{code:T.invalid_type,expected:L.undefined,received:r.parsedType}),K}return Ue(t.data)}};On.create=t=>new On({typeName:q.ZodUndefined,...te(t)});var Cn=class extends ie{_parse(t){if(this._getType(t)!==L.null){const r=this._getOrReturnCtx(t);return B(r,{code:T.invalid_type,expected:L.null,received:r.parsedType}),K}return Ue(t.data)}};Cn.create=t=>new Cn({typeName:q.ZodNull,...te(t)});var Tr=class extends ie{constructor(){super(...arguments),this._any=!0}_parse(t){return Ue(t.data)}};Tr.create=t=>new Tr({typeName:q.ZodAny,...te(t)});var Qt=class extends ie{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ue(t.data)}};Qt.create=t=>new Qt({typeName:q.ZodUnknown,...te(t)});var Tt=class extends ie{_parse(t){const e=this._getOrReturnCtx(t);return B(e,{code:T.invalid_type,expected:L.never,received:e.parsedType}),K}};Tt.create=t=>new Tt({typeName:q.ZodNever,...te(t)});var Ei=class extends ie{_parse(t){if(this._getType(t)!==L.undefined){const r=this._getOrReturnCtx(t);return B(r,{code:T.invalid_type,expected:L.void,received:r.parsedType}),K}return Ue(t.data)}};Ei.create=t=>new Ei({typeName:q.ZodVoid,...te(t)});var tr=class ti extends ie{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==L.array)return B(r,{code:T.invalid_type,expected:L.array,received:r.parsedType}),K;if(i.exactLength!==null){const l=r.data.length>i.exactLength.value,c=r.data.length<i.exactLength.value;(l||c)&&(B(r,{code:l?T.too_big:T.too_small,minimum:c?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(B(r,{code:T.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(B(r,{code:T.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((l,c)=>i.type._parseAsync(new vt(r,l,r.path,c)))).then(l=>Fe.mergeArray(n,l));const o=[...r.data].map((l,c)=>i.type._parseSync(new vt(r,l,r.path,c)));return Fe.mergeArray(n,o)}get element(){return this._def.type}min(e,r){return new ti({...this._def,minLength:{value:e,message:Z.toString(r)}})}max(e,r){return new ti({...this._def,maxLength:{value:e,message:Z.toString(r)}})}length(e,r){return new ti({...this._def,exactLength:{value:e,message:Z.toString(r)}})}nonempty(e){return this.min(1,e)}};tr.create=(t,e)=>new tr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:q.ZodArray,...te(e)});function lr(t){if(t instanceof Ke){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=mt.create(lr(n))}return new Ke({...t._def,shape:()=>e})}else return t instanceof tr?new tr({...t._def,type:lr(t.element)}):t instanceof mt?mt.create(lr(t.unwrap())):t instanceof Dt?Dt.create(lr(t.unwrap())):t instanceof $t?$t.create(t.items.map(e=>lr(e))):t}var Ke=class Xe extends ie{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ue.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==L.object){const f=this._getOrReturnCtx(e);return B(f,{code:T.invalid_type,expected:L.object,received:f.parsedType}),K}const{status:n,ctx:i}=this._processInputParams(e),{shape:o,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof Tt&&this._def.unknownKeys==="strip"))for(const f in i.data)l.includes(f)||c.push(f);const d=[];for(const f of l){const y=o[f],w=i.data[f];d.push({key:{status:"valid",value:f},value:y._parse(new vt(i,w,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof Tt){const f=this._def.unknownKeys;if(f==="passthrough")for(const y of c)d.push({key:{status:"valid",value:y},value:{status:"valid",value:i.data[y]}});else if(f==="strict")c.length>0&&(B(i,{code:T.unrecognized_keys,keys:c}),n.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const y of c){const w=i.data[y];d.push({key:{status:"valid",value:y},value:f._parse(new vt(i,w,i.path,y)),alwaysSet:y in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const y of d){const w=await y.key,b=await y.value;f.push({key:w,value:b,alwaysSet:y.alwaysSet})}return f}).then(f=>Fe.mergeObjectSync(n,f)):Fe.mergeObjectSync(n,d)}get shape(){return this._def.shape()}strict(e){return Z.errToObj,new Xe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,o,l,c;const d=(l=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,r,n).message)!==null&&l!==void 0?l:n.defaultError;return r.code==="unrecognized_keys"?{message:(c=Z.errToObj(e).message)!==null&&c!==void 0?c:d}:{message:d}}}:{}})}strip(){return new Xe({...this._def,unknownKeys:"strip"})}passthrough(){return new Xe({...this._def,unknownKeys:"passthrough"})}extend(e){return new Xe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Xe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:q.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Xe({...this._def,catchall:e})}pick(e){const r={};return ue.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Xe({...this._def,shape:()=>r})}omit(e){const r={};return ue.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Xe({...this._def,shape:()=>r})}deepPartial(){return lr(this)}partial(e){const r={};return ue.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new Xe({...this._def,shape:()=>r})}required(e){const r={};return ue.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof mt;)o=o._def.innerType;r[n]=o}}),new Xe({...this._def,shape:()=>r})}keyof(){return hu(ue.objectKeys(this.shape))}};Ke.create=(t,e)=>new Ke({shape:()=>t,unknownKeys:"strip",catchall:Tt.create(),typeName:q.ZodObject,...te(e)});Ke.strictCreate=(t,e)=>new Ke({shape:()=>t,unknownKeys:"strict",catchall:Tt.create(),typeName:q.ZodObject,...te(e)});Ke.lazycreate=(t,e)=>new Ke({shape:t,unknownKeys:"strip",catchall:Tt.create(),typeName:q.ZodObject,...te(e)});var Rn=class extends ie{_parse(t){const{ctx:e}=this._processInputParams(t),r=this._def.options;function n(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return e.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new qe(l.ctx.common.issues));return B(e,{code:T.invalid_union,unionErrors:o}),K}if(e.common.async)return Promise.all(r.map(async i=>{const o={...e,common:{...e.common,issues:[]},parent:null};return{result:await i._parseAsync({data:e.data,path:e.path,parent:o}),ctx:o}})).then(n);{let i;const o=[];for(const c of r){const d={...e,common:{...e.common,issues:[]},parent:null},f=c._parseSync({data:e.data,path:e.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return e.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new qe(c));return B(e,{code:T.invalid_union,unionErrors:l}),K}}get options(){return this._def.options}};Rn.create=(t,e)=>new Rn({options:t,typeName:q.ZodUnion,...te(e)});var bt=t=>t instanceof Bn?bt(t.schema):t instanceof lt?bt(t.innerType()):t instanceof Mn?[t.value]:t instanceof zn?t.options:t instanceof Ln?ue.objectValues(t.enum):t instanceof Un?bt(t._def.innerType):t instanceof On?[void 0]:t instanceof Cn?[null]:t instanceof mt?[void 0,...bt(t.unwrap())]:t instanceof Dt?[null,...bt(t.unwrap())]:t instanceof Xs||t instanceof Pn?bt(t.unwrap()):t instanceof Nn?bt(t._def.innerType):[],ou=class uu extends ie{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==L.object)return B(r,{code:T.invalid_type,expected:L.object,received:r.parsedType}),K;const n=this.discriminator,i=r.data[n],o=this.optionsMap.get(i);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(B(r,{code:T.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),K)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const o of r){const l=bt(o.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of l){if(i.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);i.set(c,o)}}return new uu({typeName:q.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...te(n)})}};function Cs(t,e){const r=Nt(t),n=Nt(e);if(t===e)return{valid:!0,data:t};if(r===L.object&&n===L.object){const i=ue.objectKeys(e),o=ue.objectKeys(t).filter(c=>i.indexOf(c)!==-1),l={...t,...e};for(const c of o){const d=Cs(t[c],e[c]);if(!d.valid)return{valid:!1};l[c]=d.data}return{valid:!0,data:l}}else if(r===L.array&&n===L.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<t.length;o++){const l=t[o],c=e[o],d=Cs(l,c);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return r===L.date&&n===L.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var In=class extends ie{_parse(t){const{status:e,ctx:r}=this._processInputParams(t),n=(i,o)=>{if(xs(i)||xs(o))return K;const l=Cs(i.value,o.value);return l.valid?((ks(i)||ks(o))&&e.dirty(),{status:e.value,value:l.data}):(B(r,{code:T.invalid_intersection_types}),K)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>n(i,o)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};In.create=(t,e,r)=>new In({left:t,right:e,typeName:q.ZodIntersection,...te(r)});var $t=class cu extends ie{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==L.array)return B(n,{code:T.invalid_type,expected:L.array,received:n.parsedType}),K;if(n.data.length<this._def.items.length)return B(n,{code:T.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),K;!this._def.rest&&n.data.length>this._def.items.length&&(B(n,{code:T.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((l,c)=>{const d=this._def.items[c]||this._def.rest;return d?d._parse(new vt(n,l,n.path,c)):null}).filter(l=>!!l);return n.common.async?Promise.all(o).then(l=>Fe.mergeArray(r,l)):Fe.mergeArray(r,o)}get items(){return this._def.items}rest(e){return new cu({...this._def,rest:e})}};$t.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new $t({items:t,typeName:q.ZodTuple,rest:null,...te(e)})};var lu=class Rs extends ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==L.object)return B(n,{code:T.invalid_type,expected:L.object,received:n.parsedType}),K;const i=[],o=this._def.keyType,l=this._def.valueType;for(const c in n.data)i.push({key:o._parse(new vt(n,c,n.path,c)),value:l._parse(new vt(n,n.data[c],n.path,c)),alwaysSet:c in n.data});return n.common.async?Fe.mergeObjectAsync(r,i):Fe.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof ie?new Rs({keyType:e,valueType:r,typeName:q.ZodRecord,...te(n)}):new Rs({keyType:kr.create(),valueType:e,typeName:q.ZodRecord,...te(r)})}},Si=class extends ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:e,ctx:r}=this._processInputParams(t);if(r.parsedType!==L.map)return B(r,{code:T.invalid_type,expected:L.map,received:r.parsedType}),K;const n=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:n._parse(new vt(r,l,r.path,[d,"key"])),value:i._parse(new vt(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,f=await c.value;if(d.status==="aborted"||f.status==="aborted")return K;(d.status==="dirty"||f.status==="dirty")&&e.dirty(),l.set(d.value,f.value)}return{status:e.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,f=c.value;if(d.status==="aborted"||f.status==="aborted")return K;(d.status==="dirty"||f.status==="dirty")&&e.dirty(),l.set(d.value,f.value)}return{status:e.value,value:l}}}};Si.create=(t,e,r)=>new Si({valueType:e,keyType:t,typeName:q.ZodMap,...te(r)});var Ai=class Is extends ie{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==L.set)return B(n,{code:T.invalid_type,expected:L.set,received:n.parsedType}),K;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(B(n,{code:T.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(B(n,{code:T.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const o=this._def.valueType;function l(d){const f=new Set;for(const y of d){if(y.status==="aborted")return K;y.status==="dirty"&&r.dirty(),f.add(y.value)}return{status:r.value,value:f}}const c=[...n.data.values()].map((d,f)=>o._parse(new vt(n,d,n.path,f)));return n.common.async?Promise.all(c).then(d=>l(d)):l(c)}min(e,r){return new Is({...this._def,minSize:{value:e,message:Z.toString(r)}})}max(e,r){return new Is({...this._def,maxSize:{value:e,message:Z.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Ai.create=(t,e)=>new Ai({valueType:t,minSize:null,maxSize:null,typeName:q.ZodSet,...te(e)});var du=class ri extends ie{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==L.function)return B(r,{code:T.invalid_type,expected:L.function,received:r.parsedType}),K;function n(c,d){return wi({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,vi(),xr].filter(f=>!!f),issueData:{code:T.invalid_arguments,argumentsError:d}})}function i(c,d){return wi({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,vi(),xr].filter(f=>!!f),issueData:{code:T.invalid_return_type,returnTypeError:d}})}const o={errorMap:r.common.contextualErrorMap},l=r.data;if(this._def.returns instanceof Or){const c=this;return Ue(async function(...d){const f=new qe([]),y=await c._def.args.parseAsync(d,o).catch(E=>{throw f.addIssue(n(d,E)),f}),w=await Reflect.apply(l,this,y);return await c._def.returns._def.type.parseAsync(w,o).catch(E=>{throw f.addIssue(i(w,E)),f})})}else{const c=this;return Ue(function(...d){const f=c._def.args.safeParse(d,o);if(!f.success)throw new qe([n(d,f.error)]);const y=Reflect.apply(l,this,f.data),w=c._def.returns.safeParse(y,o);if(!w.success)throw new qe([i(y,w.error)]);return w.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ri({...this._def,args:$t.create(e).rest(Qt.create())})}returns(e){return new ri({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new ri({args:e||$t.create([]).rest(Qt.create()),returns:r||Qt.create(),typeName:q.ZodFunction,...te(n)})}},Bn=class extends ie{get schema(){return this._def.getter()}_parse(t){const{ctx:e}=this._processInputParams(t);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}};Bn.create=(t,e)=>new Bn({getter:t,typeName:q.ZodLazy,...te(e)});var Mn=class extends ie{_parse(t){if(t.data!==this._def.value){const e=this._getOrReturnCtx(t);return B(e,{received:e.data,code:T.invalid_literal,expected:this._def.value}),K}return{status:"valid",value:t.data}}get value(){return this._def.value}};Mn.create=(t,e)=>new Mn({value:t,typeName:q.ZodLiteral,...te(e)});function hu(t,e){return new zn({values:t,typeName:q.ZodEnum,...te(e)})}var zn=class Bs extends ie{constructor(){super(...arguments),Xr.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return B(r,{expected:ue.joinValues(n),received:r.parsedType,code:T.invalid_type}),K}if(_i(this,Xr)||ru(this,Xr,new Set(this._def.values)),!_i(this,Xr).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return B(r,{received:r.data,code:T.invalid_enum_value,options:n}),K}return Ue(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Bs.create(e,{...this._def,...r})}exclude(e,r=this._def){return Bs.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}};Xr=new WeakMap;zn.create=hu;var Ln=class extends ie{constructor(){super(...arguments),Jr.set(this,void 0)}_parse(t){const e=ue.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==L.string&&r.parsedType!==L.number){const n=ue.objectValues(e);return B(r,{expected:ue.joinValues(n),received:r.parsedType,code:T.invalid_type}),K}if(_i(this,Jr)||ru(this,Jr,new Set(ue.getValidEnumValues(this._def.values))),!_i(this,Jr).has(t.data)){const n=ue.objectValues(e);return B(r,{received:r.data,code:T.invalid_enum_value,options:n}),K}return Ue(t.data)}get enum(){return this._def.values}};Jr=new WeakMap;Ln.create=(t,e)=>new Ln({values:t,typeName:q.ZodNativeEnum,...te(e)});var Or=class extends ie{unwrap(){return this._def.type}_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==L.promise&&e.common.async===!1)return B(e,{code:T.invalid_type,expected:L.promise,received:e.parsedType}),K;const r=e.parsedType===L.promise?e.data:Promise.resolve(e.data);return Ue(r.then(n=>this._def.type.parseAsync(n,{path:e.path,errorMap:e.common.contextualErrorMap})))}};Or.create=(t,e)=>new Or({type:t,typeName:q.ZodPromise,...te(e)});var lt=class extends ie{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===q.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:e,ctx:r}=this._processInputParams(t),n=this._def.effect||null,i={addIssue:o=>{B(r,o),o.fatal?e.abort():e.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="preprocess"){const o=n.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(e.value==="aborted")return K;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?K:c.status==="dirty"||e.value==="dirty"?dr(c.value):c});{if(e.value==="aborted")return K;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?K:l.status==="dirty"||e.value==="dirty"?dr(l.value):l}}if(n.type==="refinement"){const o=l=>{const c=n.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?K:(l.status==="dirty"&&e.dirty(),o(l.value),{status:e.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?K:(l.status==="dirty"&&e.dirty(),o(l.value).then(()=>({status:e.value,value:l.value}))))}if(n.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!En(o))return o;const l=n.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>En(o)?Promise.resolve(n.transform(o.value,i)).then(l=>({status:e.value,value:l})):o);ue.assertNever(n)}};lt.create=(t,e,r)=>new lt({schema:t,typeName:q.ZodEffects,effect:e,...te(r)});lt.createWithPreprocess=(t,e,r)=>new lt({schema:e,effect:{type:"preprocess",transform:t},typeName:q.ZodEffects,...te(r)});var mt=class extends ie{_parse(t){return this._getType(t)===L.undefined?Ue(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};mt.create=(t,e)=>new mt({innerType:t,typeName:q.ZodOptional,...te(e)});var Dt=class extends ie{_parse(t){return this._getType(t)===L.null?Ue(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Dt.create=(t,e)=>new Dt({innerType:t,typeName:q.ZodNullable,...te(e)});var Un=class extends ie{_parse(t){const{ctx:e}=this._processInputParams(t);let r=e.data;return e.parsedType===L.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:e.path,parent:e})}removeDefault(){return this._def.innerType}};Un.create=(t,e)=>new Un({innerType:t,typeName:q.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...te(e)});var Nn=class extends ie{_parse(t){const{ctx:e}=this._processInputParams(t),r={...e,common:{...e.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Sn(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new qe(r.common.issues)},input:r.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new qe(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};Nn.create=(t,e)=>new Nn({innerType:t,typeName:q.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...te(e)});var xi=class extends ie{_parse(t){if(this._getType(t)!==L.nan){const r=this._getOrReturnCtx(t);return B(r,{code:T.invalid_type,expected:L.nan,received:r.parsedType}),K}return{status:"valid",value:t.data}}};xi.create=t=>new xi({typeName:q.ZodNaN,...te(t)});var Cp=Symbol("zod_brand"),Xs=class extends ie{_parse(t){const{ctx:e}=this._processInputParams(t),r=e.data;return this._def.type._parse({data:r,path:e.path,parent:e})}unwrap(){return this._def.type}},Js=class fu extends ie{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?K:o.status==="dirty"?(r.dirty(),dr(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?K:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new fu({in:e,out:r,typeName:q.ZodPipeline})}},Pn=class extends ie{_parse(t){const e=this._def.innerType._parse(t),r=n=>(En(n)&&(n.value=Object.freeze(n.value)),n);return Sn(e)?e.then(n=>r(n)):r(e)}unwrap(){return this._def.innerType}};Pn.create=(t,e)=>new Pn({innerType:t,typeName:q.ZodReadonly,...te(e)});function pu(t,e={},r){return t?Tr.create().superRefine((n,i)=>{var o,l;if(!t(n)){const c=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,d=(l=(o=c.fatal)!==null&&o!==void 0?o:r)!==null&&l!==void 0?l:!0,f=typeof c=="string"?{message:c}:c;i.addIssue({code:"custom",...f,fatal:d})}}):Tr.create()}var Rp={object:Ke.lazycreate},q;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(q||(q={}));var Ip=(t,e={message:`Input not instance of ${t.name}`})=>pu(r=>r instanceof t,e),mu=kr.create,gu=An.create,Bp=xi.create,Mp=xn.create,yu=kn.create,Lp=Tn.create,Up=bi.create,Np=On.create,Pp=Cn.create,jp=Tr.create,Fp=Qt.create,Zp=Tt.create,$p=Ei.create,Dp=tr.create,zp=Ke.create,Vp=Ke.strictCreate,Wp=Rn.create,Gp=ou.create,qp=In.create,Hp=$t.create,Kp=lu.create,Yp=Si.create,Qp=Ai.create,Xp=du.create,Jp=Bn.create,em=Mn.create,tm=zn.create,rm=Ln.create,nm=Or.create,Pa=lt.create,im=mt.create,sm=Dt.create,am=lt.createWithPreprocess,om=Js.create,um=()=>mu().optional(),cm=()=>gu().optional(),lm=()=>yu().optional(),dm={string:t=>kr.create({...t,coerce:!0}),number:t=>An.create({...t,coerce:!0}),boolean:t=>kn.create({...t,coerce:!0}),bigint:t=>xn.create({...t,coerce:!0}),date:t=>Tn.create({...t,coerce:!0})},hm=K,A=Object.freeze({__proto__:null,defaultErrorMap:xr,setErrorMap:hp,getErrorMap:vi,makeIssue:wi,EMPTY_PATH:fp,addIssueToContext:B,ParseStatus:Fe,INVALID:K,DIRTY:dr,OK:Ue,isAborted:xs,isDirty:ks,isValid:En,isAsync:Sn,get util(){return ue},get objectUtil(){return As},ZodParsedType:L,getParsedType:Nt,ZodType:ie,datetimeRegex:su,ZodString:kr,ZodNumber:An,ZodBigInt:xn,ZodBoolean:kn,ZodDate:Tn,ZodSymbol:bi,ZodUndefined:On,ZodNull:Cn,ZodAny:Tr,ZodUnknown:Qt,ZodNever:Tt,ZodVoid:Ei,ZodArray:tr,ZodObject:Ke,ZodUnion:Rn,ZodDiscriminatedUnion:ou,ZodIntersection:In,ZodTuple:$t,ZodRecord:lu,ZodMap:Si,ZodSet:Ai,ZodFunction:du,ZodLazy:Bn,ZodLiteral:Mn,ZodEnum:zn,ZodNativeEnum:Ln,ZodPromise:Or,ZodEffects:lt,ZodTransformer:lt,ZodOptional:mt,ZodNullable:Dt,ZodDefault:Un,ZodCatch:Nn,ZodNaN:xi,BRAND:Cp,ZodBranded:Xs,ZodPipeline:Js,ZodReadonly:Pn,custom:pu,Schema:ie,ZodSchema:ie,late:Rp,get ZodFirstPartyTypeKind(){return q},coerce:dm,any:jp,array:Dp,bigint:Mp,boolean:yu,date:Lp,discriminatedUnion:Gp,effect:Pa,enum:tm,function:Xp,instanceof:Ip,intersection:qp,lazy:Jp,literal:em,map:Yp,nan:Bp,nativeEnum:rm,never:Zp,null:Pp,nullable:sm,number:gu,object:zp,oboolean:lm,onumber:cm,optional:im,ostring:um,pipeline:om,preprocess:am,promise:nm,record:Kp,set:Qp,strictObject:Vp,string:mu,symbol:Up,transformer:Pa,tuple:Hp,undefined:Np,union:Wp,unknown:Fp,void:$p,NEVER:hm,ZodIssueCode:T,quotelessJson:dp,ZodError:qe});function fm({fetch:t,GRAPHQL_URL:e,logger:r}){const n=`
    query GetTransactions ($transactionIds: [ID!]!) {
      transactions(ids: $transactionIds) {
        edges {
          node {
            owner {
              address
            }
            tags {
              name
              value
            }
            block {
              id
              height
              timestamp
            }
          }
        }
      }
    }`,i=A.object({data:A.object({transactions:A.object({edges:A.array(A.object({node:A.record(A.any())}))})})});return o=>se(o).chain(he(l=>t(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:n,variables:{transactionIds:[l]}})}).then(async c=>{if(c.ok)return c.json();throw r('Error Encountered when querying gateway for transaction "%s"',l),new Error(`${c.status}: ${await c.text()}`)}).then(i.parse).then(ip(["data","transactions","edges","0","node"])))).toPromise()}var pm=Ps(fc()),vu=(t="@permaweb/aoconnect")=>{const e=(0,pm.default)(t);return e.child=r=>vu(`${e.namespace}:${r}`),e.tap=(r,...n)=>lp((...i)=>e(r,...n,...i)),e},wu=({url:t,path:e})=>e?e.startsWith("/")?wu({url:t,path:e.slice(1)}):(t=new URL(t),t.pathname+=e,t.toString()):t;function mm(t){return Zt(Mi([]),bn((e,r)=>Zt(ap([],r.name),gf(r.value),Pe(r.name,xt,e))(e),{}),Ys(e=>e.length>1?e:e[0]))(t)}function ja(t){return Qo([[nn(String),rn(t)],[nn(Array),Kf(t)],[jo,Ah]])}function ir(t){let e;return nn(qe,t)?(e=new Error(gm(t)),e.stack+=t.stack):nn(Error,t)?e=t:Gf("message",t)?e=new Error(t.message):nn(String,t)?e=new Error(t):e=new Error("An error occurred"),e}function gm(t){return Zt(e=>function r(n,i,o){return bn((l,c)=>Zt(Qo([[rn(T.invalid_arguments),()=>r(c.argumentsError,422,"Invalid Arguments")],[rn(T.invalid_return_type),()=>r(c.returnTypeError,500,"Invalid Return")],[rn(T.invalid_union),()=>If(d=>r(d,400,"Invalid Union"),c.unionErrors)],[jo,()=>[{...c,status:i,contextCode:o}]]]),Zf(l))(c.code),[],n.issues)}(e,400,""),e=>bn((r,n)=>{const{message:i,path:o,contextCode:l}=n,c=o[1]||o[0],d=l?`${l} `:"";return r.push(`${d}'${c}': ${i}.`),r},[],e),tp(" | "))(t)}var ym=A.object({id:A.string().min(1,{message:"message is required to be a message id"}),processId:A.string().min(1,{message:"process is required to be a process id"})});function vm(){return t=>se(t).map(ym.parse).map(()=>t)}var Vn=A.object({name:A.string(),value:A.string()}),wm=A.function().args(A.object({Id:A.string(),Target:A.string(),Owner:A.string(),Anchor:A.string().optional(),Data:A.any().default("1234"),Tags:A.array(A.object({name:A.string(),value:A.string()}))})).returns(A.promise(A.any())),_m=A.function().args(A.object({id:A.string().min(1,{message:"message id is required"}),processId:A.string().min(1,{message:"process id is required"})})).returns(A.promise(A.any())),bm=A.function().args(A.object({process:A.string().min(1,{message:"process id is required"}),from:A.string().optional(),to:A.string().optional(),sort:A.enum(["ASC","DESC"]).default("ASC"),limit:A.number().optional()})).returns(A.promise(A.object({edges:A.array(A.object({cursor:A.string(),node:A.object({Output:A.any().optional(),Messages:A.array(A.any()).optional(),Spawns:A.array(A.any()).optional(),Error:A.any().optional()})}))}))),_u=A.function().args(A.object({processId:A.string(),data:A.any(),tags:A.array(Vn),anchor:A.string().optional(),signer:A.any()})).returns(A.promise(A.object({messageId:A.string()}).passthrough())),Em=A.function().args(A.object({data:A.any(),tags:A.array(Vn),signer:A.any()})).returns(A.promise(A.object({processId:A.string()}).passthrough())),Sm=A.function().args(A.object({process:A.string(),message:A.string(),baseLayer:A.boolean().optional(),exclude:A.array(A.string()).optional()})).returns(A.promise(A.object({assignmentId:A.string()}).passthrough())),bu=_u;A.function().args(A.object({suUrl:A.string().url(),processId:A.string()})).returns(A.promise(A.object({tags:A.array(Vn)}).passthrough()));A.function().args(A.string()).returns(A.promise(A.object({url:A.string()})));var Am=A.function().args(A.string()).returns(A.promise(A.boolean())),xm=A.function().args(A.string()).returns(A.promise(A.object({tags:A.array(Vn)}).passthrough())),Li=A.function().args(A.object({data:A.any(),tags:A.array(Vn),target:A.string().optional(),anchor:A.string().optional()})).returns(A.promise(A.object({id:A.string(),raw:A.any()})));function km({loadResult:t}){return t=he(_m.implement(t)),e=>se({id:e.id,processId:e.processId}).chain(t)}function Tm(t){const e=vm(),r=km(t);return({message:n,process:i})=>se({id:n,processId:i}).chain(e).chain(r).map(t.logger.tap('readResult result for message "%s": %O',n)).map(o=>o).bimap(ir,nr).toPromise()}var rr=(...t)=>e=>t.reduce((r,n)=>n(r),e),ea=t=>e=>e??t,Om=t=>e=>rr(r=>r&&r[e],ea(t)),Cm=t=>e=>{const r={};for(const n in e)e.hasOwnProperty(n)&&(r[n]=t(e[n],n,e));return r},Rm=t=>(...e)=>!t(...e),Ui=t=>e=>{const r=e.findIndex(i=>i.name==="Data-Protocol"&&i.value===t);if(r===-1)return[0,0];let n=e.findIndex((i,o)=>o>r&&i.name==="Data-Protocol"&&i.value!==t);return n===-1&&(n=e.length),[r,n]},ta=t=>{let e=t.findIndex(r=>r.name==="Data-Protocol");return e===-1&&(e=t.length),e},Eu=t=>e=>e.name===t,ra=(t,e)=>rr(Ui(t),([r,n])=>e.slice(r,n))(e),Su=(t,e,r)=>rr(n=>ra(t,n),n=>n.filter(Eu(e)))(r),Im=(t,e,r)=>rr(n=>Su(t,e,n),n=>n[0])(r),Ni=(t,e)=>(e=e.filter(r=>r.name!=="Data-Protocol"||r.value!==t),e.length?[{name:"Data-Protocol",value:t},...e]:[]),Bm=(t,e,r)=>{const[n,i]=Ui(t)(r);let[o,l,c]=[r.slice(0,n),r.slice(n,i),r.slice(i)];return l.length||(e=Ni(t,e),o=c,c=[]),[o,l,e,c].flat(1)},Mm=(t,e)=>{const r=ta(e),[n,i]=[e.slice(0,r),e.slice(r)];return[n,t,i].flat(1)},Au=(t,e,r)=>{const[n,i]=Ui(t)(r);let[o,l]=[r.slice(0,n),r.slice(i)];return l.length===r.length&&(o=l,l=[]),[o,Ni(t,e),l].flat(1)},Lm=(t,e)=>Au(t,[],e),Um=(t,e,r)=>{const[n,i]=Ui(t)(r),[o,l,c]=[r.slice(0,n),r.slice(n,i),r.slice(i)];return[o,Ni(t,l.filter(Rm(Eu(e)))),c].flat(1)},na=(t,e=!1)=>rr(ea([]),r=>r.reduce((n,i)=>rr(Om([])(i.name),o=>(o.push(i.value),o),o=>(n[i.name]=o,n))(n),{}),Cm(r=>e?r:r[0]))(t),xu=(t,e,r)=>rr(ea([]),n=>ra(t,n),n=>na(n,r))(e),Nm=(t,e)=>xu(t,e,!0),Pm=(t,e)=>xu(t,e,!1),jm=t=>{const e=ta(t);return na(t.slice(0,e),!1)},Fm=t=>{const e=ta(t);return na(t.slice(0,e),!0)},ku=t=>({findAll:e=>ra(t,e),findAllByName:(e,r)=>Su(t,e,r),findByName:(e,r)=>Im(t,e,r),create:e=>Ni(t,e),update:(e,r)=>Au(t,e,r),concat:(e,r)=>Bm(t,e,r),removeAll:e=>Lm(t,e),removeAllByName:(e,r)=>Um(t,e,r),parse:e=>Pm(t,e),parseAll:e=>Nm(t,e),concatUnassoc:Mm,parseUnassoc:jm,parseAllUnassoc:Fm}),ia=ku("ao"),Fa=Ir(ia.removeAllByName),Zm=Ir(ia.concat),Za=Ir(ia.concatUnassoc),$m=A.array(A.object({name:A.string(),value:A.string()}));function Dm(){return t=>se(t.tags).map(Mi([])).map(Fa("Variant")).map(Fa("Type")).map(Zm([{name:"Variant",value:"ao.TN.1"},{name:"Type",value:"Message"}])).map($m.parse).map(Pe("tags",xt,t))}function zm({logger:t}){return e=>se(e).chain(Xo(qo(e.data),()=>Jt(e),()=>Jt(" ").map(Pe("data",xt,e)).map(r=>Zt(er("tags"),Za([{name:"Content-Type",value:"text/plain"}]),Pe("tags",xt,r))(r)).map(t.tap('added pseudo-random string as message "data"')))).map(r=>Zt(er("tags"),Za([{name:"SDK",value:"aoconnect"}]),Pe("tags",xt,r))(r))}function Vm(t){const e=Dm(),r=zm(t),n=_u.implement(t.deployMessage);return i=>se(i).chain(e).chain(r).chain(he(({id:o,data:l,tags:c,anchor:d,signer:f})=>n({processId:o,data:l,tags:c,anchor:d,signer:Li.implement(f)}))).map(o=>Pe("messageId",o.messageId,i))}function Wm(t){const e=Vm(t);return({process:r,data:n,tags:i,anchor:o,signer:l})=>se({id:r,data:n,tags:i,anchor:o,signer:l}).chain(e).map(c=>c.messageId).bimap(ir,nr).toPromise()}var Gr=(t,e,r)=>n=>e(n[t])?Jt(n):zt(`Tag '${t}': ${r}`);function Gm({loadTransactionMeta:t,logger:e}){return t=he(xm.implement(t)),r=>se(r).chain(t).map(er("tags")).map(mm).chain(Gr("Data-Protocol",ja("ao"),"value 'ao' was not found on module")).chain(Gr("Type",ja("Module"),"value 'Module' was not found on module")).chain(Gr("Module-Format",is,"was not found on module")).chain(Gr("Input-Encoding",is,"was not found on module")).chain(Gr("Output-Encoding",is,"was not found on module")).bimap(e.tap("Verifying module source failed: %s"),e.tap("Verified module source"))}function qm({logger:t,validateScheduler:e}){return e=he(Am.implement(e)),r=>se(r).chain(n=>e(n).chain(i=>i?Jt(n):zt(`Valid Scheduler-Location owned by ${n} not found`))).bimap(t.tap("Verifying scheduler failed: %s"),t.tap("Verified scheduler"))}function Hm({logger:t}){return e=>se(e).map(t.tap("Checking for signer")).chain(r=>r?Jt(r):zt("signer not found"))}function Km(t){const e=t.logger.child("verifyInput");t={...t,logger:e};const r=Gm(t),n=qm(t),i=Hm(t);return o=>se(o).chain(l=>r(l.module).map(()=>l)).chain(l=>n(l.scheduler)).map(()=>o).chain(l=>i(l.signer).map(()=>l)).bimap(e.tap("Error when verify input: %s"),e.tap("Successfully verified inputs"))}var sa=ku("ao"),Hn=Ir(sa.removeAllByName),Ym=Ir(sa.concat),$a=Ir(sa.concatUnassoc),Qm=A.array(A.object({name:A.string(),value:A.string()}));function Xm(){return t=>se(t).map(er("tags")).map(Mi([])).map(Hn("Variant")).map(Hn("Type")).map(Hn("Module")).map(Hn("Scheduler")).map(Ym([{name:"Variant",value:"ao.TN.1"},{name:"Type",value:"Process"},{name:"Module",value:t.module},{name:"Scheduler",value:t.scheduler}])).map(Qm.parse).map(Pe("tags",xt,t))}function Jm({logger:t}){return e=>se(e).chain(Xo(qo(e.data),()=>Jt(e),()=>Jt(" ").map(Pe("data",xt,e)).map(r=>Zt(er("tags"),$a([{name:"Content-Type",value:"text/plain"}]),Pe("tags",xt,r))(r)).map(t.tap('added pseudo-random string as process "data"')))).map(r=>Zt(er("tags"),$a([{name:"SDK",value:"aoconnect"}]),Pe("tags",xt,r))(r))}function eg(t){const e=t.logger.child("uploadProcess");t={...t,logger:e};const r=Xm(),n=Jm(t),i=Em.implement(t.deployProcess);return o=>se(o).chain(r).chain(n).chain(he(({data:l,tags:c,signer:d})=>i({data:l,tags:c,signer:Li.implement(d)}))).map(l=>Pe("processId",l.processId,o))}function tg(t){const e=Km(t),r=eg(t);return({module:n,scheduler:i,signer:o,tags:l,data:c})=>se({module:n,scheduler:i,signer:o,tags:l,data:c}).chain(e).chain(r).map(d=>d.processId).bimap(ir,nr).toPromise()}function rg(t){const e=bu.implement(t.deployMonitor);return r=>se(r).chain(he(({id:n,signer:i})=>e({processId:n,signer:Li.implement(i),data:" ",tags:[]}))).map(n=>Pe("monitorId",n.messageId,r))}function ng(t){const e=rg(t);return({process:r,signer:n})=>se({id:r,signer:n}).chain(e).map(i=>i.monitorId).bimap(ir,nr).toPromise()}function ig(t){const e=bu.implement(t.deployUnmonitor);return r=>se(r).chain(he(({id:n,signer:i})=>e({processId:n,signer:Li.implement(i),data:" ",tags:[]}))).map(n=>Pe("monitorId",n.messageId,r))}function sg(t){const e=ig(t);return({process:r,signer:n})=>se({id:r,signer:n}).chain(e).map(i=>i.monitorId).bimap(ir,nr).toPromise()}var ag=A.object({process:A.string().min(1,{message:"process identifier is required"}),from:A.string().optional(),to:A.string().optional(),sort:A.enum(["ASC","DESC"]).default("ASC"),limit:A.number().optional()});function og(){return t=>se(t).map(ag.parse).map(()=>t)}function ug({queryResults:t}){return t=he(bm.implement(t)),e=>se({process:e.process,from:e.from,to:e.to,sort:e.sort,limit:e.limit}).chain(t)}function cg(t){const e=og(),r=ug(t);return({process:n,from:i,to:o,sort:l,limit:c})=>se({process:n,from:i,to:o,sort:l,limit:c}).chain(e).chain(r).map(t.logger.tap('readResults result for message "%s": %O',n)).map(d=>d).bimap(ir,nr).toPromise()}var lg=A.object({Id:A.string(),Target:A.string(),Owner:A.string(),Anchor:A.string().optional(),Data:A.any().default("1234"),Tags:A.array(A.object({name:A.string(),value:A.string()}))});function dg(){return t=>se(t).map(lg.parse).map(e=>(e.Tags=e.Tags.concat([{name:"Data-Protocol",value:"ao"},{name:"Type",value:"Message"},{name:"Variant",value:"ao.TN.1"}]),e))}function hg({dryrunFetch:t}){return he(wm.implement(t))}function fg(t){const e=dg(),r=hg(t);return n=>se(n).map(pg).chain(e).chain(r).toPromise()}function pg({process:t,data:e,tags:r,anchor:n,...i}){return{Id:"1234",Owner:"1234",...i,Target:t,Data:e||"1234",Tags:r||[],Anchor:n||"0"}}function mg(t){const e=Sm.implement(t.deployAssign);return r=>se(r).chain(he(({process:n,message:i,baseLayer:o,exclude:l})=>e({process:n,message:i,baseLayer:o,exclude:l}))).map(n=>Pe("assignmentId",n.assignmentId,r))}function gg(t){const e=mg(t);return({process:r,message:n,baseLayer:i,exclude:o})=>se({process:r,message:n,baseLayer:i,exclude:o}).chain(e).map(l=>l.assignmentId).bimap(ir,nr).toPromise()}var yg="https://arweave.net",vg="https://mu.ao-testnet.xyz",wg="https://cu.ao-testnet.xyz";function _g({GRAPHQL_URL:t,GRAPHQL_MAX_RETRIES:e,GRAPHQL_RETRY_BACKOFF:r,GATEWAY_URL:n=yg,MU_URL:i=vg,CU_URL:o=wg}={}){const l=vu();t||(t=wu({url:n,path:"/graphql"}));const{validate:c}=Po({cacheSize:100,GRAPHQL_URL:t,GRAPHQL_MAX_RETRIES:e,GRAPHQL_RETRY_BACKOFF:r}),d=Eh({MAX_SIZE:25}),f=l.child("result"),y=Tm({loadResult:wh({fetch,CU_URL:o,logger:f}),logger:f}),w=l.child("message"),b=Wm({loadProcessMeta:ts({fetch,cache:d,logger:w}),deployMessage:fh({fetch,MU_URL:i,logger:w}),logger:w}),E=l.child("spawn"),_=tg({loadTransactionMeta:fm({fetch,GRAPHQL_URL:t,logger:E}),validateScheduler:c,deployProcess:ph({fetch,MU_URL:i,logger:E}),logger:E}),S=l.child("monitor"),k=ng({loadProcessMeta:ts({fetch,cache:d,logger:S}),deployMonitor:mh({fetch,MU_URL:i,logger:S}),logger:S}),C=l.child("unmonitor"),U=sg({loadProcessMeta:ts({fetch,cache:d,logger:C}),deployUnmonitor:gh({fetch,MU_URL:i,logger:C}),logger:S}),R=l.child("results"),j=cg({queryResults:_h({fetch,CU_URL:o,logger:R}),logger:R}),Y=l.child("dryrun"),J=fg({dryrunFetch:vh({fetch,CU_URL:o,logger:Y}),logger:Y}),we=l.child("assign"),wt=gg({deployAssign:yh({fetch,MU_URL:i,logger:we}),logger:w});return{result:y,results:j,message:b,spawn:_,monitor:k,unmonitor:U,dryrun:J,assign:wt}}var Tu={};Ha(Tu,{createDataItemSigner:()=>Wg});var Ou=Ps(gc()),Cu={};Ha(Cu,{AVSCTap:()=>Wn,ArweaveSigner:()=>ua,DataItem:()=>jn,MAX_TAG_BYTES:()=>Pi,MIN_BINARY_SIZE:()=>da,SIG_CONFIG:()=>Cr,SignatureConfig:()=>Ne,Signer:()=>Mu,createData:()=>Pu,default:()=>Dg,deserializeTags:()=>ki,indexToType:()=>ca,serializeTags:()=>la,tagsExceedLimit:()=>Nu,warparbundles:()=>zg});var bg=Object.create,aa=Object.defineProperty,Eg=Object.getOwnPropertyDescriptor,Sg=Object.getOwnPropertyNames,Ag=Object.getPrototypeOf,xg=Object.prototype.hasOwnProperty,Ot=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),kg=(t,e)=>{for(var r in e)aa(t,r,{get:e[r],enumerable:!0})},Tg=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Sg(e))!xg.call(t,i)&&i!==r&&aa(t,i,{get:()=>e[i],enumerable:!(n=Eg(e,i))||n.enumerable});return t},sr=(t,e,r)=>(r=t!=null?bg(Ag(t)):{},Tg(aa(r,"default",{value:t,enumerable:!0}),t)),Og=Ot(t=>{Object.defineProperty(t,"__esModule",{value:!0});function e(r){var n=4,i=r.length,o=i%n;if(!o)return r;var l=i,c=n-o,d=i+c,f=Buffer.alloc(d);for(f.write(r);c--;)f.write("=",l++);return f.toString()}t.default=e}),Cg=Ot(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=Og();function r(d,f){return f===void 0&&(f="utf8"),Buffer.isBuffer(d)?o(d.toString("base64")):o(Buffer.from(d,f).toString("base64"))}function n(d,f){return f===void 0&&(f="utf8"),Buffer.from(i(d),"base64").toString(f)}function i(d){return d=d.toString(),e.default(d).replace(/\-/g,"+").replace(/_/g,"/")}function o(d){return d.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function l(d){return Buffer.from(i(d),"base64")}var c=r;c.encode=r,c.decode=n,c.toBase64=i,c.fromBase64=o,c.toBuffer=l,t.default=c}),oa=Ot((t,e)=>{e.exports=Cg().default,e.exports.default=e.exports}),Ru=Ot(t=>{t.byteLength=d,t.toByteArray=y,t.fromByteArray=E;var e=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(o=0,l=i.length;o<l;++o)e[o]=i[o],r[i.charCodeAt(o)]=o;var o,l;r[45]=62,r[95]=63;function c(_){var S=_.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=_.indexOf("=");k===-1&&(k=S);var C=k===S?0:4-k%4;return[k,C]}function d(_){var S=c(_),k=S[0],C=S[1];return(k+C)*3/4-C}function f(_,S,k){return(S+k)*3/4-k}function y(_){var S,k=c(_),C=k[0],U=k[1],R=new n(f(_,C,U)),j=0,Y=U>0?C-4:C,J;for(J=0;J<Y;J+=4)S=r[_.charCodeAt(J)]<<18|r[_.charCodeAt(J+1)]<<12|r[_.charCodeAt(J+2)]<<6|r[_.charCodeAt(J+3)],R[j++]=S>>16&255,R[j++]=S>>8&255,R[j++]=S&255;return U===2&&(S=r[_.charCodeAt(J)]<<2|r[_.charCodeAt(J+1)]>>4,R[j++]=S&255),U===1&&(S=r[_.charCodeAt(J)]<<10|r[_.charCodeAt(J+1)]<<4|r[_.charCodeAt(J+2)]>>2,R[j++]=S>>8&255,R[j++]=S&255),R}function w(_){return e[_>>18&63]+e[_>>12&63]+e[_>>6&63]+e[_&63]}function b(_,S,k){for(var C,U=[],R=S;R<k;R+=3)C=(_[R]<<16&16711680)+(_[R+1]<<8&65280)+(_[R+2]&255),U.push(w(C));return U.join("")}function E(_){for(var S,k=_.length,C=k%3,U=[],R=16383,j=0,Y=k-C;j<Y;j+=R)U.push(b(_,j,j+R>Y?Y:j+R));return C===1?(S=_[k-1],U.push(e[S>>2]+e[S<<4&63]+"==")):C===2&&(S=(_[k-2]<<8)+_[k-1],U.push(e[S>>10]+e[S>>4&63]+e[S<<2&63]+"=")),U.join("")}}),Iu=Ot(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.b64UrlDecode=t.b64UrlEncode=t.bufferTob64Url=t.bufferTob64=t.b64UrlToBuffer=t.stringToB64Url=t.stringToBuffer=t.bufferToString=t.b64UrlToString=t.concatBuffers=void 0;var e=Ru();function r(b){let E=0;for(let k=0;k<b.length;k++)E+=b[k].byteLength;let _=new Uint8Array(E),S=0;_.set(new Uint8Array(b[0]),S),S+=b[0].byteLength;for(let k=1;k<b.length;k++)_.set(new Uint8Array(b[k]),S),S+=b[k].byteLength;return _}t.concatBuffers=r;function n(b){let E=c(b);return i(E)}t.b64UrlToString=n;function i(b){return new TextDecoder("utf-8",{fatal:!0}).decode(b)}t.bufferToString=i;function o(b){return new TextEncoder().encode(b)}t.stringToBuffer=o;function l(b){return f(o(b))}t.stringToB64Url=l;function c(b){return new Uint8Array(e.toByteArray(w(b)))}t.b64UrlToBuffer=c;function d(b){return e.fromByteArray(new Uint8Array(b))}t.bufferTob64=d;function f(b){return y(d(b))}t.bufferTob64Url=f;function y(b){return b.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}t.b64UrlEncode=y;function w(b){b=b.replace(/\-/g,"+").replace(/\_/g,"/");let E;return b.length%4==0?E=0:E=4-b.length%4,b.concat("=".repeat(E))}t.b64UrlDecode=w}),Rg=Ot(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=Iu(),r=class{constructor(){D(this,"keyLength",4096);D(this,"publicExponent",65537);D(this,"hashAlgorithm","sha256");D(this,"driver");if(!this.detectWebCrypto())throw new Error("SubtleCrypto not available!");this.driver=crypto.subtle}async generateJWK(){let n=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),i=await this.driver.exportKey("jwk",n.privateKey);return{kty:i.kty,e:i.e,n:i.n,d:i.d,p:i.p,q:i.q,dp:i.dp,dq:i.dq,qi:i.qi}}async sign(n,i,{saltLength:o}={}){let l=await this.driver.sign({name:"RSA-PSS",saltLength:32},await this.jwkToCryptoKey(n),i);return new Uint8Array(l)}async hash(n,i="SHA-256"){let o=await this.driver.digest(i,n);return new Uint8Array(o)}async verify(n,i,o){let l={kty:"RSA",e:"AQAB",n},c=await this.jwkToPublicCryptoKey(l),d=await this.driver.digest("SHA-256",i),f=await this.driver.verify({name:"RSA-PSS",saltLength:0},c,o,i),y=await this.driver.verify({name:"RSA-PSS",saltLength:32},c,o,i),w=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((c.algorithm.modulusLength-1)/8)-d.byteLength-2},c,o,i);return f||y||w}async jwkToCryptoKey(n){return this.driver.importKey("jwk",n,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(n){return this.driver.importKey("jwk",n,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}detectWebCrypto(){if(typeof crypto>"u")return!1;let n=crypto==null?void 0:crypto.subtle;return n===void 0?!1:["generateKey","importKey","exportKey","digest","sign"].every(i=>typeof n[i]=="function")}async encrypt(n,i,o){let l=await this.driver.importKey("raw",typeof i=="string"?e.stringToBuffer(i):i,{name:"PBKDF2",length:32},!1,["deriveKey"]),c=await this.driver.deriveKey({name:"PBKDF2",salt:o?e.stringToBuffer(o):e.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},l,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),d=new Uint8Array(16);crypto.getRandomValues(d);let f=await this.driver.encrypt({name:"AES-CBC",iv:d},c,n);return e.concatBuffers([d,f])}async decrypt(n,i,o){let l=await this.driver.importKey("raw",typeof i=="string"?e.stringToBuffer(i):i,{name:"PBKDF2",length:32},!1,["deriveKey"]),c=await this.driver.deriveKey({name:"PBKDF2",salt:o?e.stringToBuffer(o):e.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},l,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),d=n.slice(0,16),f=await this.driver.decrypt({name:"AES-CBC",iv:d},c,n.slice(16));return e.concatBuffers([f])}};t.default=r}),Ig=Ot(t=>{t.read=function(e,r,n,i,o){var l,c,d=o*8-i-1,f=(1<<d)-1,y=f>>1,w=-7,b=n?o-1:0,E=n?-1:1,_=e[r+b];for(b+=E,l=_&(1<<-w)-1,_>>=-w,w+=d;w>0;l=l*256+e[r+b],b+=E,w-=8);for(c=l&(1<<-w)-1,l>>=-w,w+=i;w>0;c=c*256+e[r+b],b+=E,w-=8);if(l===0)l=1-y;else{if(l===f)return c?NaN:(_?-1:1)*(1/0);c=c+Math.pow(2,i),l=l-y}return(_?-1:1)*c*Math.pow(2,l-i)},t.write=function(e,r,n,i,o,l){var c,d,f,y=l*8-o-1,w=(1<<y)-1,b=w>>1,E=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=i?0:l-1,S=i?1:-1,k=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(d=isNaN(r)?1:0,c=w):(c=Math.floor(Math.log(r)/Math.LN2),r*(f=Math.pow(2,-c))<1&&(c--,f*=2),c+b>=1?r+=E/f:r+=E*Math.pow(2,1-b),r*f>=2&&(c++,f/=2),c+b>=w?(d=0,c=w):c+b>=1?(d=(r*f-1)*Math.pow(2,o),c=c+b):(d=r*Math.pow(2,b-1)*Math.pow(2,o),c=0));o>=8;e[n+_]=d&255,_+=S,d/=256,o-=8);for(c=c<<o|d,y+=o;y>0;e[n+_]=c&255,_+=S,c/=256,y-=8);e[n+_-S]|=k*128}}),Ms=Ot(t=>{var e=Ru(),r=Ig(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=U,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,c.TYPED_ARRAY_SUPPORT=o(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{let a=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(a,s),a.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function l(a){if(a>i)throw new RangeError('The value "'+a+'" is invalid for option "size"');let s=new Uint8Array(a);return Object.setPrototypeOf(s,c.prototype),s}function c(a,s,u){if(typeof a=="number"){if(typeof s=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(a)}return d(a,s,u)}c.poolSize=8192;function d(a,s,u){if(typeof a=="string")return b(a,s);if(ArrayBuffer.isView(a))return _(a);if(a==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);if(_e(a,ArrayBuffer)||a&&_e(a.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(_e(a,SharedArrayBuffer)||a&&_e(a.buffer,SharedArrayBuffer)))return S(a,s,u);if(typeof a=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let h=a.valueOf&&a.valueOf();if(h!=null&&h!==a)return c.from(h,s,u);let p=k(a);if(p)return p;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof a[Symbol.toPrimitive]=="function")return c.from(a[Symbol.toPrimitive]("string"),s,u);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a)}c.from=function(a,s,u){return d(a,s,u)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function f(a){if(typeof a!="number")throw new TypeError('"size" argument must be of type number');if(a<0)throw new RangeError('The value "'+a+'" is invalid for option "size"')}function y(a,s,u){return f(a),a<=0?l(a):s!==void 0?typeof u=="string"?l(a).fill(s,u):l(a).fill(s):l(a)}c.alloc=function(a,s,u){return y(a,s,u)};function w(a){return f(a),l(a<0?0:C(a)|0)}c.allocUnsafe=function(a){return w(a)},c.allocUnsafeSlow=function(a){return w(a)};function b(a,s){if((typeof s!="string"||s==="")&&(s="utf8"),!c.isEncoding(s))throw new TypeError("Unknown encoding: "+s);let u=R(a,s)|0,h=l(u),p=h.write(a,s);return p!==u&&(h=h.slice(0,p)),h}function E(a){let s=a.length<0?0:C(a.length)|0,u=l(s);for(let h=0;h<s;h+=1)u[h]=a[h]&255;return u}function _(a){if(_e(a,Uint8Array)){let s=new Uint8Array(a);return S(s.buffer,s.byteOffset,s.byteLength)}return E(a)}function S(a,s,u){if(s<0||a.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(a.byteLength<s+(u||0))throw new RangeError('"length" is outside of buffer bounds');let h;return s===void 0&&u===void 0?h=new Uint8Array(a):u===void 0?h=new Uint8Array(a,s):h=new Uint8Array(a,s,u),Object.setPrototypeOf(h,c.prototype),h}function k(a){if(c.isBuffer(a)){let s=C(a.length)|0,u=l(s);return u.length===0||a.copy(u,0,0,s),u}if(a.length!==void 0)return typeof a.length!="number"||Gt(a.length)?l(0):E(a);if(a.type==="Buffer"&&Array.isArray(a.data))return E(a.data)}function C(a){if(a>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return a|0}function U(a){return+a!=a&&(a=0),c.alloc(+a)}c.isBuffer=function(a){return a!=null&&a._isBuffer===!0&&a!==c.prototype},c.compare=function(a,s){if(_e(a,Uint8Array)&&(a=c.from(a,a.offset,a.byteLength)),_e(s,Uint8Array)&&(s=c.from(s,s.offset,s.byteLength)),!c.isBuffer(a)||!c.isBuffer(s))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===s)return 0;let u=a.length,h=s.length;for(let p=0,m=Math.min(u,h);p<m;++p)if(a[p]!==s[p]){u=a[p],h=s[p];break}return u<h?-1:h<u?1:0},c.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(a,s){if(!Array.isArray(a))throw new TypeError('"list" argument must be an Array of Buffers');if(a.length===0)return c.alloc(0);let u;if(s===void 0)for(s=0,u=0;u<a.length;++u)s+=a[u].length;let h=c.allocUnsafe(s),p=0;for(u=0;u<a.length;++u){let m=a[u];if(_e(m,Uint8Array))p+m.length>h.length?(c.isBuffer(m)||(m=c.from(m)),m.copy(h,p)):Uint8Array.prototype.set.call(h,m,p);else if(c.isBuffer(m))m.copy(h,p);else throw new TypeError('"list" argument must be an Array of Buffers');p+=m.length}return h};function R(a,s){if(c.isBuffer(a))return a.length;if(ArrayBuffer.isView(a)||_e(a,ArrayBuffer))return a.byteLength;if(typeof a!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof a);let u=a.length,h=arguments.length>2&&arguments[2]===!0;if(!h&&u===0)return 0;let p=!1;for(;;)switch(s){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":return Wt(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u*2;case"hex":return u>>>1;case"base64":return zr(a).length;default:if(p)return h?-1:Wt(a).length;s=(""+s).toLowerCase(),p=!0}}c.byteLength=R;function j(a,s,u){let h=!1;if((s===void 0||s<0)&&(s=0),s>this.length||((u===void 0||u>this.length)&&(u=this.length),u<=0)||(u>>>=0,s>>>=0,u<=s))return"";for(a||(a="utf8");;)switch(a){case"hex":return Di(this,s,u);case"utf8":case"utf-8":return Lr(this,s,u);case"ascii":return Zi(this,s,u);case"latin1":case"binary":return $i(this,s,u);case"base64":return ji(this,s,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return zi(this,s,u);default:if(h)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),h=!0}}c.prototype._isBuffer=!0;function Y(a,s,u){let h=a[s];a[s]=a[u],a[u]=h}c.prototype.swap16=function(){let a=this.length;if(a%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let s=0;s<a;s+=2)Y(this,s,s+1);return this},c.prototype.swap32=function(){let a=this.length;if(a%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let s=0;s<a;s+=4)Y(this,s,s+3),Y(this,s+1,s+2);return this},c.prototype.swap64=function(){let a=this.length;if(a%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let s=0;s<a;s+=8)Y(this,s,s+7),Y(this,s+1,s+6),Y(this,s+2,s+5),Y(this,s+3,s+4);return this},c.prototype.toString=function(){let a=this.length;return a===0?"":arguments.length===0?Lr(this,0,a):j.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(a){if(!c.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:c.compare(this,a)===0},c.prototype.inspect=function(){let a="",s=t.INSPECT_MAX_BYTES;return a=this.toString("hex",0,s).replace(/(.{2})/g,"$1 ").trim(),this.length>s&&(a+=" ... "),"<Buffer "+a+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(a,s,u,h,p){if(_e(a,Uint8Array)&&(a=c.from(a,a.offset,a.byteLength)),!c.isBuffer(a))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a);if(s===void 0&&(s=0),u===void 0&&(u=a?a.length:0),h===void 0&&(h=0),p===void 0&&(p=this.length),s<0||u>a.length||h<0||p>this.length)throw new RangeError("out of range index");if(h>=p&&s>=u)return 0;if(h>=p)return-1;if(s>=u)return 1;if(s>>>=0,u>>>=0,h>>>=0,p>>>=0,this===a)return 0;let m=p-h,v=u-s,P=Math.min(m,v),re=this.slice(h,p),V=a.slice(s,u);for(let W=0;W<P;++W)if(re[W]!==V[W]){m=re[W],v=V[W];break}return m<v?-1:v<m?1:0};function J(a,s,u,h,p){if(a.length===0)return-1;if(typeof u=="string"?(h=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),u=+u,Gt(u)&&(u=p?0:a.length-1),u<0&&(u=a.length+u),u>=a.length){if(p)return-1;u=a.length-1}else if(u<0)if(p)u=0;else return-1;if(typeof s=="string"&&(s=c.from(s,h)),c.isBuffer(s))return s.length===0?-1:we(a,s,u,h,p);if(typeof s=="number")return s=s&255,typeof Uint8Array.prototype.indexOf=="function"?p?Uint8Array.prototype.indexOf.call(a,s,u):Uint8Array.prototype.lastIndexOf.call(a,s,u):we(a,[s],u,h,p);throw new TypeError("val must be string, number or Buffer")}function we(a,s,u,h,p){let m=1,v=a.length,P=s.length;if(h!==void 0&&(h=String(h).toLowerCase(),h==="ucs2"||h==="ucs-2"||h==="utf16le"||h==="utf-16le")){if(a.length<2||s.length<2)return-1;m=2,v/=2,P/=2,u/=2}function re(W,H){return m===1?W[H]:W.readUInt16BE(H*m)}let V;if(p){let W=-1;for(V=u;V<v;V++)if(re(a,V)===re(s,W===-1?0:V-W)){if(W===-1&&(W=V),V-W+1===P)return W*m}else W!==-1&&(V-=V-W),W=-1}else for(u+P>v&&(u=v-P),V=u;V>=0;V--){let W=!0;for(let H=0;H<P;H++)if(re(a,V+H)!==re(s,H)){W=!1;break}if(W)return V}return-1}c.prototype.includes=function(a,s,u){return this.indexOf(a,s,u)!==-1},c.prototype.indexOf=function(a,s,u){return J(this,a,s,u,!0)},c.prototype.lastIndexOf=function(a,s,u){return J(this,a,s,u,!1)};function wt(a,s,u,h){u=Number(u)||0;let p=a.length-u;h?(h=Number(h),h>p&&(h=p)):h=p;let m=s.length;h>m/2&&(h=m/2);let v;for(v=0;v<h;++v){let P=parseInt(s.substr(v*2,2),16);if(Gt(P))return v;a[u+v]=P}return v}function dt(a,s,u,h){return _t(Wt(s,a.length-u),a,u,h)}function Br(a,s,u,h){return _t(qi(s),a,u,h)}function ar(a,s,u,h){return _t(zr(s),a,u,h)}function Mr(a,s,u,h){return _t(Hi(s,a.length-u),a,u,h)}c.prototype.write=function(a,s,u,h){if(s===void 0)h="utf8",u=this.length,s=0;else if(u===void 0&&typeof s=="string")h=s,u=this.length,s=0;else if(isFinite(s))s=s>>>0,isFinite(u)?(u=u>>>0,h===void 0&&(h="utf8")):(h=u,u=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let p=this.length-s;if((u===void 0||u>p)&&(u=p),a.length>0&&(u<0||s<0)||s>this.length)throw new RangeError("Attempt to write outside buffer bounds");h||(h="utf8");let m=!1;for(;;)switch(h){case"hex":return wt(this,a,s,u);case"utf8":case"utf-8":return dt(this,a,s,u);case"ascii":case"latin1":case"binary":return Br(this,a,s,u);case"base64":return ar(this,a,s,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Mr(this,a,s,u);default:if(m)throw new TypeError("Unknown encoding: "+h);h=(""+h).toLowerCase(),m=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ji(a,s,u){return s===0&&u===a.length?e.fromByteArray(a):e.fromByteArray(a.slice(s,u))}function Lr(a,s,u){u=Math.min(a.length,u);let h=[],p=s;for(;p<u;){let m=a[p],v=null,P=m>239?4:m>223?3:m>191?2:1;if(p+P<=u){let re,V,W,H;switch(P){case 1:m<128&&(v=m);break;case 2:re=a[p+1],(re&192)===128&&(H=(m&31)<<6|re&63,H>127&&(v=H));break;case 3:re=a[p+1],V=a[p+2],(re&192)===128&&(V&192)===128&&(H=(m&15)<<12|(re&63)<<6|V&63,H>2047&&(H<55296||H>57343)&&(v=H));break;case 4:re=a[p+1],V=a[p+2],W=a[p+3],(re&192)===128&&(V&192)===128&&(W&192)===128&&(H=(m&15)<<18|(re&63)<<12|(V&63)<<6|W&63,H>65535&&H<1114112&&(v=H))}}v===null?(v=65533,P=1):v>65535&&(v-=65536,h.push(v>>>10&1023|55296),v=56320|v&1023),h.push(v),p+=P}return Fi(h)}var Ur=4096;function Fi(a){let s=a.length;if(s<=Ur)return String.fromCharCode.apply(String,a);let u="",h=0;for(;h<s;)u+=String.fromCharCode.apply(String,a.slice(h,h+=Ur));return u}function Zi(a,s,u){let h="";u=Math.min(a.length,u);for(let p=s;p<u;++p)h+=String.fromCharCode(a[p]&127);return h}function $i(a,s,u){let h="";u=Math.min(a.length,u);for(let p=s;p<u;++p)h+=String.fromCharCode(a[p]);return h}function Di(a,s,u){let h=a.length;(!s||s<0)&&(s=0),(!u||u<0||u>h)&&(u=h);let p="";for(let m=s;m<u;++m)p+=Ki[a[m]];return p}function zi(a,s,u){let h=a.slice(s,u),p="";for(let m=0;m<h.length-1;m+=2)p+=String.fromCharCode(h[m]+h[m+1]*256);return p}c.prototype.slice=function(a,s){let u=this.length;a=~~a,s=s===void 0?u:~~s,a<0?(a+=u,a<0&&(a=0)):a>u&&(a=u),s<0?(s+=u,s<0&&(s=0)):s>u&&(s=u),s<a&&(s=a);let h=this.subarray(a,s);return Object.setPrototypeOf(h,c.prototype),h};function ae(a,s,u){if(a%1!==0||a<0)throw new RangeError("offset is not uint");if(a+s>u)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(a,s,u){a=a>>>0,s=s>>>0,u||ae(a,s,this.length);let h=this[a],p=1,m=0;for(;++m<s&&(p*=256);)h+=this[a+m]*p;return h},c.prototype.readUintBE=c.prototype.readUIntBE=function(a,s,u){a=a>>>0,s=s>>>0,u||ae(a,s,this.length);let h=this[a+--s],p=1;for(;s>0&&(p*=256);)h+=this[a+--s]*p;return h},c.prototype.readUint8=c.prototype.readUInt8=function(a,s){return a=a>>>0,s||ae(a,1,this.length),this[a]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(a,s){return a=a>>>0,s||ae(a,2,this.length),this[a]|this[a+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(a,s){return a=a>>>0,s||ae(a,2,this.length),this[a]<<8|this[a+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(a,s){return a=a>>>0,s||ae(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+this[a+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(a,s){return a=a>>>0,s||ae(a,4,this.length),this[a]*16777216+(this[a+1]<<16|this[a+2]<<8|this[a+3])},c.prototype.readBigUInt64LE=Oe(function(a){a=a>>>0,$e(a,"offset");let s=this[a],u=this[a+7];(s===void 0||u===void 0)&&Ye(a,this.length-8);let h=s+this[++a]*2**8+this[++a]*2**16+this[++a]*2**24,p=this[++a]+this[++a]*2**8+this[++a]*2**16+u*2**24;return BigInt(h)+(BigInt(p)<<BigInt(32))}),c.prototype.readBigUInt64BE=Oe(function(a){a=a>>>0,$e(a,"offset");let s=this[a],u=this[a+7];(s===void 0||u===void 0)&&Ye(a,this.length-8);let h=s*2**24+this[++a]*2**16+this[++a]*2**8+this[++a],p=this[++a]*2**24+this[++a]*2**16+this[++a]*2**8+u;return(BigInt(h)<<BigInt(32))+BigInt(p)}),c.prototype.readIntLE=function(a,s,u){a=a>>>0,s=s>>>0,u||ae(a,s,this.length);let h=this[a],p=1,m=0;for(;++m<s&&(p*=256);)h+=this[a+m]*p;return p*=128,h>=p&&(h-=Math.pow(2,8*s)),h},c.prototype.readIntBE=function(a,s,u){a=a>>>0,s=s>>>0,u||ae(a,s,this.length);let h=s,p=1,m=this[a+--h];for(;h>0&&(p*=256);)m+=this[a+--h]*p;return p*=128,m>=p&&(m-=Math.pow(2,8*s)),m},c.prototype.readInt8=function(a,s){return a=a>>>0,s||ae(a,1,this.length),this[a]&128?(255-this[a]+1)*-1:this[a]},c.prototype.readInt16LE=function(a,s){a=a>>>0,s||ae(a,2,this.length);let u=this[a]|this[a+1]<<8;return u&32768?u|4294901760:u},c.prototype.readInt16BE=function(a,s){a=a>>>0,s||ae(a,2,this.length);let u=this[a+1]|this[a]<<8;return u&32768?u|4294901760:u},c.prototype.readInt32LE=function(a,s){return a=a>>>0,s||ae(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},c.prototype.readInt32BE=function(a,s){return a=a>>>0,s||ae(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},c.prototype.readBigInt64LE=Oe(function(a){a=a>>>0,$e(a,"offset");let s=this[a],u=this[a+7];(s===void 0||u===void 0)&&Ye(a,this.length-8);let h=this[a+4]+this[a+5]*2**8+this[a+6]*2**16+(u<<24);return(BigInt(h)<<BigInt(32))+BigInt(s+this[++a]*2**8+this[++a]*2**16+this[++a]*2**24)}),c.prototype.readBigInt64BE=Oe(function(a){a=a>>>0,$e(a,"offset");let s=this[a],u=this[a+7];(s===void 0||u===void 0)&&Ye(a,this.length-8);let h=(s<<24)+this[++a]*2**16+this[++a]*2**8+this[++a];return(BigInt(h)<<BigInt(32))+BigInt(this[++a]*2**24+this[++a]*2**16+this[++a]*2**8+u)}),c.prototype.readFloatLE=function(a,s){return a=a>>>0,s||ae(a,4,this.length),r.read(this,a,!0,23,4)},c.prototype.readFloatBE=function(a,s){return a=a>>>0,s||ae(a,4,this.length),r.read(this,a,!1,23,4)},c.prototype.readDoubleLE=function(a,s){return a=a>>>0,s||ae(a,8,this.length),r.read(this,a,!0,52,8)},c.prototype.readDoubleBE=function(a,s){return a=a>>>0,s||ae(a,8,this.length),r.read(this,a,!1,52,8)};function de(a,s,u,h,p,m){if(!c.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>p||s<m)throw new RangeError('"value" argument is out of bounds');if(u+h>a.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(a,s,u,h){if(a=+a,s=s>>>0,u=u>>>0,!h){let v=Math.pow(2,8*u)-1;de(this,a,s,u,v,0)}let p=1,m=0;for(this[s]=a&255;++m<u&&(p*=256);)this[s+m]=a/p&255;return s+u},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(a,s,u,h){if(a=+a,s=s>>>0,u=u>>>0,!h){let v=Math.pow(2,8*u)-1;de(this,a,s,u,v,0)}let p=u-1,m=1;for(this[s+p]=a&255;--p>=0&&(m*=256);)this[s+p]=a/m&255;return s+u},c.prototype.writeUint8=c.prototype.writeUInt8=function(a,s,u){return a=+a,s=s>>>0,u||de(this,a,s,1,255,0),this[s]=a&255,s+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(a,s,u){return a=+a,s=s>>>0,u||de(this,a,s,2,65535,0),this[s]=a&255,this[s+1]=a>>>8,s+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(a,s,u){return a=+a,s=s>>>0,u||de(this,a,s,2,65535,0),this[s]=a>>>8,this[s+1]=a&255,s+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(a,s,u){return a=+a,s=s>>>0,u||de(this,a,s,4,4294967295,0),this[s+3]=a>>>24,this[s+2]=a>>>16,this[s+1]=a>>>8,this[s]=a&255,s+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(a,s,u){return a=+a,s=s>>>0,u||de(this,a,s,4,4294967295,0),this[s]=a>>>24,this[s+1]=a>>>16,this[s+2]=a>>>8,this[s+3]=a&255,s+4};function Nr(a,s,u,h,p){Dr(s,h,p,a,u,7);let m=Number(s&BigInt(4294967295));a[u++]=m,m=m>>8,a[u++]=m,m=m>>8,a[u++]=m,m=m>>8,a[u++]=m;let v=Number(s>>BigInt(32)&BigInt(4294967295));return a[u++]=v,v=v>>8,a[u++]=v,v=v>>8,a[u++]=v,v=v>>8,a[u++]=v,u}function Pr(a,s,u,h,p){Dr(s,h,p,a,u,7);let m=Number(s&BigInt(4294967295));a[u+7]=m,m=m>>8,a[u+6]=m,m=m>>8,a[u+5]=m,m=m>>8,a[u+4]=m;let v=Number(s>>BigInt(32)&BigInt(4294967295));return a[u+3]=v,v=v>>8,a[u+2]=v,v=v>>8,a[u+1]=v,v=v>>8,a[u]=v,u+8}c.prototype.writeBigUInt64LE=Oe(function(a,s=0){return Nr(this,a,s,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=Oe(function(a,s=0){return Pr(this,a,s,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(a,s,u,h){if(a=+a,s=s>>>0,!h){let P=Math.pow(2,8*u-1);de(this,a,s,u,P-1,-P)}let p=0,m=1,v=0;for(this[s]=a&255;++p<u&&(m*=256);)a<0&&v===0&&this[s+p-1]!==0&&(v=1),this[s+p]=(a/m>>0)-v&255;return s+u},c.prototype.writeIntBE=function(a,s,u,h){if(a=+a,s=s>>>0,!h){let P=Math.pow(2,8*u-1);de(this,a,s,u,P-1,-P)}let p=u-1,m=1,v=0;for(this[s+p]=a&255;--p>=0&&(m*=256);)a<0&&v===0&&this[s+p+1]!==0&&(v=1),this[s+p]=(a/m>>0)-v&255;return s+u},c.prototype.writeInt8=function(a,s,u){return a=+a,s=s>>>0,u||de(this,a,s,1,127,-128),a<0&&(a=255+a+1),this[s]=a&255,s+1},c.prototype.writeInt16LE=function(a,s,u){return a=+a,s=s>>>0,u||de(this,a,s,2,32767,-32768),this[s]=a&255,this[s+1]=a>>>8,s+2},c.prototype.writeInt16BE=function(a,s,u){return a=+a,s=s>>>0,u||de(this,a,s,2,32767,-32768),this[s]=a>>>8,this[s+1]=a&255,s+2},c.prototype.writeInt32LE=function(a,s,u){return a=+a,s=s>>>0,u||de(this,a,s,4,2147483647,-2147483648),this[s]=a&255,this[s+1]=a>>>8,this[s+2]=a>>>16,this[s+3]=a>>>24,s+4},c.prototype.writeInt32BE=function(a,s,u){return a=+a,s=s>>>0,u||de(this,a,s,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),this[s]=a>>>24,this[s+1]=a>>>16,this[s+2]=a>>>8,this[s+3]=a&255,s+4},c.prototype.writeBigInt64LE=Oe(function(a,s=0){return Nr(this,a,s,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=Oe(function(a,s=0){return Pr(this,a,s,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function jr(a,s,u,h,p,m){if(u+h>a.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function Fr(a,s,u,h,p){return s=+s,u=u>>>0,p||jr(a,s,u,4),r.write(a,s,u,h,23,4),u+4}c.prototype.writeFloatLE=function(a,s,u){return Fr(this,a,s,!0,u)},c.prototype.writeFloatBE=function(a,s,u){return Fr(this,a,s,!1,u)};function Zr(a,s,u,h,p){return s=+s,u=u>>>0,p||jr(a,s,u,8),r.write(a,s,u,h,52,8),u+8}c.prototype.writeDoubleLE=function(a,s,u){return Zr(this,a,s,!0,u)},c.prototype.writeDoubleBE=function(a,s,u){return Zr(this,a,s,!1,u)},c.prototype.copy=function(a,s,u,h){if(!c.isBuffer(a))throw new TypeError("argument should be a Buffer");if(u||(u=0),!h&&h!==0&&(h=this.length),s>=a.length&&(s=a.length),s||(s=0),h>0&&h<u&&(h=u),h===u||a.length===0||this.length===0)return 0;if(s<0)throw new RangeError("targetStart out of bounds");if(u<0||u>=this.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("sourceEnd out of bounds");h>this.length&&(h=this.length),a.length-s<h-u&&(h=a.length-s+u);let p=h-u;return this===a&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(s,u,h):Uint8Array.prototype.set.call(a,this.subarray(u,h),s),p},c.prototype.fill=function(a,s,u,h){if(typeof a=="string"){if(typeof s=="string"?(h=s,s=0,u=this.length):typeof u=="string"&&(h=u,u=this.length),h!==void 0&&typeof h!="string")throw new TypeError("encoding must be a string");if(typeof h=="string"&&!c.isEncoding(h))throw new TypeError("Unknown encoding: "+h);if(a.length===1){let m=a.charCodeAt(0);(h==="utf8"&&m<128||h==="latin1")&&(a=m)}}else typeof a=="number"?a=a&255:typeof a=="boolean"&&(a=Number(a));if(s<0||this.length<s||this.length<u)throw new RangeError("Out of range index");if(u<=s)return this;s=s>>>0,u=u===void 0?this.length:u>>>0,a||(a=0);let p;if(typeof a=="number")for(p=s;p<u;++p)this[p]=a;else{let m=c.isBuffer(a)?a:c.from(a,h),v=m.length;if(v===0)throw new TypeError('The value "'+a+'" is invalid for argument "value"');for(p=0;p<u-s;++p)this[p+s]=m[p%v]}return this};var Ze={};function Vt(a,s,u){Ze[a]=class extends u{constructor(){super(),Object.defineProperty(this,"message",{value:s.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${a}]`,this.stack,delete this.name}get code(){return a}set code(h){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:h,writable:!0})}toString(){return`${this.name} [${a}]: ${this.message}`}}}Vt("ERR_BUFFER_OUT_OF_BOUNDS",function(a){return a?`${a} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Vt("ERR_INVALID_ARG_TYPE",function(a,s){return`The "${a}" argument must be of type number. Received type ${typeof s}`},TypeError),Vt("ERR_OUT_OF_RANGE",function(a,s,u){let h=`The value of "${a}" is out of range.`,p=u;return Number.isInteger(u)&&Math.abs(u)>2**32?p=$r(String(u)):typeof u=="bigint"&&(p=String(u),(u>BigInt(2)**BigInt(32)||u<-(BigInt(2)**BigInt(32)))&&(p=$r(p)),p+="n"),h+=` It must be ${s}. Received ${p}`,h},RangeError);function $r(a){let s="",u=a.length,h=a[0]==="-"?1:0;for(;u>=h+4;u-=3)s=`_${a.slice(u-3,u)}${s}`;return`${a.slice(0,u)}${s}`}function Vi(a,s,u){$e(s,"offset"),(a[s]===void 0||a[s+u]===void 0)&&Ye(s,a.length-(u+1))}function Dr(a,s,u,h,p,m){if(a>u||a<s){let v=typeof s=="bigint"?"n":"",P;throw s===0||s===BigInt(0)?P=`>= 0${v} and < 2${v} ** ${(m+1)*8}${v}`:P=`>= -(2${v} ** ${(m+1)*8-1}${v}) and < 2 ** ${(m+1)*8-1}${v}`,new Ze.ERR_OUT_OF_RANGE("value",P,a)}Vi(h,p,m)}function $e(a,s){if(typeof a!="number")throw new Ze.ERR_INVALID_ARG_TYPE(s,"number",a)}function Ye(a,s,u){throw Math.floor(a)!==a?($e(a,u),new Ze.ERR_OUT_OF_RANGE("offset","an integer",a)):s<0?new Ze.ERR_BUFFER_OUT_OF_BOUNDS:new Ze.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${s}`,a)}var Wi=/[^+/0-9A-Za-z-_]/g;function Gi(a){if(a=a.split("=")[0],a=a.trim().replace(Wi,""),a.length<2)return"";for(;a.length%4!==0;)a=a+"=";return a}function Wt(a,s){s=s||1/0;let u,h=a.length,p=null,m=[];for(let v=0;v<h;++v){if(u=a.charCodeAt(v),u>55295&&u<57344){if(!p){if(u>56319){(s-=3)>-1&&m.push(239,191,189);continue}else if(v+1===h){(s-=3)>-1&&m.push(239,191,189);continue}p=u;continue}if(u<56320){(s-=3)>-1&&m.push(239,191,189),p=u;continue}u=(p-55296<<10|u-56320)+65536}else p&&(s-=3)>-1&&m.push(239,191,189);if(p=null,u<128){if((s-=1)<0)break;m.push(u)}else if(u<2048){if((s-=2)<0)break;m.push(u>>6|192,u&63|128)}else if(u<65536){if((s-=3)<0)break;m.push(u>>12|224,u>>6&63|128,u&63|128)}else if(u<1114112){if((s-=4)<0)break;m.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else throw new Error("Invalid code point")}return m}function qi(a){let s=[];for(let u=0;u<a.length;++u)s.push(a.charCodeAt(u)&255);return s}function Hi(a,s){let u,h,p,m=[];for(let v=0;v<a.length&&!((s-=2)<0);++v)u=a.charCodeAt(v),h=u>>8,p=u%256,m.push(p),m.push(h);return m}function zr(a){return e.toByteArray(Gi(a))}function _t(a,s,u,h){let p;for(p=0;p<h&&!(p+u>=s.length||p>=a.length);++p)s[p+u]=a[p];return p}function _e(a,s){return a instanceof s||a!=null&&a.constructor!=null&&a.constructor.name!=null&&a.constructor.name===s.name}function Gt(a){return a!==a}var Ki=function(){let a="0123456789abcdef",s=new Array(256);for(let u=0;u<16;++u){let h=u*16;for(let p=0;p<16;++p)s[h+p]=a[u]+a[p]}return s}();function Oe(a){return typeof BigInt>"u"?Yi:a}function Yi(){throw new Error("BigInt not supported")}}),Bg=Ot((t,e)=>{typeof window<"u"?(window.global=window,global.fetch=window.fetch,e.exports={Buffer:Ms().Buffer,Crypto:window.crypto}):e.exports={Buffer:Ms().Buffer,Crypto:crypto}}),Bu={};kg(Bu,{AVSCTap:()=>Wn,ArweaveSigner:()=>ua,DataItem:()=>jn,MAX_TAG_BYTES:()=>Pi,MIN_BINARY_SIZE:()=>da,SIG_CONFIG:()=>Cr,SignatureConfig:()=>Ne,Signer:()=>Mu,createData:()=>Pu,deserializeTags:()=>ki,indexToType:()=>ca,serializeTags:()=>la,tagsExceedLimit:()=>Nu});var Mu=class{constructor(){D(this,"signer");D(this,"publicKey");D(this,"signatureType");D(this,"signatureLength");D(this,"ownerLength");D(this,"pem")}static verify(t,e,r,n){throw new Error("You must implement verify method on child")}},Mg=sr(oa()),ot=sr(Iu());async function Lu(t){if(Array.isArray(t)){let i=(0,ot.concatBuffers)([(0,ot.stringToBuffer)("list"),(0,ot.stringToBuffer)(t.length.toString())]);return await Uu(t,await At().hash(i,"SHA-384"))}let e=t,r=(0,ot.concatBuffers)([(0,ot.stringToBuffer)("blob"),(0,ot.stringToBuffer)(e.byteLength.toString())]),n=(0,ot.concatBuffers)([await At().hash(r,"SHA-384"),await At().hash(e,"SHA-384")]);return await At().hash(n,"SHA-384")}async function Uu(t,e){if(t.length<1)return e;let r=(0,ot.concatBuffers)([e,await Lu(t[0])]),n=await At().hash(r,"SHA-384");return await Uu(t.slice(1),n)}var as=sr(Rg()),Lg=as.default.default?as.default.default:as.default,Ug=class extends Lg{getPublicKey(t){throw new Error("Unimplemented")}},Ng;function At(){return Ng??(Ng=new Ug)}var Ne;(function(t){t[t.ARWEAVE=1]="ARWEAVE",t[t.ED25519=2]="ED25519",t[t.ETHEREUM=3]="ETHEREUM",t[t.SOLANA=4]="SOLANA",t[t.INJECTEDAPTOS=5]="INJECTEDAPTOS",t[t.MULTIAPTOS=6]="MULTIAPTOS",t[t.TYPEDETHEREUM=7]="TYPEDETHEREUM"})(Ne||(Ne={}));var Cr={[Ne.ARWEAVE]:{sigLength:512,pubLength:512,sigName:"arweave"},[Ne.ED25519]:{sigLength:64,pubLength:32,sigName:"ed25519"},[Ne.ETHEREUM]:{sigLength:65,pubLength:65,sigName:"ethereum"},[Ne.SOLANA]:{sigLength:64,pubLength:32,sigName:"solana"},[Ne.INJECTEDAPTOS]:{sigLength:64,pubLength:32,sigName:"injectedAptos"},[Ne.MULTIAPTOS]:{sigLength:64*32+4,pubLength:32*32+1,sigName:"multiAptos"},[Ne.TYPEDETHEREUM]:{sigLength:65,pubLength:42,sigName:"typedEthereum"}},ua=class{constructor(t){D(this,"signatureType",1);D(this,"ownerLength",Cr[1].pubLength);D(this,"signatureLength",Cr[1].sigLength);D(this,"jwk");D(this,"pk");this.pk=t.n,this.jwk=t}get publicKey(){return Mg.default.toBuffer(this.pk)}sign(t){return At().sign(this.jwk,t)}static async verify(t,e,r){return await At().verify(t,e,r)}},ca={1:ua},ht=sr(oa());async function Ls(t){return Lu([(0,ot.stringToBuffer)("dataitem"),(0,ot.stringToBuffer)("1"),(0,ot.stringToBuffer)(t.signatureType.toString()),t.rawOwner,t.rawTarget,t.rawAnchor,t.rawTags,t.rawData])}async function Pg(t,e){let r=await Ls(t),n=await e.sign(r),i=await At().hash(n);return{signature:Buffer.from(n),id:Buffer.from(i)}}async function jg(t,e){let{signature:r,id:n}=await Pg(t,e);return t.getRaw().set(r,2),n}var Wn=class{constructor(t=Buffer.alloc(Pi),e=0){D(this,"buf");D(this,"pos");this.buf=t,this.pos=e}writeTags(t){if(!Array.isArray(t))throw new Error("input must be array");let e=t.length,r;if(e)for(this.writeLong(e),r=0;r<e;r++){let n=t[r];if((n==null?void 0:n.name)===void 0||(n==null?void 0:n.value)===void 0)throw new Error(`Invalid tag format for ${n}, expected {name:string, value: string}`);this.writeString(n.name),this.writeString(n.value)}this.writeLong(0)}toBuffer(){let t=Buffer.alloc(this.pos);if(this.pos>this.buf.length)throw new Error(`Too many tag bytes (${this.pos} > ${this.buf.length})`);return this.buf.copy(t,0,0,this.pos),t}tagsExceedLimit(){return this.pos>this.buf.length}writeLong(t){let e=this.buf,r,n;if(t>=-1073741824&&t<1073741824){n=t>=0?t<<1:~t<<1|1;do e[this.pos]=n&127,n>>=7;while(n&&(e[this.pos++]|=128))}else{r=t>=0?t*2:-t*2-1;do e[this.pos]=r&127,r/=128;while(r>=1&&(e[this.pos++]|=128))}this.pos++,this.buf=e}writeString(t){let e=Buffer.byteLength(t),r=this.buf;this.writeLong(e);let n=this.pos;if(this.pos+=e,!(this.pos>r.length)){if(e>64)this.buf.write(t,this.pos-e,e,"utf8");else{let i,o,l,c;for(i=0,o=e;i<o;i++)l=t.charCodeAt(i),l<128?r[n++]=l:l<2048?(r[n++]=l>>6|192,r[n++]=l&63|128):(l&64512)===55296&&((c=t.charCodeAt(i+1))&64512)===56320?(l=65536+((l&1023)<<10)+(c&1023),i++,r[n++]=l>>18|240,r[n++]=l>>12&63|128,r[n++]=l>>6&63|128,r[n++]=l&63|128):(r[n++]=l>>12|224,r[n++]=l>>6&63|128,r[n++]=l&63|128)}this.buf=r}}readLong(){let t=0,e=0,r=this.buf,n,i,o,l;do n=r[this.pos++],i=n&128,t|=(n&127)<<e,e+=7;while(i&&e<28);if(i){o=t,l=268435456;do n=r[this.pos++],o+=(n&127)*l,l*=128;while(n&128);return(o%2?-(o+1):o)/2}return t>>1^-(t&1)}skipLong(){let t=this.buf;for(;t[this.pos++]&128;);}readTags(){let t=[],e;for(;e=this.readLong();)for(e<0&&(e=-e,this.skipLong());e--;){let r=this.readString(),n=this.readString();t.push({name:r,value:n})}return t}readString(){let t=this.readLong(),e=this.pos,r=this.buf;if(this.pos+=t,!(this.pos>r.length))return this.buf.slice(e,e+t).toString()}};function la(t){let e=new Wn;return e.writeTags(t),e.toBuffer()}function Nu(t){let e=new Wn;return e.writeTags(t),e.tagsExceedLimit()}function ki(t){return new Wn(t).readTags()}function Ct(t){let e=0;for(let r=t.length-1;r>=0;r--)e=e*256+t[r];return e}function Fg(t){if(t>29)throw new Error("Short too long");let e=[0,0];for(let r=0;r<e.length;r++){let n=t&255;e[r]=n,t=(t-n)/256}return Uint8Array.from(e)}function Da(t){let e=[0,0,0,0,0,0,0,0];for(let r=0;r<e.length;r++){let n=t&255;e[r]=n,t=(t-n)/256}return Uint8Array.from(e)}var Zg=sr(Bg()),ur=sr(Ms()),Pi=4096,da=80,jn=class{constructor(t){D(this,"binary");D(this,"_id");this.binary=t}static isDataItem(t){return t.binary!==void 0}get signatureType(){let t=Ct(this.binary.subarray(0,2));if((Ne==null?void 0:Ne[t])!==void 0)return t;throw new Error("Unknown signature type: "+t)}async isValid(){return jn.verify(this.binary)}get id(){return(async()=>ht.default.encode(await this.rawId))()}set id(t){this._id=ht.default.toBuffer(t)}get rawId(){return(async()=>ur.Buffer.from(await Zg.Crypto.subtle.digest("SHA-256",this.rawSignature)))()}set rawId(t){this._id=t}get rawSignature(){return this.binary.subarray(2,2+this.signatureLength)}get signature(){return ht.default.encode(this.rawSignature)}set rawOwner(t){if(t.byteLength!=this.ownerLength)throw new Error(`Expected raw owner (pubkey) to be ${this.ownerLength} bytes, got ${t.byteLength} bytes.`);this.binary.set(t,2+this.signatureLength)}get rawOwner(){return this.binary.subarray(2+this.signatureLength,2+this.signatureLength+this.ownerLength)}get signatureLength(){return Cr[this.signatureType].sigLength}get owner(){return ht.default.encode(this.rawOwner)}get ownerLength(){return Cr[this.signatureType].pubLength}get rawTarget(){let t=this.getTargetStart();return this.binary[t]==1?this.binary.subarray(t+1,t+33):ur.Buffer.alloc(0)}get target(){return ht.default.encode(this.rawTarget)}get rawAnchor(){let t=this.getAnchorStart();return this.binary[t]==1?this.binary.subarray(t+1,t+33):ur.Buffer.alloc(0)}get anchor(){return this.rawAnchor.toString()}get rawTags(){let t=this.getTagsStart(),e=Ct(this.binary.subarray(t+8,t+16));return this.binary.subarray(t+16,t+16+e)}get tags(){let t=this.getTagsStart();if(Ct(this.binary.subarray(t,t+8))==0)return[];let e=Ct(this.binary.subarray(t+8,t+16));return ki(ur.Buffer.from(this.binary.subarray(t+16,t+16+e)))}get tagsB64Url(){return this.tags.map(t=>({name:ht.default.encode(t.name),value:ht.default.encode(t.value)}))}getStartOfData(){let t=this.getTagsStart(),e=this.binary.subarray(t+8,t+16),r=Ct(e);return t+16+r}get rawData(){let t=this.getTagsStart(),e=this.binary.subarray(t+8,t+16),r=Ct(e),n=t+16+r;return this.binary.subarray(n,this.binary.length)}get data(){return ht.default.encode(this.rawData)}getRaw(){return this.binary}async sign(t){return this._id=await jg(this,t),this.rawId}async setSignature(t){this.binary.set(t,2),this._id=ur.Buffer.from(await At().hash(t))}isSigned(){var t;return(((t=this._id)==null?void 0:t.length)??0)>0}toJSON(){return{signature:this.signature,owner:this.owner,target:this.target,tags:this.tags.map(t=>({name:ht.default.encode(t.name),value:ht.default.encode(t.value)})),data:this.data}}static async verify(t){if(t.byteLength<da)return!1;let e=new jn(t),r=e.signatureType,n=e.getTagsStart(),i=Ct(t.subarray(n,n+8)),o=t.subarray(n+8,n+16),l=Ct(o);if(l>Pi)return!1;if(i>0)try{if(ki(ur.Buffer.from(t.subarray(n+16,n+16+l))).length!==i)return!1}catch{return!1}let c=ca[r],d=await Ls(e);return await c.verify(e.rawOwner,d,e.rawSignature)}async getSignatureData(){return Ls(this)}getTagsStart(){let t=this.getTargetStart(),e=this.binary[t]==1,r=t+(e?33:1),n=this.binary[r]==1;return r+=n?33:1,r}getTargetStart(){return 2+this.signatureLength+this.ownerLength}getAnchorStart(){let t=this.getTargetStart()+1,e=this.binary[this.getTargetStart()]==1;return t+=e?32:0,t}},$g=sr(oa());function Pu(t,e,r){var R,j;let n=e.publicKey,i=r!=null&&r.target?$g.default.toBuffer(r.target):null,o=1+((i==null?void 0:i.byteLength)??0),l=r!=null&&r.anchor?Buffer.from(r.anchor):null,c=1+((l==null?void 0:l.byteLength)??0),d=(((R=r==null?void 0:r.tags)==null?void 0:R.length)??0)>0?la(r.tags):null,f=16+(d?d.byteLength:0),y=Buffer.from(t),w=y.byteLength,b=2+e.signatureLength+e.ownerLength+o+c+f+w,E=Buffer.alloc(b);if(E.set(Fg(e.signatureType),0),E.set(new Uint8Array(e.signatureLength).fill(0),2),n.byteLength!==e.ownerLength)throw new Error(`Owner must be ${e.ownerLength} bytes, but was incorrectly ${n.byteLength}`);E.set(n,2+e.signatureLength);let _=2+e.signatureLength+e.ownerLength;if(E[_]=i?1:0,i){if(i.byteLength!==32)throw new Error(`Target must be 32 bytes but was incorrectly ${i.byteLength}`);E.set(i,_+1)}let S=_+o,k=S+1;if(E[S]=l?1:0,l){if(k+=l.byteLength,l.byteLength!==32)throw new Error("Anchor must be 32 bytes");E.set(l,S+1)}E.set(Da(((j=r==null?void 0:r.tags)==null?void 0:j.length)??0),k);let C=Da((d==null?void 0:d.byteLength)??0);E.set(C,k+8),d&&E.set(d,k+16);let U=k+f;return E.set(y,U),new jn(E)}var ha={...Bu};globalThis.arbundles??(globalThis.arbundles=ha);var Dg=ha,zg=ha;globalThis.Buffer||(globalThis.Buffer=Ou.Buffer);var{DataItem:Vg}=Cu;function Wg(t){return async({data:r,tags:n,target:i,anchor:o,createDataItem:l=c=>new Vg(c)})=>{const c=await t.signDataItem({data:r,tags:n,target:i,anchor:o}),d=l(Ou.Buffer.from(c));return{id:await d.id,raw:await d.getRaw()}}}var Gg=globalThis.GATEWAY_URL||void 0,qg=globalThis.MU_URL||void 0,Hg=globalThis.CU_URL||void 0,Kg=globalThis.GRAPHQL_URL||void 0,Yg=globalThis.GRAPHQL_MAX_RETRIES||void 0,Qg=globalThis.GRAPHQL_RETRY_BACKOFF||void 0,{result:ny,results:iy,message:ju,spawn:sy,monitor:ay,unmonitor:oy,dryrun:uy,assign:cy}=_g({GATEWAY_URL:Gg,MU_URL:qg,CU_URL:Hg,GRAPHQL_URL:Kg,GRAPHQL_MAX_RETRIES:Yg,GRAPHQL_RETRY_BACKOFF:Qg}),Xg=Tu.createDataItemSigner;/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

warp-arbundles/build/web/esm/bundle.js:
  (*! Bundled license information:
  
  ieee754/index.js:
    (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  
  buffer/index.js:
    (*!
     * The buffer module from node.js, for the browser.
     *
     * @author   Feross Aboukhadijeh <https://feross.org>
     * @license  MIT
     *)
  *)
*/const Fu="nMM8c6RbcZ-ZXwhM2jVPOfDpT2cGTu-JHT7fFx05_iQ",Jg="https://metapaths.ar.io";var Us;const ey="",Zu=Xg(JSON.parse(ey));window.addEventListener("load",async()=>{var y,w;const t=performance.getEntriesByType("navigation")[0],e=t.domContentLoadedEventEnd-t.startTime;console.log(`Page Load Time: ${e}ms`);const r=Date.now(),n=Hu.getParser(window.navigator.userAgent),i=Intl.DateTimeFormat().resolvedOptions().timeZone,o=[];window.Arweave&&o.push("arweave"),window.solana&&o.push("solana"),window.ethereum&&o.push("ethereum"),console.log(`Wallet: ${o}`);const c=(await(await fetch("https://api.ipify.org?format=json")).json()).ip||"",d=((y=document.querySelector('meta[name="uuid"]'))==null?void 0:y.getAttribute("content"))||"";Us=Ju();const f=((w=document.querySelector('meta[name="arns_name"]'))==null?void 0:w.getAttribute("content"))||"";await ju({signer:Zu,process:Fu,tags:[{name:"Action",value:"register_view"},{name:"id",value:d},{name:"pageid",value:Us},{name:"date",value:r.toString()},{name:"browser",value:n.getBrowserName()},{name:"os",value:n.getOSName()},{name:"ip",value:c},{name:"timezone",value:i},{name:"loadtime",value:e},{name:"wallet",value:o.join(",")},{name:"name",value:f}]})});document.addEventListener("DOMContentLoaded",async()=>{new Ku,document.addEventListener("click",async t=>{if(t.target&&(t.target.tagName==="BUTTON"&&(t.target.id==="create"&&window.open(Jg,"_blank"),t.target.id),t.target.closest("a"))){const e=t.target.closest("a");console.log(e);const r=e.getAttribute("id")||"",n=e.getAttribute("data-name")||"";await ju({process:Fu,signer:Zu,tags:[{name:"Action",value:"register_click"},{name:"id",value:r},{name:"viewid",value:Us},{name:"date",value:Date.now().toString()},{name:"name",value:n}]})}})});
